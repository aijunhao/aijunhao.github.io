<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Android学习笔记——阿里巴巴Android开发手册 | Hello, I&#39;m Junhao Ai.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="版本说明    版本号 制定团队 更新日期 备注     1.0.0 淘宝技术团队等 2018.2.28 正式版，首次公开    本手册以开发者为中心视角分为Java 语言规范（遵循《阿里巴巴Java 开发手册》），Android 资源文件命名与使用，Android 基本组件，UI 与布局，进程、线程与消息通信， 文件与数据库，Bitmap、Drawable 与动画，安全，其他等九大部分，根据约">
<meta name="keywords" content="Android">
<meta property="og:type" content="article">
<meta property="og:title" content="Android学习笔记——阿里巴巴Android开发手册">
<meta property="og:url" content="http://yoursite.com/2018/09/10/Android学习笔记——阿里巴巴Android开发手册/index.html">
<meta property="og:site_name" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:description" content="版本说明    版本号 制定团队 更新日期 备注     1.0.0 淘宝技术团队等 2018.2.28 正式版，首次公开    本手册以开发者为中心视角分为Java 语言规范（遵循《阿里巴巴Java 开发手册》），Android 资源文件命名与使用，Android 基本组件，UI 与布局，进程、线程与消息通信， 文件与数据库，Bitmap、Drawable 与动画，安全，其他等九大部分，根据约">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2018/09/10/Android学习笔记——阿里巴巴Android开发手册/阿里巴巴Android开发手册.PNG">
<meta property="og:updated_time" content="2018-09-12T10:31:06.024Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android学习笔记——阿里巴巴Android开发手册">
<meta name="twitter:description" content="版本说明    版本号 制定团队 更新日期 备注     1.0.0 淘宝技术团队等 2018.2.28 正式版，首次公开    本手册以开发者为中心视角分为Java 语言规范（遵循《阿里巴巴Java 开发手册》），Android 资源文件命名与使用，Android 基本组件，UI 与布局，进程、线程与消息通信， 文件与数据库，Bitmap、Drawable 与动画，安全，其他等九大部分，根据约">
<meta name="twitter:image" content="http://yoursite.com/2018/09/10/Android学习笔记——阿里巴巴Android开发手册/阿里巴巴Android开发手册.PNG">
  
    <link rel="alternate" href="/atom.xml" title="Hello, I&#39;m Junhao Ai." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hello, I&#39;m Junhao Ai.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Android学习笔记——阿里巴巴Android开发手册" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/10/Android学习笔记——阿里巴巴Android开发手册/" class="article-date">
  <time datetime="2018-09-10T15:10:56.000Z" itemprop="datePublished">2018-09-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Android学习笔记——阿里巴巴Android开发手册
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/2018/09/10/Android学习笔记——阿里巴巴Android开发手册/阿里巴巴Android开发手册.PNG" alt=""></p>
<p>版本说明</p>
<table>
<thead>
<tr>
<th>版本号</th>
<th>制定团队</th>
<th>更新日期</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0.0</td>
<td>淘宝技术团队等</td>
<td>2018.2.28</td>
<td>正式版，首次公开</td>
</tr>
</tbody>
</table>
<p>本手册以开发者为中心视角分为Java 语言规范（遵循《阿里巴巴Java 开发手册》），<br>Android 资源文件命名与使用，Android 基本组件，UI 与布局，进程、线程与消息通信， 文件与数据库，Bitmap、Drawable 与动画，安全，其他等九大部分，根据约束力强弱， 规约依次分为强制、推荐、参考三大类：</p>
<ul>
<li>【强制】必须遵守，违反本约定或将会引起严重的后果；</li>
<li>【推荐】尽量遵守，长期遵守有助于系统稳定性和合作效率的提升；</li>
<li>【参考】充分理解，技术意识的引导，是个人学习、团队沟通、项目合作的方向。</li>
</ul>
<p>对于规约条目的延伸信息中，“说明”对内容做了适当扩展和解释；“正例”提倡什么样的编码和实现方式；“反例”说明需要提防的雷区，以及错误案例。</p>
<hr>
<h2 id="一、Java-语言规范"><a href="#一、Java-语言规范" class="headerlink" title="一、Java 语言规范"></a>一、Java 语言规范</h2><p>遵循《阿里巴巴 Java 开发手册》<br>手册下载地址：<a href="https://yq.aliyun.com/articles/69327" target="_blank" rel="noopener">https://yq.aliyun.com/articles/69327</a></p>
<hr>
<h2 id="二、Android-资源文件命名与使用"><a href="#二、Android-资源文件命名与使用" class="headerlink" title="二、Android 资源文件命名与使用"></a>二、Android 资源文件命名与使用</h2><ol>
<li><p>【推荐】资源文件需带模块前缀。</p>
</li>
<li><p>【推荐】layout 文件的命名方式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Activity 的 layout 以 module_activity 开头</span><br><span class="line">Fragment 的 layout 以 module_fragment 开头</span><br><span class="line">Dialog 的 layout 以 module_dialog 开头</span><br><span class="line">include 的 layout 以 module_include 开头</span><br><span class="line">ListView 的行 layout 以 module_list_item 开头</span><br><span class="line">RecyclerView 的 item layout 以 module_recycle_item 开头</span><br><span class="line">GridView 的行 layout 以 module_grid_item 开头</span><br></pre></td></tr></table></figure>
</li>
<li><p>【推荐】drawable 资源名称以小写单词+下划线的方式命名，根据分辨率不同存放在不同的 drawable 目录下，建议只使用一套,例如 drawable-xhdpi。采用规则如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">模块名_业务功能描述_控件描述_控件状态限定词</span><br><span class="line"></span><br><span class="line">如：module_login_btn_pressed, module_tabs_icon_home_normal</span><br></pre></td></tr></table></figure>
</li>
<li><p>【推荐】anim 资源名称以小写单词+下划线的方式命名，采用以下规则：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">模块名_逻辑名称_[方向|序号]</span><br><span class="line"></span><br><span class="line">tween 动画资源：尽可能以通用的动画名称命名。</span><br><span class="line">如 module_fade_in , module_fade_out , module_push_down_in (动画+方向)；</span><br><span class="line"></span><br><span class="line">frame 动画资源：尽可能以模 块+功能命名+序号。</span><br><span class="line">如：module_loading_grey_001</span><br></pre></td></tr></table></figure>
</li>
<li><p>【推荐】color 资源使用#AARRGGBB 格式，写入 module_colors.xml 文件中，命名格式采用以下规则：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">模块名_逻辑名称_颜色</span><br><span class="line"></span><br><span class="line">如：&lt;color name=&quot;module_btn_bg_color&quot;&gt;#33b5e5e5&lt;/color&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>6.【推荐】dimen 资源以小写单词+下划线方式命名，写入 module_dimens.xml 文件中， 采用以下规则：<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">模块名_描述信息</span><br><span class="line"></span><br><span class="line">如：&lt;dimen name=&quot;module_horizontal_line_height&quot;&gt;1dp&lt;/dimen&gt;</span><br></pre></td></tr></table></figure></p>
<ol start="7">
<li>【推荐】style 资源采用小写单词+下划线方式命名，写入 module_styles.xml 文件中， 采用以下规则：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">父 style 名称.当前 style 名称</span><br><span class="line"></span><br><span class="line">如：</span><br><span class="line">&lt;style name=&quot;ParentTheme.ThisActivityTheme&quot;&gt;</span><br><span class="line"></span><br><span class="line">…</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>8.【推荐】string 资源文件或者文本用到字符需要全部写入module_strings.xml 文件中， 字符串以小写单词+下划线的方式命名，采用以下规则：<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">模块名_逻辑名称</span><br><span class="line"></span><br><span class="line">如：moudule_login_tips, module_homepage_notice_desc</span><br></pre></td></tr></table></figure></p>
<ol start="9">
<li>【推荐】Id 资源原则上以驼峰法命名，View 组件的资源 id 需要以 View 的缩写作为前缀。常用缩写表如下：</li>
</ol>
<table>
<thead>
<tr>
<th>控件</th>
<th>缩写</th>
</tr>
</thead>
<tbody>
<tr>
<td>LinearLayout</td>
<td>ll</td>
</tr>
<tr>
<td>RelativeLayout</td>
<td>rl</td>
</tr>
<tr>
<td>ConstraintLayout</td>
<td>cl</td>
</tr>
<tr>
<td>ListView</td>
<td>lv</td>
</tr>
<tr>
<td>ScollView</td>
<td>sv</td>
</tr>
<tr>
<td>TextView</td>
<td>tv</td>
</tr>
<tr>
<td>Button</td>
<td>btn</td>
</tr>
<tr>
<td>ImageView</td>
<td>iv</td>
</tr>
<tr>
<td>CheckBox</td>
<td>cb</td>
</tr>
<tr>
<td>RadioButton</td>
<td>rb</td>
</tr>
<tr>
<td>EditText</td>
<td>et</td>
</tr>
</tbody>
</table>
<p>  其它控件的缩写推荐使用小写字母并用下划线进行分割，例如：<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ProgressBar 对应的缩写为 progress_bar</span><br><span class="line">DatePicker 对应的缩写为 date_picker</span><br></pre></td></tr></table></figure></p>
<ol start="10">
<li>【推荐】大分辨率图片（单维度超过 1000）大分辨率图片建议统一放在 xxhdpi 目录下管理，否则将导致占用内存成倍数增加。</li>
</ol>
<p>说明：<br>为了支持多种屏幕尺寸和密度，Android 为多种屏幕提供不同的资源目录进行适配。为不同屏幕密度提供不同的位图可绘制对象，可用于密度特定资源的配置限定符（在下面详述） 包括 ldpi（低）、mdpi（中）、 hdpi（高）、xhdpi（超高）、xxhdpi （超超高）和 xxxhdpi（超超超高）。例如，高密度屏幕的位图应使用 drawable-hdpi/。</p>
<p>根据当前的设备屏幕尺寸和密度，将会寻找最匹配的资源，如果将高分辨率图片放入低密度目录，将会造成低端机加载过大图片资源，又可能造成 OOM，同时也是资源浪费，没有必要在低端机使用大图。</p>
<p>正例：将 144*144 的应用图标 PNG 文件放在 drawable-xxhdpi 目录</p>
<p>反例：将 144*144 的应用图标 PNG 文件放在 drawable-mhdpi 目录扩展参考：<br><a href="https://developer.android.com/guide/practices/screens_support.html?hl=zh-cn" target="_blank" rel="noopener">https://developer.android.com/guide/practices/screens_support.html?hl=zh-cn</a></p>
<hr>
<h2 id="三、Android-基本组件"><a href="#三、Android-基本组件" class="headerlink" title="三、Android 基本组件"></a>三、Android 基本组件</h2><p>Android 基本组件指 Activity(活动)、Fragment、Service(服务)、BroadcastReceiver(广播接收器)、ContentProvider(内容提供者) 等等。</p>
<ol>
<li><p>【强制】Activity 间的数据通信，对于数据量比较大的，避免使用 Intent + Parcelable<br>的方式，可以考虑 EventBus 等替代方案，以免造成 TransactionTooLargeException。</p>
</li>
<li><p>【推荐】Activity #onSaveInstanceState()方法不是 Activity 生命周期方法，也不保证一定会被调用。它是用来在 Activity 被意外销毁时保存 UI 状态的，只能用于保存临时性数据，例如 UI 控件的属性等，不能跟数据的持久化存储混为一谈。持久化存储应该在 Activity #onPause()/onStop()中实行。</p>
</li>
<li><p>【强制】Activity 间通过隐式 Intent 的跳转，在发出 Intent 之前必须通过 resolveActivity<br>检查，避免找不到合适的调用组件，造成 ActivityNotFoundException 的异常。<br>正例：</p>
</li>
</ol>
<p>反例：</p>
<ol start="4">
<li>【强制】避免在 Service#onStartCommand()/onBind()方法中执行耗时操作，如果确实有需求，应改用 IntentService 或采用其他异步机制完成。<br>正例：</li>
</ol>
<ol start="5">
<li>【强制】避免在 BroadcastReceiver#onReceive()中执行耗时操作，如果有耗时工作， 应该创建 IntentService 完成，而不应该在 BroadcastReceiver 内创建子线程去做。<br>说明：<br>由于该方法是在主线程执行，如果执行耗时操作会导致 UI 不流畅。可以使用<br>IntentService 、 创 建 HandlerThread 或 者 调 用 Context#registerReceiver (BroadcastReceiver, IntentFilter, String, Handler)方法等方式，在其他 Wroker 线程执行 onReceive 方法。BroadcastReceiver#onReceive()方法耗时超过 10 秒钟，可能会被系统杀死。<br>正例：</li>
</ol>
<p>反例：</p>
<p>扩展参考：<br><a href="https://developer.android.com/reference/android/content/BroadcastReceiver.html#" target="_blank" rel="noopener">https://developer.android.com/reference/android/content/BroadcastReceiver.html#</a> onReceive(android.content.Context, android.content.Intent)</p>
<ol start="6">
<li>【强制】避免使用隐式 Intent 广播敏感信息，信息可能被其他注册了对应<br>BroadcastReceiver 的 App 接收。<br>说明：<br>通过 Context#sendBroadcast()发送的隐式广播会被所有感兴趣的 receiver 接收，恶意应用注册监听该广播的 receiver 可能会获取到 Intent 中传递的敏感信息，并进行其他危险操作。如果发送的广播为使用 Context#sendOrderedBroadcast()方法发送的有序广播，优先级较高的恶意 receiver 可能直接丢弃该广播，造成服务不可用， 或者向广播结果塞入恶意数据。<br>如果广播仅限于应用内，则可以使用 LocalBroadcastManager#sendBroadcast()实现，避免敏感信息外泄和 Intent 拦截的风险。<br>正例：</li>
</ol>
<p>反例：</p>
<p>以上广播可能被其他应用的如下 receiver 接收导致敏感信息泄漏</p>
<p>扩展参考：<br>1)    <a href="https://wiki.sei.cmu.edu/confluence/display/android/DRD03-J.+Do+not+broad" target="_blank" rel="noopener">https://wiki.sei.cmu.edu/confluence/display/android/DRD03-J.+Do+not+broad</a> cast+sensitive+information+using+an+implicit+intent<br>2)    <a href="https://cwe.mitre.org/data/definitions/927.html" target="_blank" rel="noopener">https://cwe.mitre.org/data/definitions/927.html</a></p>
<ol start="7">
<li>【 推 荐 】  添 加    Fragment    时  ， 确 保    FragmentTransaction#commit() 在<br>Activity#onPostResume()或者 FragmentActivity#onResumeFragments()内调用。不要随意使用 FragmentTransaction#commitAllowingStateLoss() 来代替， 任何<br>commitAllowingStateLoss()的使用必须经过 code review，确保无负面影响。<br>说明：</li>
</ol>
<p>Activity  可 能 因 为 各 种 原 因 被 销 毁 ， Android  支 持 页 面 被 销 毁 前 通 过<br>Activity#onSaveInstanceState()    保    存    自    己    的    状    态    。    但    如    果<br>FragmentTransaction.commit()发生在 Activity 状态保存之后，就会导致 Activity 重建、恢复状态时无法还原页面状态，从而可能出错。为了避免给用户造成不好的体验，系统会抛出 IllegalStateExceptionStateLoss 异常。推荐的做法是在 Activity 的<br>onPostResume() 或   onResumeFragments() （ 对   FragmentActivity ） 里 执 行<br>FragmentTransaction.commit()，如有必要也可在 onCreate()里执行。不要随意改用<br>FragmentTransaction.commitAllowingStateLoss() 或者直 接使用  try-catch  避免<br>crash，这不是问题的根本解决之道，当且仅当你确认 Activity 重建、恢复状态时， 本次 commit 丢失不会造成影响时才可这么做。<br>正例：</p>
<p>反例：</p>
<p>扩展参考：<br>1)    <a href="https://www.androiddesignpatterns.com/2013/08/fragment-transaction-commi" target="_blank" rel="noopener">https://www.androiddesignpatterns.com/2013/08/fragment-transaction-commi</a> t-state-loss.html<br>2)    <a href="https://developer.android.com/reference/android/app/FragmentTransaction.ht" target="_blank" rel="noopener">https://developer.android.com/reference/android/app/FragmentTransaction.ht</a> ml#commit())</p>
<ol start="8">
<li>【推荐】不要在 Activity#onDestroy()内执行释放资源的工作，例如一些工作线程的销毁和停止，因为 onDestroy() 执行的时机可能较晚。可根据实际需要，在<br>Activity#onPause()/onStop()中结合 isFinishing()的判断来执行。</li>
<li>【推荐】如非必须，避免使用嵌套的 Fragment。说明：<br>嵌套 Fragment 是在 Android API 17 添加到 SDK 以及 Support 库中的功能，<br>Fragment 嵌套使用会有一些坑，容易出现 bug，比较常见的问题有如下几种：<br>1)    onActivityResult()方法的处理错乱，内嵌的 Fragment 可能收不到该方法的回调， 需要由宿主 Fragment 进行转发处理；<br>2)    突变动画效果；<br>3)    被继承的 setRetainInstance()，导致在 Fragment 重建时多次触发不必要的逻辑。<br>非必须的场景尽可能避免使用嵌套 Fragment，如需使用请注意上述问题。</li>
</ol>
<p>正例：</p>
<p>反例：</p>
<p>10【.</p>
<p>扩展参考：<br>1)    <a href="https://inthecheesefactory.com/blog/onactivityresult-nested-fragment-support-" target="_blank" rel="noopener">https://inthecheesefactory.com/blog/onactivityresult-nested-fragment-support-</a> library-v23.2/en<br>2)    <a href="http://blog.csdn.net/megatronkings/article/details/51417510" target="_blank" rel="noopener">http://blog.csdn.net/megatronkings/article/details/51417510</a><br>推荐】总是使用显式 Intent 启动或者绑定 Service，且不要为服务声明 Intent Filter，保证应用的安全性。如果确实需要使用隐式调用，则可为 Service 提供 Intent Filter 并从 Intent 中排除相应的组件名称，但必须搭配使用 Intent#setPackage()方法设置Intent 的指定包名，这样可以充分消除目标服务的不确定性。</p>
<p>11.【推荐】Service 需要以多线程来并发处理多个启动请求，建议使用 IntentService， 可避免各种复杂的设置。<br>说明：<br>Service 组件一般运行主线程，应当避免耗时操作，如果有耗时操作应该在 Worker<br>线程执行。 可以使用 IntentService 执行后台任务。<br>正例：</p>
<p>反例：</p>
<p>扩展参考：<br><a href="https://developer.android.com/training/run-background-service/index.html" target="_blank" rel="noopener">https://developer.android.com/training/run-background-service/index.html</a><br>12.【推荐】对于只用于应用内的广播，优先使用 LocalBroadcastManager 来进行注册和发送，LocalBroadcastManager 安全性更好，同时拥有更高的运行效率。<br>说明：<br>对于使用 Context#sendBroadcast()等方法发送全局广播的代码进行提示。如果该广播仅用于应用内，则可以使用 LocalBroadcastManager 来避免广播泄漏以及广播被拦截等安全问题，同时相对全局广播本地广播的更高效。<br>正例：</p>
<p>反例：<br>所有广播都使用全局广播</p>
<p>13【.</p>
<p>推荐】当前Activity 的onPause 方法执行结束后才会执行下一个Activity 的onCreate 方法，所以在 onPause 方法中不适合做耗时较长的工作，这会影响到页面之间的跳转效率。</p>
<p>14.【强制】不要在 Android 的 Application 对象中缓存数据。基础组件之间的数据共享请使用 Intent 等机制，也可使用 SharedPreferences 等数据持久化机制。<br>反例：</p>
<p>15.【推荐】使用 Toast 时，建议定义一个全局的 Toast 对象，这样可以避免连续显示<br>Toast 时不能取消上一次 Toast 消息的情况(如果你有连续弹出 Toast 的情况，避免使用 Toast.makeText)。<br>16.【强制】使用 Adapter 的时候，如果你使用了 ViewHolder 做缓存，在 getView()的方法中无论这项 convertView 的每个子控件是否需要设置属性(比如某个 TextView 设置的文本可能为 null，某个按钮的背景色为透明，某控件的颜色为透明等)，都需要为其显式设置属性(Textview 的文本为空也需要设置 setText(“”)，背景透明也需要设置)，否则在滑动的过程中，因为 adapter item 复用的原因，会出现内容的显示错乱。<br>正例：</p>
<p>17【.</p>
<p>强制】Activity 或者 Fragment 中动态注册BroadCastReceiver 时，registerReceiver()和 unregisterReceiver()要成对出现。<br>说明：<br>如果 registerReceiver()和 unregisterReceiver()不成对出现，则可能导致已经注册的receiver 没有在合适的时机注销，导致内存泄漏，占用内存空间，加重 SystemService 负担。<br>部分华为的机型会对 receiver 进行资源管控，单个应用注册过多 receiver 会触发管控模块抛出异常，应用直接崩溃。<br>正例：</p>
<p>反例：</p>
<p>Activity 的生命周期不对应，可能出现多次 onResume 造成 receiver 注册多个，但最终只注销一个，其余 receiver 产生内存泄漏。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/09/10/Android学习笔记——阿里巴巴Android开发手册/" data-id="cjo2ji8xn00002kut2d9nlvz0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/09/12/《第一行代码_Android》第1章_第一行Android代码/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          《第一行代码 Android》第1章 第一行Android代码
        
      </div>
    </a>
  
  
    <a href="/2018/09/03/微信小程序开发/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">微信小程序开发</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Html5-Css/">Html5/Css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/">book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/介绍/">介绍</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信小程序/">微信小程序</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Html5-Css/" style="font-size: 10px;">Html5/Css</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/book/" style="font-size: 10px;">book</a> <a href="/tags/介绍/" style="font-size: 10px;">介绍</a> <a href="/tags/微信小程序/" style="font-size: 10px;">微信小程序</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/11/02/Android技术——StickyListHeaders黏连头部表/">Android技术——StickyListHeaders黏连头部表</a>
          </li>
        
          <li>
            <a href="/2018/11/02/Android技术——BottomSheetLayout底部弹出框/">Android技术——BottomSheetLayout底部弹出框</a>
          </li>
        
          <li>
            <a href="/2018/10/30/Android技术——杂记/">Android技术——杂记</a>
          </li>
        
          <li>
            <a href="/2018/10/27/Android技术——软件框架/">Android技术——主流项目架构(重点)</a>
          </li>
        
          <li>
            <a href="/2018/10/24/Android技术——底部导航栏/">Android技术——导航栏</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Ai Junhao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>