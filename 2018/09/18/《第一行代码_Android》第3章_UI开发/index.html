<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>《第一行代码_Android》第3章_UI开发 | Hello, I&#39;m Junhao Ai.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="第3章 软件也要拼脸蛋——UI开发的点点滴滴 基本组件 UI控件View基类 TextView文本控件 Button按钮控件 EditText ImageView图片控件 ProgressBar进度条组件 SeekBar拖动条组件   4种基本布局 线性布局 相对布局 帧布局 百分比布局 导入布局 自定义控件 自定义标题栏控件方法一： 除了上面一种写法，还有一种方法显得更为专业。 除了上面这种">
<meta name="keywords" content="Android,移动端">
<meta property="og:type" content="article">
<meta property="og:title" content="《第一行代码_Android》第3章_UI开发">
<meta property="og:url" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/index.html">
<meta property="og:site_name" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:description" content="第3章 软件也要拼脸蛋——UI开发的点点滴滴 基本组件 UI控件View基类 TextView文本控件 Button按钮控件 EditText ImageView图片控件 ProgressBar进度条组件 SeekBar拖动条组件   4种基本布局 线性布局 相对布局 帧布局 百分比布局 导入布局 自定义控件 自定义标题栏控件方法一： 除了上面一种写法，还有一种方法显得更为专业。 除了上面这种">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/TextView类图.jpg">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/TextViewTest.PNG">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/ImageView.jpg">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/ProgressBar类图.jpg">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/ProgressBar.png">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/includeTitle.png">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/message_left.png">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/9patch1.png">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/9patch2.png">
<meta property="og:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/9patch3.png">
<meta property="og:updated_time" content="2019-03-10T08:15:34.646Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="《第一行代码_Android》第3章_UI开发">
<meta name="twitter:description" content="第3章 软件也要拼脸蛋——UI开发的点点滴滴 基本组件 UI控件View基类 TextView文本控件 Button按钮控件 EditText ImageView图片控件 ProgressBar进度条组件 SeekBar拖动条组件   4种基本布局 线性布局 相对布局 帧布局 百分比布局 导入布局 自定义控件 自定义标题栏控件方法一： 除了上面一种写法，还有一种方法显得更为专业。 除了上面这种">
<meta name="twitter:image" content="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/TextView类图.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Hello, I&#39;m Junhao Ai." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hello, I&#39;m Junhao Ai.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-《第一行代码_Android》第3章_UI开发" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/18/《第一行代码_Android》第3章_UI开发/" class="article-date">
  <time datetime="2018-09-18T12:01:12.000Z" itemprop="datePublished">2018-09-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      《第一行代码_Android》第3章_UI开发
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- TOC -->
<ul>
<li><a href="#第3章-软件也要拼脸蛋ui开发的点点滴滴">第3章 软件也要拼脸蛋——UI开发的点点滴滴</a></li>
<li><a href="#基本组件">基本组件</a><ul>
<li><a href="#ui控件view基类">UI控件View基类</a></li>
<li><a href="#textview文本控件">TextView文本控件</a></li>
<li><a href="#button按钮控件">Button按钮控件</a></li>
<li><a href="#edittext">EditText</a></li>
<li><a href="#imageview图片控件">ImageView图片控件</a></li>
<li><a href="#progressbar进度条组件">ProgressBar进度条组件</a></li>
<li><a href="#seekbar拖动条组件">SeekBar拖动条组件</a></li>
</ul>
</li>
<li><a href="#4种基本布局">4种基本布局</a><ul>
<li><a href="#线性布局">线性布局</a></li>
<li><a href="#相对布局">相对布局</a></li>
<li><a href="#帧布局">帧布局</a></li>
<li><a href="#百分比布局">百分比布局</a></li>
<li><a href="#导入布局">导入布局</a></li>
<li><a href="#自定义控件">自定义控件</a><ul>
<li><a href="#自定义标题栏控件方法一">自定义标题栏控件方法一：</a></li>
<li><a href="#除了上面一种写法还有一种方法显得更为专业">除了上面一种写法，还有一种方法显得更为专业。</a></li>
<li><a href="#除了上面这种多控件组合形成新控件外还有就是在原有的控件基础上增加功能">除了上面这种多控件组合形成新控件外，还有就是在原有的控件基础上增加功能。</a></li>
</ul>
</li>
<li><a href="#listview列表控件最常用和最难用的控件">ListView列表控件——最常用和最难用的控件</a><ul>
<li><a href="#adapter是什么">Adapter是什么</a></li>
<li><a href="#arrayadapter">ArrayAdapter</a><ul>
<li><a href="#自定义adapter优化">自定义Adapter优化</a></li>
</ul>
</li>
<li><a href="#listview的点击事件">ListView的点击事件</a></li>
<li><a href="#baseadapter">BaseAdapter</a></li>
</ul>
</li>
<li><a href="#nine-patch图片制作">Nine-Patch图片制作</a></li>
<li><a href="#recyclerview滚动控件">RecyclerView滚动控件</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<hr>
<p>此博客使用教材为《第一行代码 Android》第2版。</p>
<h2 id="第3章-软件也要拼脸蛋——UI开发的点点滴滴"><a href="#第3章-软件也要拼脸蛋——UI开发的点点滴滴" class="headerlink" title="第3章 软件也要拼脸蛋——UI开发的点点滴滴"></a>第3章 软件也要拼脸蛋——UI开发的点点滴滴</h2><h2 id="基本组件"><a href="#基本组件" class="headerlink" title="基本组件"></a>基本组件</h2><hr>
<h3 id="UI控件View基类"><a href="#UI控件View基类" class="headerlink" title="UI控件View基类"></a>UI控件View基类</h3><table>
<thead>
<tr>
<th>属性</th>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>android:accessibilityLiveRegion</td>
<td>setAccessibilityLiveRegion(int)</td>
<td>辅助性服务是否应自动通知更改视图的内容描述或文本,或者子view的文字描述或文本内容；（none——不通知、polite——通知、assertive——打断语音，并通知）</td>
</tr>
<tr>
<td>android:alpha</td>
<td>setAlpha(float)</td>
<td>视图透明度，值在0-1之间。0为完全透明，1为完全不透明。</td>
</tr>
<tr>
<td>android:background</td>
<td>setBackgroundResource(int)</td>
<td>视图背景</td>
</tr>
<tr>
<td>android:clickable</td>
<td>setClickable(boolean)</td>
<td>视图是否可点击</td>
</tr>
<tr>
<td>android:contentDescription</td>
<td>setContentDescription(CharSequence)</td>
<td>设置View的备注说明，作为一种辅助功能提供,为一些没有文字描述的View提供说明</td>
</tr>
<tr>
<td>android:drawingCacheQuality</td>
<td>setDrawingCacheQuality(int)</td>
<td>设置绘图时半透明质量。有可以取以下3个值 auto——默认，由框架决定 high——高质量，使用较高的颜色深度，消耗更多的内存 low——低质量，使用较低的颜色深度，但是用更少的内存</td>
</tr>
<tr>
<td>android:duplicateParentState</td>
<td></td>
<td>如果设置此属性，将直接从父容器中获取绘图状态（光标，按下等）</td>
</tr>
<tr>
<td>android:fadeScrollbars</td>
<td>setScrollbarFadingEnabled(boolean)</td>
<td>定义在ScrollBar没有使用时，是否褪色(隐藏)。</td>
</tr>
<tr>
<td>android:fadingEdgeLength</td>
<td>getVerticalFadingEdgeLength()</td>
<td>设置边框渐变的长度。</td>
</tr>
<tr>
<td>android:filterTouchesWhenObscured</td>
<td>setFilterTouchesWhenObscured(boolean)</td>
<td>view所在窗口被其它可见窗口遮住时，是否过滤触摸事件。</td>
</tr>
<tr>
<td>android:fitsSystemWindows</td>
<td>setFitsSystemWindows(boolean)</td>
<td>设置布局调整时是否考虑系统窗口（如状态栏）</td>
</tr>
<tr>
<td>android:focusable</td>
<td>setFocusable(boolean)</td>
<td>设置是否获得焦点。若有requestFocus()被调用时，后者优先处理。注意在表单中想设置某一个如EditText获取焦点，光设置这个是不行的，需要将这个EditText前面的focusable都设置为false才行。在Touch模式下获取焦点需要设置focusableInTouchMode为true。</td>
</tr>
<tr>
<td>android:focusableInTouchMode</td>
<td>setFocusableInTouchMode(boolean)</td>
<td>设置在Touch模式下View是否能取得焦点。</td>
</tr>
<tr>
<td>android:hapticFeedbackEnabled</td>
<td>setHapticFeedbackEnabled(boolean)</td>
<td>是否启用触摸反馈，启用后就是在点击等操作时会有震动等反馈效果</td>
</tr>
<tr>
<td>android:id</td>
<td>setId(int)</td>
<td>给当前View设置一个在当前layout.xml中的唯一编号，可以通过调用View.findViewById() 或Activity.findViewById()根据这个编号查找到对应的View。不同的layout.xml之间定义相同的id不会冲突。</td>
</tr>
<tr>
<td>android:importantForAccessibility</td>
<td>setImportantForAccessibility(int)</td>
<td>设置可达性的重要性</td>
</tr>
<tr>
<td>android:isScrollContainer</td>
<td>setScrollContainer(boolean)</td>
<td>设置当前View为滚动容器。这里没有测试出效果来，ListView/ GridView/ ScrollView根本就不用设置这个属性，而EdidText设置android:scrollbars也能出滚动条</td>
</tr>
<tr>
<td>android:keepScreenOn</td>
<td>setKeepScreenOn(boolean)</td>
<td>视图在可见的情况下是否保持唤醒状态。</td>
</tr>
<tr>
<td>android:layerType</td>
<td>setLayerType(int,Paint)</td>
<td>设置指定层的类型，可以取以下3个值： none——不指定 software——软件层。 hardware——硬件层。使用硬件加速。</td>
</tr>
<tr>
<td>android:layoutDirection</td>
<td>setLayoutDirection(int)</td>
<td>定义布局图纸的方向</td>
</tr>
<tr>
<td>android:longClickable</td>
<td>setLongClickable(boolean)</td>
<td>是否响应长点击事件</td>
</tr>
<tr>
<td>android:minHeight</td>
<td>setMinimumHeight(int)</td>
<td>设置视图最小高度</td>
</tr>
<tr>
<td>android:minWidth</td>
<td>setMinimumWidth(int)</td>
<td>设置视图最小宽度</td>
</tr>
<tr>
<td>android:nextFocusDown</td>
<td>setNextFocusDownId(int)</td>
<td>向下移动焦点时，下一个获取焦点的view的id</td>
</tr>
<tr>
<td>android:nextFocusForward</td>
<td>setNextFocusForwardId(int)</td>
<td>下一个获取焦点的view的id</td>
</tr>
<tr>
<td>android:nextFocusLeft</td>
<td>setNextFocusLeftId(int)</td>
<td>向左移动焦点时，下一个获取焦点的view的id</td>
</tr>
<tr>
<td>android:nextFocusRight</td>
<td>setNextFocusRightId(int)</td>
<td>向右移动焦点时，下一个获取焦点的view的id</td>
</tr>
<tr>
<td>android:nextFocusUp</td>
<td>setNextFocusUpId(int)</td>
<td>向上移动焦点时，下一个获取焦点的view的id</td>
</tr>
<tr>
<td>android:onClick</td>
<td></td>
<td>点击时，要调用的方法的名称。</td>
</tr>
<tr>
<td>android:padding</td>
<td>setPaddingRelative(int,int,int,int)</td>
<td>设置上下左右的边距</td>
</tr>
<tr>
<td>android:paddingBottom</td>
<td>setPaddingRelative(int,int,int,int)</td>
<td>下边距</td>
</tr>
<tr>
<td>android:paddingEnd</td>
<td>setPaddingRelative(int,int,int,int)</td>
<td>与 android:paddingRight相同</td>
</tr>
<tr>
<td>android:paddingLeft</td>
<td>setPadding(int,int,int,int)</td>
<td>左边距</td>
</tr>
<tr>
<td>android:paddingRight</td>
<td>setPadding(int,int,int,int)</td>
<td>右边距</td>
</tr>
<tr>
<td>android:paddingStart</td>
<td>setPaddingRelative(int,int,int,int)</td>
<td>与 android:paddingLeft相同</td>
</tr>
<tr>
<td>android:paddingTop</td>
<td>setPaddingRelative(int,int,int,int)</td>
<td>上边距</td>
</tr>
<tr>
<td>android:requiresFadingEdge</td>
<td>setVerticalFadingEdgeEnabled(boolean)</td>
<td>定义滚动时边缘是否褪色</td>
</tr>
<tr>
<td>android:rotation</td>
<td>setRotation(float)</td>
<td>旋转度数</td>
</tr>
<tr>
<td>android:rotationX</td>
<td>setRotationX(float)</td>
<td>水平旋转度数</td>
</tr>
<tr>
<td>android:rotationY</td>
<td>setRotationY(float)</td>
<td>竖直旋转度数</td>
</tr>
<tr>
<td>android:saveEnabled</td>
<td>setSaveEnabled(boolean)</td>
<td>在配置改变等情况出现时是否保存view的状态数据。如果你的view有id，那默认系统就会帮你保存。</td>
</tr>
<tr>
<td>android:scaleX</td>
<td>setScaleX(float)</td>
<td>水平方向缩放比例</td>
</tr>
<tr>
<td>android:scaleY</td>
<td>setScaleY(float)</td>
<td>竖直方向缩放比例</td>
</tr>
<tr>
<td>android:scrollX</td>
<td></td>
<td>x方向的滚动偏移。即在水平方向滚动了多少距离</td>
</tr>
<tr>
<td>android:scrollY</td>
<td></td>
<td>y方向的滚动偏移。即在竖直方向滚动了多少距离</td>
</tr>
<tr>
<td>android:scrollbarAlwaysDrawHorizontalTrack</td>
<td></td>
<td>是否总是绘制水平滚动条的滚动轨道</td>
</tr>
<tr>
<td>android:scrollbarAlwaysDrawVerticalTrack</td>
<td></td>
<td>绘制竖直滚动条的滚动轨道</td>
</tr>
<tr>
<td>android:scrollbarDefaultDelayBeforeFade</td>
<td>setScrollBarDefaultDelayBeforeFade(int)</td>
<td>滚动条在n毫秒后开始淡出。</td>
</tr>
<tr>
<td>android:scrollbarFadeDuration</td>
<td>setScrollBarFadeDuration(int)</td>
<td>滚动条用多长时间淡出完毕。</td>
</tr>
<tr>
<td>android:scrollbarSize</td>
<td>setScrollBarSize(int)</td>
<td>设置滚动条的尺寸。垂直滚动条的宽度、水平滚动条的高度</td>
</tr>
<tr>
<td>android:scrollbarStyle</td>
<td>setScrollBarStyle(int)</td>
<td>“滚动条的风格。共4组值： insideOverlay——内贴图 insideInset——内插图 outsideOverlay——外贴图 outsideInset——外插图。 inside就是滚动条在绘制在padding以内；outside就是不需要绘制在padding内（即view的边界处）；Overlay是贴图，就是直接覆盖在内容的上方，这样内容可能会显示到滚动条下方去；Inset是插图，就是会在对应padding上加上滚动条的宽度，以不让内容显示到滚动条下面去。</td>
</tr>
<tr>
<td>android:scrollbarThumbHorizontal</td>
<td></td>
<td>水平滚动块的drawable对象</td>
</tr>
<tr>
<td>android:scrollbarThumbVertical</td>
<td></td>
<td>竖直滚动块的drawable对象</td>
</tr>
<tr>
<td>android:scrollbarTrackHorizontal</td>
<td></td>
<td>水平滚动条滚动轨道的drawable对象</td>
</tr>
<tr>
<td>android:scrollbarTrackVertical</td>
<td></td>
<td>竖直滚动条滚动轨道的drawable对象</td>
</tr>
<tr>
<td>android:scrollbars</td>
<td></td>
<td>设置可显示的滚动条。有3个取值: none——不显示滚动条 horizontal——显示水平滚动条 vertical——显示竖直滚动条</td>
</tr>
<tr>
<td>android:soundEffectsEnabled</td>
<td>setSoundEffectsEnabled(boolean)</td>
<td>点击或触摸该view时，是否需要有声音效果</td>
</tr>
<tr>
<td>android:tag</td>
<td></td>
<td>string标识。类似id，id是整数标识。</td>
</tr>
<tr>
<td>android:textAlignment</td>
<td>setTextAlignment(int)</td>
<td>设置文本的显示对齐方式。</td>
</tr>
<tr>
<td>android:textDirection</td>
<td>setTextDirection(int)</td>
<td>设置文本的显示方向。</td>
</tr>
<tr>
<td>android:transformPivotX</td>
<td>setPivotX(float)</td>
<td>水平方向偏转量</td>
</tr>
<tr>
<td>android:transformPivotY</td>
<td>setPivotY(float)</td>
<td>竖直方向偏转量</td>
</tr>
<tr>
<td>android:translationX</td>
<td>setTranslationX(float)</td>
<td>水平方向的移动距离</td>
</tr>
<tr>
<td>android:translationY</td>
<td>setTranslationY(float)</td>
<td>竖直方向的移动距离</td>
</tr>
<tr>
<td>android:visibility</td>
<td>setVisibility(int)</td>
<td>view的可见性。有3个取值： gone——不可见，同时不占用view的空间； invisible——不可见，但占用view的空间； visible——可见</td>
</tr>
</tbody>
</table>
<h3 id="TextView文本控件"><a href="#TextView文本控件" class="headerlink" title="TextView文本控件"></a>TextView文本控件</h3><p>TextView的作用就是在界面上显示文本。TextView直接继承了 View，是EditText、Button两个UI组件类的父类，TextView与其子类的类图如下图所示：</p>
<p><img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/TextView类图.jpg" alt=""></p>
<p> TextView提供了大量的XML属性，这些XML属性大部分不仅可适用于TextView，而且可适用于它的子类（EditText、Button等）。下表显示了TextView支持的XML属性及相关方法。</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>android:autoLink</td>
<td>setAutoLinkMask(int)</td>
<td>控制是否自动查找并转换 URL、邮箱地址等链接为可点击链接.默认值为”none”，禁止该属性.</td>
</tr>
<tr>
<td>android:autoText</td>
<td>setKeyListener(KeyListener)</td>
<td>如果设置，这表示该 TextView 的文本输入法可以自动更正常见拼写错误.</td>
</tr>
<tr>
<td>android:background</td>
<td>setBackgroundColor</td>
<td>设置背景</td>
</tr>
<tr>
<td>android:bufferType</td>
<td>setText(CharSequence,TextView.BufferType)</td>
<td>决定 getText() 方法返回值的种类.默认值为 “normal”.注意，EditText 和 LogTextBox 总是返回 Editable，及时你指定更低的基本也无济于事.</td>
</tr>
<tr>
<td>android:capitalize</td>
<td>setKeyListener(KeyListener)</td>
<td>如果设置该属性，则指定该 TextView 的文本输入法可以自动改变用户输入的字母为大写.</td>
</tr>
<tr>
<td>android:cursorVisible</td>
<td>setCursorVisible(boolean)</td>
<td>使光标可见（默认）或隐藏.</td>
</tr>
<tr>
<td>android:digits</td>
<td>setKeyListener(KeyListener)</td>
<td>如果设置，则指定该 TextView 使用数字输入法，只接受指定的字符.</td>
</tr>
<tr>
<td>android:drawableBottom</td>
<td>setCompoundDrawablesWithIntrinsicBounds(int,int,int,int)</td>
<td>在文本下方显示可绘制对象.</td>
</tr>
<tr>
<td>android:drawableLeft</td>
<td>setCompoundDrawablesWithIntrinsicBounds(int,int,int,int)</td>
<td>在文本左侧显示可绘制对象.</td>
</tr>
<tr>
<td>android:drawablePadding</td>
<td>setCompoundDrawablePadding(int)</td>
<td>文本和可绘制对象的间距.</td>
</tr>
<tr>
<td>android:drawableRight</td>
<td>setCompoundDrawablesWithIntrinsicBounds(int,int,int,int)</td>
<td>在文本右侧显示可绘制对象.</td>
</tr>
<tr>
<td>android:drawableTop</td>
<td>setCompoundDrawablesWithIntrinsicBounds(int,int,int,int)</td>
<td>在文本上方显示可绘制对象.</td>
</tr>
<tr>
<td>android:editable</td>
<td></td>
<td>如果设置，则指定该 TextView 有输入法，如果没有特殊指定，其为文本输入状态.</td>
</tr>
<tr>
<td>android:editorExtras</td>
<td>setInputExtras(int)</td>
<td>指向 <input-extras> XML 资源，为输入法的特殊实现提供附加数据.只是当输入法启动时将资源 放入EditorInfo.extras 字段.</input-extras></td>
</tr>
<tr>
<td>android:ellipsize</td>
<td>setEllipsize(TextUtils.TruncateAt)</td>
<td>该值为真时，如果文字长度超过视图宽度，文字不会在中途被截断， 而是省略其中一部分.为了将文本作为一个整体显示在一行中， 你可能经常使用横向滚动条或者 singleLine 属性， 现在你也可以使用本属性，它还允许多行.</td>
</tr>
<tr>
<td>android:ems</td>
<td>setEms(int)</td>
<td>使 TextView 精确匹配指定个数的字符宽度.</td>
</tr>
<tr>
<td>android:freezesText</td>
<td>setFreezesText(boolean)</td>
<td>如果设置，则文本视图会保持完整的文本内容，以及象当前光标位置这样的附近信息.</td>
</tr>
<tr>
<td>android:gravity</td>
<td>setGravity(int)</td>
<td>指定当显示的文本比视图小时，横向和纵向的对齐方式.</td>
</tr>
<tr>
<td>android:height</td>
<td>setHeight(int)</td>
<td>精确的设置 TextView 的高度.使用布局参数也可以达到相同效果.</td>
</tr>
<tr>
<td>android:hint</td>
<td>setHint(int)</td>
<td>当文本为空时显示的提示信息.</td>
</tr>
<tr>
<td>android:imeActionId</td>
<td>setImeActionLabel(CharSequence,int)</td>
<td>当输入法连接到文本视图时，提供用于 EditorInfo.actionId 的值.</td>
</tr>
<tr>
<td>android:imeActionLabel</td>
<td>setImeActionLabel(CharSequence,int)</td>
<td>当输入法连接到文本视图时，提供用于 EditorInfo.actionLabel 的值.</td>
</tr>
<tr>
<td>android:imeOptions</td>
<td>setImeOptions(int)</td>
<td>附近特性，可用于启动输入法与编辑器的关联，以提高你应用程序的集成效果.</td>
</tr>
<tr>
<td>android:includeFontPadding</td>
<td>setIncludeFontPadding(boolean)</td>
<td>为上标和下标留出足够的空间，以取代字体上下标.默认为真.</td>
</tr>
<tr>
<td>android:inputMethod</td>
<td>setKeyListener(KeyListener)</td>
<td>如果设置，即指定 TextView 使用指定的输入法（使用完全修饰类名）.</td>
</tr>
<tr>
<td>android:inputType</td>
<td>setRawInputType(int)</td>
<td>文本域中可放置的数据类型，用于帮助输入法决定如何让用户输入文本.</td>
</tr>
<tr>
<td>android:lineSpacingExtra</td>
<td>setLineSpacing(float,float)</td>
<td>文本行间距.</td>
</tr>
<tr>
<td>android:lineSpacingMultiplier</td>
<td>setLineSpacing(float,float)</td>
<td>用倍数指定的行间距.</td>
</tr>
<tr>
<td>android:lines</td>
<td>setLines(int)</td>
<td>使 TextView 精确匹配指定行数的高度.</td>
</tr>
<tr>
<td>android:linksClickable</td>
<td>setLinksClickable(boolean)</td>
<td>如果设为假，即使指定的 autoLink 属性正确识别出了链接，点击也不会发生任何动作.</td>
</tr>
<tr>
<td>android:marqueeRepeatLimit</td>
<td>setMarqueeRepeatLimit(int)</td>
<td>字幕动画的重复次数.仅应用于启动字母动画的 TextView.</td>
</tr>
<tr>
<td>android:maxEms</td>
<td>setMaxEms(int)</td>
<td>使 TextView 的最大宽度为指定个数的字符宽度.</td>
</tr>
<tr>
<td>android:maxHeight</td>
<td>setMaxHeight(int)</td>
<td>设置 TextView 的最大高度.</td>
</tr>
<tr>
<td>android:maxLength</td>
<td>setFilters(InputFilter)</td>
<td>设置输入过滤器，限制输入的文本最大长度为指定值.</td>
</tr>
<tr>
<td>android:maxWidth</td>
<td>setMaxWidth(int)</td>
<td>设置 TextView 的最大宽度.</td>
</tr>
<tr>
<td>android:minEms</td>
<td>setMinEms(int)</td>
<td>使 TextView 的最小宽度为指定个数的字符宽度.</td>
</tr>
<tr>
<td>android:minHeight</td>
<td>setMinHeight(int)</td>
<td>设置 TextView 的最小高度.</td>
</tr>
<tr>
<td>android:minLines</td>
<td>setMinLines(int)</td>
<td>使 TextView 的最小高度为指定行数的高度.</td>
</tr>
<tr>
<td>android:minWidth</td>
<td>setMinWidth(int)</td>
<td>设置 TextView 的最小宽度.</td>
</tr>
<tr>
<td>android:numeric</td>
<td>setKeyListener(KeyListener)</td>
<td>如果设置，指定 TextView 使用数值输入法.默认值为假.</td>
</tr>
<tr>
<td>android:password</td>
<td>setTransformationMethod(TransformationMethod)</td>
<td>是否将文本域中的字符显示为代表密码的圆点.</td>
</tr>
<tr>
<td>android:phoneNumber</td>
<td>setKeyListener(KeyListener)</td>
<td>如果设置，则指定 TextView 使用电话号码输入法.默认为假.</td>
</tr>
<tr>
<td>android:privateImeOptions</td>
<td>setPrivateImeOptions(String)</td>
<td>附加的内容类型，用于描述文本视图支持的输入法的私有实现.</td>
</tr>
<tr>
<td>android:scrollHorizontally</td>
<td>setHorizontallyScrolling(boolean)</td>
<td>是否允许文本比视图宽（允许横向滚动）.</td>
</tr>
<tr>
<td>android:selectAllOnFocus</td>
<td>setSelectAllOnFocus(boolean)</td>
<td>如果文本可选，当该视图得到焦点时将文本全部选中，而不只将光标移动到开始或结尾处.</td>
</tr>
<tr>
<td>android:shadowColor</td>
<td>setShadowLayer(float,float,float,int)</td>
<td>在文本后面显示指定颜色的阴影.</td>
</tr>
<tr>
<td>android:shadowDx</td>
<td>setShadowLayer(float,float,float,int)</td>
<td>阴影横向偏移量.</td>
</tr>
<tr>
<td>android:shadowDy</td>
<td>setShadowLayer(float,float,float,int)</td>
<td>阴影纵向偏移量.</td>
</tr>
<tr>
<td>android:shadowRadius</td>
<td>setShadowLayer(float,float,float,int)</td>
<td>设置阴影的范围.</td>
</tr>
<tr>
<td>android:singleLine</td>
<td>setTransformationMethod(TransformationMethod)</td>
<td>限制文本显示与一行中，用横向滚动来代替多行显示.</td>
</tr>
<tr>
<td>android:text</td>
<td>setText(CharSequence,TextView.BufferType)</td>
<td>用于显示的文本一定是字符串值，使用‘\;’来转义字符。比如‘\n’或用‘\uxxxx’代表 UNICODE 字符.</td>
</tr>
<tr>
<td>android:textAllCaps</td>
<td>setAllCaps(boolean)</td>
<td>全部使用大写字母来呈现文本.</td>
</tr>
<tr>
<td>android:textAppearance</td>
<td></td>
<td>基本的文字颜色、字体、大小和风格.</td>
</tr>
<tr>
<td>android:textColor</td>
<td>setTextColor(int)</td>
<td>文本颜色，可能是对其它资源的参照，形式为“@[+][package:]type:name” 或“?[package:][type:]name”形式的主题属性.</td>
</tr>
<tr>
<td>android:textColorHighlight</td>
<td>setHighlightColor(int)</td>
<td>选中文本的高亮部分的颜色.</td>
</tr>
<tr>
<td>android:textColorHint</td>
<td>setHintTextColor(int)</td>
<td>提示信息的文字颜色.</td>
</tr>
<tr>
<td>android:textColorLink</td>
<td>setLinkTextColor(int)</td>
<td>超链接的文字颜色.</td>
</tr>
<tr>
<td>android:textIsSelectable</td>
<td>isTextSelectable()</td>
<td>指示非可编辑文本可以选择.</td>
</tr>
<tr>
<td>android:textScaleX</td>
<td>setTextScaleX(float)</td>
<td>设置文本的横向缩放因子.</td>
</tr>
<tr>
<td>android:textSize</td>
<td>setTextSize(int,float)</td>
<td>文字的大小.推荐以“sp（可缩放像素）”为单位来设置该值（比如 15sp）.</td>
</tr>
<tr>
<td>android:textStyle</td>
<td>setTypeface(Typeface)</td>
<td>文字风格（粗体、斜体、粗斜体等）.</td>
</tr>
<tr>
<td>android:typeface</td>
<td>setTypeface(Typeface)</td>
<td>字体名称（楷体、宋体、仿宋、黑体等）.</td>
</tr>
<tr>
<td>android:width</td>
<td>setWidth(int)</td>
<td>精确的设置TextView 的宽度，使用布局参数也可以达到相同效果.</td>
</tr>
</tbody>
</table>
<p>Android中字体大小使用sp作为单位。</p>
<p>属性测试：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">              android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">              android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">              android:orientation=<span class="string">"vertical"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 设置文字颜色、大小、样式 --&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:text=<span class="string">"红色粗体倾斜的TextView"</span></span><br><span class="line">        android:textColor=<span class="string">"#EA5246"</span></span><br><span class="line">        android:textStyle=<span class="string">"bold|italic"</span></span><br><span class="line">        android:textSize=<span class="string">"18sp"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 使用阴影 --&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_centerInParent=<span class="string">"true"</span></span><br><span class="line">        android:shadowColor=<span class="string">"#F9F900"</span></span><br><span class="line">        android:shadowDx=<span class="string">"10.0"</span></span><br><span class="line">        android:shadowDy=<span class="string">"10.0"</span></span><br><span class="line">        android:shadowRadius=<span class="string">"3.0"</span></span><br><span class="line">        android:text=<span class="string">"带阴影的TextView"</span></span><br><span class="line">        android:textColor=<span class="string">"#4A4AFF"</span></span><br><span class="line">        android:textSize=<span class="string">"30sp"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 带图片 --&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_centerInParent=<span class="string">"true"</span></span><br><span class="line">        android:drawableTop=<span class="string">"@mipmap/ic_launcher"</span></span><br><span class="line">        android:drawableLeft=<span class="string">"@mipmap/ic_launcher"</span></span><br><span class="line">        android:drawableRight=<span class="string">"@mipmap/ic_launcher"</span></span><br><span class="line">        android:drawableBottom=<span class="string">"@mipmap/ic_launcher"</span></span><br><span class="line">        android:text=<span class="string">"带图片的TextView"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 对邮件、电话、网址增加链接 --&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:text=<span class="string">"邮件：1172949809@qq.com\n电话：18248602820\n博客：http://www.aijunhao.com.cn"</span></span><br><span class="line">        android:autoLink=<span class="string">"email|phone|web"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 实现跑马灯效果 --&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:textSize=<span class="string">"18sp"</span></span><br><span class="line">        android:singleLine=<span class="string">"true"</span></span><br><span class="line">        android:ellipsize=<span class="string">"marquee"</span></span><br><span class="line">        android:marqueeRepeatLimit=<span class="string">"marquee_forever"</span></span><br><span class="line">        android:focusable=<span class="string">"true"</span></span><br><span class="line">        android:focusableInTouchMode=<span class="string">"true"</span></span><br><span class="line">        android:text=<span class="string">"实现跑马灯效果的TextView，Android零基础入门到精通系列教程"</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id=""><a href="#" class="headerlink" title=""></a><img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/TextViewTest.PNG" alt=""></h2><h3 id="Button按钮控件"><a href="#Button按钮控件" class="headerlink" title="Button按钮控件"></a>Button按钮控件</h3><p>TextView的子类，按钮控件。</p>
<p>系统会对Button中的所有英文字母自动进行大写转换，可以使用“android:textAllCaps”属性来设置是否转化。</p>
<p>按钮点击事件在“android:onClick”属性中设置监听方法，并在活动中实现接口。</p>
<hr>
<h3 id="EditText"><a href="#EditText" class="headerlink" title="EditText"></a>EditText</h3><p>TextView子类，文本框控件。</p>
<p>获取EditText中的文本。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String inputText = editText.getText().toString();</span><br></pre></td></tr></table></figure></p>
<p>EditText比较重要的一个属性是inputType，用于为EditText设置输入类型。</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>none</td>
<td>普通字符</td>
</tr>
<tr>
<td>text</td>
<td>普通字符</td>
</tr>
<tr>
<td>textCapCharacters</td>
<td>字母大写</td>
</tr>
<tr>
<td>textCapWords</td>
<td>首字母大写</td>
</tr>
<tr>
<td>textCapSentences</td>
<td>仅第一个字母大写</td>
</tr>
<tr>
<td>textAutoCorrect</td>
<td>自动完成</td>
</tr>
<tr>
<td>textAutoComplete</td>
<td>自动完成</td>
</tr>
<tr>
<td>textMultiLine</td>
<td>多行输入</td>
</tr>
<tr>
<td>textImeMultiLine</td>
<td>输入法多行（如果支持）</td>
</tr>
<tr>
<td>textNoSuggestions</td>
<td>不提示</td>
</tr>
<tr>
<td>textUri</td>
<td>网址</td>
</tr>
<tr>
<td>textEmailAddress</td>
<td>电子邮件地址</td>
</tr>
<tr>
<td>textEmailSubject</td>
<td>邮件主题</td>
</tr>
<tr>
<td>textShortMessage</td>
<td>短讯</td>
</tr>
<tr>
<td>textLongMessage</td>
<td>长信息</td>
</tr>
<tr>
<td>textPersonName</td>
<td>人名</td>
</tr>
<tr>
<td>textPostalAddress</td>
<td>地址</td>
</tr>
<tr>
<td>textPassword</td>
<td>密码</td>
</tr>
<tr>
<td>textVisiblePassword</td>
<td>可见密码</td>
</tr>
<tr>
<td>textWebEditText</td>
<td>作为网页表单的文本</td>
</tr>
<tr>
<td>textFilter</td>
<td>文本筛选过滤</td>
</tr>
<tr>
<td>textPhonetic</td>
<td>拼音输入</td>
</tr>
<tr>
<td>number</td>
<td>数字</td>
</tr>
<tr>
<td>numberSigned</td>
<td>带符号数字格式</td>
</tr>
<tr>
<td>numberDecimal</td>
<td>带小数点的浮点格式</td>
</tr>
<tr>
<td>phone</td>
<td>拨号键盘</td>
</tr>
<tr>
<td>datetime</td>
<td>时间日期</td>
</tr>
<tr>
<td>date</td>
<td>日期键盘</td>
</tr>
<tr>
<td>time</td>
<td>时间键盘</td>
</tr>
</tbody>
</table>
<p>EditText还派生了如下两个子类。</p>
<ul>
<li>AutoCompleteTextView：带有自动完成功能的EditText。由于该类通常需要与 Adapter结合使用。</li>
<li>ExtractEditText：并不是UI组件，而是EditText组件的底层服务类，负责提供全屏输入法支持。</li>
</ul>
<hr>
<h3 id="ImageView图片控件"><a href="#ImageView图片控件" class="headerlink" title="ImageView图片控件"></a>ImageView图片控件</h3><p>mageView继承自View组件，主要功能是用于显示图片，可以显示任意图像。ImageView与其子类的类图如下图所示。</p>
<p><img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/ImageView.jpg" alt=""></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>android:adjustViewBounds</td>
<td>setAdjustViewBounds(boolean)</td>
<td>设置ImageView是否调整自己的边界来保持显示图片长宽比</td>
</tr>
<tr>
<td>android:cropToPadding</td>
<td>setCcropToPadding(boolean)</td>
<td>设置属性设置为true，组件将被裁剪到保留ImageView的padding</td>
</tr>
<tr>
<td>android:maxHeight</td>
<td>setMaxHeight(int)</td>
<td>设置ImageView的最大高度</td>
</tr>
<tr>
<td>android:maxWidth</td>
<td>setWidth(int)</td>
<td>设置ImageView的最大宽度</td>
</tr>
<tr>
<td>android:scaleType</td>
<td>setScaleType(ImageView.ScaleType)</td>
<td>设置所显示的图片如何适应ImageView的大小</td>
</tr>
<tr>
<td>android:src</td>
<td>setImageResource(int)</td>
<td>设置ImageView所显示的Drawable对象的ID</td>
</tr>
</tbody>
</table>
<p>ImageView有两个可以设置图片的属性，分别是：android:src和父类View中的android:background，其中background通常指的是背景，而src指的是内容。另外当使用src填入图片时，是按照图片大小直接填充，并不会进行拉伸，需要配合scaleType进行图片拉伸，而使用background填入图片，则是会根据ImageView给定的大小来进行拉伸(自动填充背景)。</p>
<p> ImageView所支持的android:scaleType属性可指定如下表。</p>
<table>
<thead>
<tr>
<th>属性/方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>matrix ( ImageView.ScaleType.MATRIX)</td>
<td>使用 matrix 方式进行缩放。</td>
</tr>
<tr>
<td>fitXY ( lmageView.ScaleType.FIT_XY)</td>
<td>对图片横向、纵向独立缩放，使得该图片完全适应于该ImageView,图片的纵横比可能会改变。</td>
</tr>
<tr>
<td>fitStart (ImageView.ScaleType.FIT_START )</td>
<td>保持纵横比缩放图片，直到该图片能完全显示在ImageView中（图片较长的边长与ImageView相应的边长相等）,缩放完成后将该图片放在ImageView的左上角。</td>
</tr>
<tr>
<td>fitCenter (ImageView.ScaleType.FIT_CENTER )</td>
<td>保持纵横比缩放图片，直到该图片能完全显示在ImageView中（图片较长的边长与ImageView相应的边长相等）， 缩放完成后将该图片放在ImageView的中央。</td>
</tr>
<tr>
<td>fitEnd (ImageView.ScaleType.FIT_END )</td>
<td>保持纵横比缩放图片，直到该图片能完全显示在ImageView中（图片较长的边长与ImageView相应的边长相等），缩放完成后将该图片放在ImageView的右下角。</td>
</tr>
<tr>
<td>center ( ImageView.ScaleType.CENTER)</td>
<td>把图片放在 ImageView 的中间，但不进行任何缩放。</td>
</tr>
<tr>
<td>centerCrop ( ImageView.ScaleType.CENTER_CROP)</td>
<td>保持纵横比缩放图片，以使得图片能完全覆盖ImageView。只要图片的最短边能显示出来即可。</td>
</tr>
<tr>
<td>centerlnside (ImageView.ScaleType.CENTER_INSIDE )</td>
<td>保持纵横比缩放图片，以使得ImageView能完全显示该图片。</td>
</tr>
</tbody>
</table>
<p>控制ImageView显示的图片的方法</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>属性</th>
</tr>
</thead>
<tbody>
<tr>
<td>setlmageBitmap(Bitmap bm)</td>
<td>使用 Bitmap 位图设置该 ImageView 显示的图片。</td>
</tr>
<tr>
<td>setlmageDrawable(Drawable drawable)</td>
<td>使用 Drawable 对象设置该 ImageView 显示的图片。</td>
</tr>
<tr>
<td>setlmageResource(int resld)</td>
<td>使用图片资源ID设置该ImageView显示的图片。</td>
</tr>
<tr>
<td>setlmageURI(Uri uri)</td>
<td>使用图片的URI设置   该ImageView显示的图片。</td>
</tr>
</tbody>
</table>
<p>图片资源设置案例，使用setImageDrawable()方法更高效：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ImageView iv, iv2;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        iv = (ImageView) findViewById(R.id.iv);</span><br><span class="line">        iv.setBackgroundColor(Color.BLACK);</span><br><span class="line">        iv.setImageResource(R.drawable.test);</span><br><span class="line"></span><br><span class="line">        iv2 = (ImageView) findViewById(R.id.iv2);</span><br><span class="line">        iv2.setBackgroundColor(Color.GREEN);</span><br><span class="line">        iv2.setImageDrawable(getResources().getDrawable(R.drawable.test));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="ProgressBar进度条组件"><a href="#ProgressBar进度条组件" class="headerlink" title="ProgressBar进度条组件"></a>ProgressBar进度条组件</h3><p>ProgressBar也是一组重要的组件，ProgressBar本身代表了进度条组件，它还派生了两个常用的组件：SeekBar和RatingBar。</p>
<p>ProgressBar主要用于页面加载的过度动画、显示下载进度等适合系统控制进度条的变化活动，不允许用户控制。</p>
<p><img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/ProgressBar类图.jpg" alt=""></p>
<p>进度条组件默认是圆形，通过设置进度条样式(Style)来修改。</p>
<table>
<thead>
<tr>
<th>style</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>@android:style/Widget.ProgressBar.Horizontal</td>
<td>水平进度条</td>
</tr>
<tr>
<td>@android:style/Widget.ProgressBar.Inverse</td>
<td>普通大小的环形进度条</td>
</tr>
<tr>
<td>@android:style/Widget.ProgressBar.Large</td>
<td>大环形进度条</td>
</tr>
<tr>
<td>@android:style/Widget.ProgressBar.Large.Inverse</td>
<td>大环形进度条</td>
</tr>
<tr>
<td>@android:style/Widget.ProgressBar.Small</td>
<td>小环形进度条</td>
</tr>
<tr>
<td>@android:style/Widget.ProgressBar.Small.Inverse</td>
<td>小环形进度条</td>
</tr>
</tbody>
</table>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">android:orientation</span>=<span class="string">"vertical"</span> &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--默认的进度条--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--系统提供的水平进度条--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">        <span class="attr">style</span>=<span class="string">"@android:style/Widget.ProgressBar.Horizontal"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:max</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:progress</span>=<span class="string">"18"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/ProgressBar.png" alt=""></p>
<p>ProgressBar属性方法如下表：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>android:max</td>
<td>setMax(int)</td>
<td>设置进度条的最大值</td>
</tr>
<tr>
<td>android:progress</td>
<td>setProgress()</td>
<td>设置进度条已完成进度值</td>
</tr>
<tr>
<td>android:progressDrawable</td>
<td>setProgressDrawable(Drawable)</td>
<td>设置轨道对应的Drawable对象，自定义背景图</td>
</tr>
<tr>
<td>android:indeterminate</td>
<td>setIndeterminate(boolean)</td>
<td>如果设置成true，则进度条不精确显示进度</td>
</tr>
<tr>
<td>android:indeterminateDrawable</td>
<td>setIndeterminateDrawable(Drawable)</td>
<td>设置不显示进度的进度条的Drawable对象</td>
</tr>
<tr>
<td>android:indeterminateDuration</td>
<td></td>
<td>设置不精确显示进度的持续时间</td>
</tr>
<tr>
<td>android:maxHeight</td>
<td></td>
<td>设置最大高度</td>
</tr>
<tr>
<td>android:minHeight</td>
<td></td>
<td>设置最小高度</td>
</tr>
<tr>
<td>android:maxWidth</td>
<td></td>
<td>设置最大宽度</td>
</tr>
<tr>
<td>android:minWidth</td>
<td></td>
<td>设置最小宽度</td>
</tr>
<tr>
<td>android:progressTint</td>
<td></td>
<td>主进度条颜色</td>
</tr>
<tr>
<td>android:progressTintMode</td>
<td></td>
<td>设置主进度颜色模式</td>
</tr>
<tr>
<td>android:secondaryProgress</td>
<td>setSecondaryProgress(int)</td>
<td>设置二级进度条的播放进度</td>
</tr>
<tr>
<td>android:secondaryProgressTint</td>
<td></td>
<td>设置二级进度条的颜色</td>
</tr>
<tr>
<td>android:secondaryProgressTintMode</td>
<td></td>
<td>设置二级进度条的颜色模式</td>
</tr>
</tbody>
</table>
<p>进度条组件事件属于耗时，执行时在线程中进行。</p>
<hr>
<h3 id="SeekBar拖动条组件"><a href="#SeekBar拖动条组件" class="headerlink" title="SeekBar拖动条组件"></a>SeekBar拖动条组件</h3><p>ProgressBar的子类，拖动条，允许用户手动改变的进度条组件，常用于音视频播放器的进度指、音量等可以用户控制的组件。</p>
<p>有了用户控制功能，少不了的就是监听接口(OnSeekBarChangeListener)。</p>
<p>特有属性如下表：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>android:thumb</td>
<td>设置进度条的滑块图片</td>
</tr>
</tbody>
</table>
<p>接口如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A callback that notifies clients when the progress level has been</span></span><br><span class="line"><span class="comment"> * changed. This includes changes that were initiated by the user through a</span></span><br><span class="line"><span class="comment"> * touch gesture or arrow key/trackball as well as changes that were initiated</span></span><br><span class="line"><span class="comment"> * programmatically.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OnSeekBarChangeListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Notification that the progress level has changed. Clients can use the fromUser parameter</span></span><br><span class="line"><span class="comment">     * to distinguish user-initiated changes from those that occurred programmatically.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> seekBar The SeekBar whose progress has changed</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> progress The current progress level. This will be in the range min..max where min</span></span><br><span class="line"><span class="comment">     *                 and max were set by &#123;<span class="doctag">@link</span> ProgressBar#setMin(int)&#125; and</span></span><br><span class="line"><span class="comment">     *                 &#123;<span class="doctag">@link</span> ProgressBar#setMax(int)&#125;, respectively. (The default values for</span></span><br><span class="line"><span class="comment">     *                 min is 0 and max is 100.)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fromUser True if the progress change was initiated by the user.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onProgressChanged</span><span class="params">(SeekBar seekBar, <span class="keyword">int</span> progress, <span class="keyword">boolean</span> fromUser)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Notification that the user has started a touch gesture. Clients may want to use this</span></span><br><span class="line"><span class="comment">     * to disable advancing the seekbar.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> seekBar The SeekBar in which the touch gesture began</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onStartTrackingTouch</span><span class="params">(SeekBar seekBar)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Notification that the user has finished a touch gesture. Clients may want to use this</span></span><br><span class="line"><span class="comment">     * to re-enable advancing the seekbar.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> seekBar The SeekBar in which the touch gesture began</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onStopTrackingTouch</span><span class="params">(SeekBar seekBar)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在使用时，设置SeekBar组件监听接口然后重新方法。</p>
<hr>
<h2 id="4种基本布局"><a href="#4种基本布局" class="headerlink" title="4种基本布局"></a>4种基本布局</h2><h2 id="布局是一种可用于防止很多空间的容器，可以按照一定的规律调整内部空间的位置，从而编写精美的界面。"><a href="#布局是一种可用于防止很多空间的容器，可以按照一定的规律调整内部空间的位置，从而编写精美的界面。" class="headerlink" title="布局是一种可用于防止很多空间的容器，可以按照一定的规律调整内部空间的位置，从而编写精美的界面。"></a>布局是一种可用于防止很多空间的容器，可以按照一定的规律调整内部空间的位置，从而编写精美的界面。</h2><h3 id="线性布局"><a href="#线性布局" class="headerlink" title="线性布局"></a>线性布局</h3><p>LinearLayout线性布局，布局将包含的控件在线性方向上依次排序。</p>
<p>通过android:orientation属性设置排列方向horrizontal或者vertical。</p>
<h3 id="相对布局"><a href="#相对布局" class="headerlink" title="相对布局"></a>相对布局</h3><p>RelativeLayout相对布局，通过控件上下左右等相对定位的方式让组件出现在布局的任意位置。</p>
<h3 id="帧布局"><a href="#帧布局" class="headerlink" title="帧布局"></a>帧布局</h3><p>FrameLayout帧布局，布局方式较为简单，所有的控件都会默认放在布局的左上角。可以通过android:gravity属性来指定控件在布局中的对齐方式。</p>
<p>帧布局的由于定位方式的欠缺，应用场景比较少，常在碎片中使用。</p>
<h3 id="百分比布局"><a href="#百分比布局" class="headerlink" title="百分比布局"></a>百分比布局</h3><p>PercentFrameLayout和PercentRelativeLayout百分比布局，为FrameLayout和RelativeLayout进行了功能拓展。</p>
<p>前三种布局方式通过android:layout_width和android:Layout_height方式指定控件大小。</p>
<p>百分比布局允许直接指定控件在布局中所占的百分比来实现指定控件大小。</p>
<p>百分比布局被定义在support库中，使用前需要在项目的build.gradle中添加百分比布局库的依赖。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    compile <span class="string">'com.android.support:percent:26.1.0'</span></span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>导包会有些问题，不多做介绍。</p>
<hr>
<h3 id="导入布局"><a href="#导入布局" class="headerlink" title="导入布局"></a>导入布局</h3><p>有些时候布局控件比较多，而有时候这些布局又是在多处地方有相似的布局，重新写一遍实在过于麻烦，此时我们将这些单独写在一个布局中，然后在其他布局中include这个布局，不同的布局导入相同的布局，导入的布局中的控件使用相同的id，但是在不同的布局中又不会相互干扰。</p>
<p>比如，使用include导入布局方式导入自定义标题栏：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- activity_title.xml --&gt;</span></span><br><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/colorAccent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/btn_back"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"返回"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv_title"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_weight</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"30sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"标题"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/btn_set"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"设置"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/includeTitle.png" alt=""></p>
<p>之后再要使用的布局中导入activity_title布局就能使用了。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- activity_main.xml --&gt;</span></span><br><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/colorAccent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">layout</span>=<span class="string">"@layout/activity_title"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>此外，要使用自定义标题栏时需要隐藏掉系统自带的标题栏。</p>
<ol>
<li><p>(推荐)方法一：设置activity主题为安卓自带的无标题栏全屏主题，并继承Activity类。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">manifest</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">package</span>=<span class="string">"com.me.androidfirstlinecode"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:icon</span>=<span class="string">"@mipmap/ic_launcher"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:theme</span>=<span class="string">"@style/AppTheme"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:name</span>=<span class="string">".MainActivity"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:theme</span>=<span class="string">"@android:style/Theme.NoTitleBar.Fullscreen"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.MAIN"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.LAUNCHER"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当使用自定义style时可以查看Theme.NoTitleBar.Fullscreen这个style，主要是如下这个属性设置了全屏。<br>在Theme.NoTitleBar这个style中定义了隐藏标题栏：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Variant of &#123;@link #Theme&#125; with no title bar --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"Theme.NoTitleBar"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"windowNoTitle"</span>&gt;</span>true<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Theme.NoTitleBar.Fullscreen又在Theme.NoTitleBar这个基础上添加了全屏属性：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Variant of &#123;@link #Theme&#125; that has no title bar and no status bar.  This theme</span></span><br><span class="line"><span class="comment">     sets &#123;@link android.R.attr#windowFullscreen&#125; to true.  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"Theme.NoTitleBar.Fullscreen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"windowFullscreen"</span>&gt;</span>true<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"windowContentOverlay"</span>&gt;</span>@null<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>自定义style设置无标题全屏。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Base application theme. --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"Theme.AppCompat.Light.DarkActionBar"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- Customize your theme here. --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimary"</span>&gt;</span>@color/colorPrimary<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimaryDark"</span>&gt;</span>@color/colorPrimaryDark<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorAccent"</span>&gt;</span>@color/colorAccent<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"windowNoTitle"</span>&gt;</span>true<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"android:windowFullscreen"</span>&gt;</span>true<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>(能用，不推荐)在activity的onCreate()方法里指定No title 。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Window;</span><br><span class="line"><span class="keyword">import</span> android.view.WindowManager;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置隐藏标题栏</span></span><br><span class="line">        requestWindowFeature(Window.FEATURE_NO_TITLE);</span><br><span class="line">        <span class="comment">// 设置全屏</span></span><br><span class="line">        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);</span><br><span class="line">        <span class="comment">// 取消全屏</span></span><br><span class="line">        getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);</span><br><span class="line"></span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>设置隐藏标题栏和是否全屏需要在setContextView()方法之前使用，此方法在实际使用时会有一瞬间有标题栏，然后迅速隐藏掉，原因是activity设置的是默认有标题栏的主题，然后在这个方法调用之后才会隐藏标题栏和全屏。</p>
<ol start="3">
<li>activity继承AppCompatActivity可以使用getSupportActionBar()犯法获得ActionBar的实例然后掉用hide()方法将标题隐藏。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        ActionBar actionBar = getSupportActionBar();</span><br><span class="line">        <span class="keyword">if</span> (actionBar != <span class="keyword">null</span>)&#123;</span><br><span class="line">            actionBar.hide();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h3 id="自定义控件"><a href="#自定义控件" class="headerlink" title="自定义控件"></a>自定义控件</h3><p>自定义控件的原则在已有的控件之上添加自己需要的功能，而不是全新，不然其难度不下于重写一遍系统。</p>
<p>比如刚才的标题栏，为了方便，可以将它做成自定义控件。</p>
<h4 id="自定义标题栏控件方法一："><a href="#自定义标题栏控件方法一：" class="headerlink" title="自定义标题栏控件方法一："></a>自定义标题栏控件方法一：</h4><p>activity_title.xml:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/colorAccent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/btn_back"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"返回"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv_title"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_weight</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"30sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"标题"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/btn_set"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"设置"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>自定义控件TitleLayout：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 作者：AiJunhao</span></span><br><span class="line"><span class="comment"> * 日期：2018/9/26 19:12</span></span><br><span class="line"><span class="comment"> * 描述：</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TitleLayout</span> <span class="keyword">extends</span> <span class="title">LinearLayout</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> View btn_back;</span><br><span class="line">    <span class="keyword">private</span> View tv_title;</span><br><span class="line">    <span class="keyword">private</span> View btn_set;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitleLayout</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitleLayout</span><span class="params">(Context context, @Nullable AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, attrs,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitleLayout</span><span class="params">(Context context, @Nullable AttributeSet attrs, <span class="keyword">int</span> defStyleAttr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs, defStyleAttr);</span><br><span class="line">        LayoutInflater.from(context).inflate(R.layout.activity_title, <span class="keyword">this</span>);</span><br><span class="line">        btn_back = (Button) findViewById(R.id.btn_back);</span><br><span class="line">        btn_set = (Button) findViewById(R.id.btn_set);</span><br><span class="line"></span><br><span class="line">        btn_back.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        btn_set.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (v.getId())&#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_back:</span><br><span class="line">                Toast.makeText(getContext(), <span class="string">"back"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_set:</span><br><span class="line">                Toast.makeText(getContext(), <span class="string">"set"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>使用自定义控件：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"#fff"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">com.me.androidfirstlinecode.TitleLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="除了上面一种写法，还有一种方法显得更为专业。"><a href="#除了上面一种写法，还有一种方法显得更为专业。" class="headerlink" title="除了上面一种写法，还有一种方法显得更为专业。"></a>除了上面一种写法，还有一种方法显得更为专业。</h4><p>titlebar2.xml:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">com.me.androidfirstlinecode.TitleBar2</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"55dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"@color/colorAccent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv_back"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"返回"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"25sp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv_title"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"标题"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_weight</span>=<span class="string">"1"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"30sp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/tv_set"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"设置"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"25sp"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">com.me.androidfirstlinecode.TitleBar2</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>TitleBar2.java:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 作者：AiJunhao</span></span><br><span class="line"><span class="comment"> * 日期：2018/9/27 15:12</span></span><br><span class="line"><span class="comment"> * 描述：</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TitleBar2</span> <span class="keyword">extends</span> <span class="title">LinearLayout</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用View父类而不是具体的Button或者TextView等更方便</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> View tv_back, tv_title, tv_set;</span><br><span class="line">    <span class="keyword">private</span> Context context;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 在代码中实例化该类的时候使用这个方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitleBar2</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 当在布局文件使用该类的时候，Android系统通过这个构造方法实例化该类</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> attrs</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitleBar2</span><span class="params">(Context context, @Nullable AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, attrs, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 当需要设置样式的时候，可以使用该方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> attrs</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> defStyleAttr</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitleBar2</span><span class="params">(Context context, @Nullable AttributeSet attrs, <span class="keyword">int</span> defStyleAttr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs, defStyleAttr);</span><br><span class="line">        <span class="keyword">this</span>.context = context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onFinishInflate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onFinishInflate();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 下标从0开始，根据布局的先后顺序排列</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        tv_back = getChildAt(<span class="number">0</span>);</span><br><span class="line">        tv_title = getChildAt(<span class="number">1</span>);</span><br><span class="line">        tv_set = getChildAt(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        tv_back.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        tv_title.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        tv_set.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (v.getId())&#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.tv_back:</span><br><span class="line">                Toast.makeText(context, <span class="string">"back"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.tv_title:</span><br><span class="line">                Toast.makeText(context, <span class="string">"title"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.tv_set:</span><br><span class="line">                Toast.makeText(context, <span class="string">"set"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在布局中调用自定义组件：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"#fff"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">layout</span>=<span class="string">"@layout/titlebar2"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>另外，有一个小注意点，在两个自定义标题栏的java文件中，前两个构造方法，用的是this()而不是super()，这样的结果就是不管调用哪个构造函数，最终都是调用最后一个构造函数，这样可以减少开发的难度。</p>
<h4 id="除了上面这种多控件组合形成新控件外，还有就是在原有的控件基础上增加功能。"><a href="#除了上面这种多控件组合形成新控件外，还有就是在原有的控件基础上增加功能。" class="headerlink" title="除了上面这种多控件组合形成新控件外，还有就是在原有的控件基础上增加功能。"></a>除了上面这种多控件组合形成新控件外，还有就是在原有的控件基础上增加功能。</h4><p>比如系统自带的视频控件VideoView，它能设置视频大小，但是它并没有现成的自定义设置视频大小的方法,当我们在开发时要实现这个功能就需要在系统的VideoView基础上创建自定义控件。</p>
<p>自定义VideoView:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.util.AttributeSet;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 作者：AiJunhao</span></span><br><span class="line"><span class="comment"> * 日期：2018/9/27 15:53</span></span><br><span class="line"><span class="comment"> * 描述：</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VideoView</span> <span class="keyword">extends</span> <span class="title">android</span>.<span class="title">widget</span>.<span class="title">VideoView</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">VideoView</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">VideoView</span><span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(context, attrs, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">VideoView</span><span class="params">(Context context, AttributeSet attrs, <span class="keyword">int</span> defStyleAttr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs, defStyleAttr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 测量，自定义View尺寸的规则，如果View尺寸和父控件一致就不用了</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> widthMeasureSpec</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> heightMeasureSpec</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onMeasure</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onMeasure(widthMeasureSpec, heightMeasureSpec);</span><br><span class="line">        setMeasuredDimension(widthMeasureSpec, heightMeasureSpec);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置视频的宽和高</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> videoWidth</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> videoHeight</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVideoSize</span><span class="params">(<span class="keyword">int</span> videoWidth, <span class="keyword">int</span> videoHeight)</span></span>&#123;</span><br><span class="line">        ViewGroup.LayoutParams params = getLayoutParams();</span><br><span class="line">        params.width = videoWidth;</span><br><span class="line">        params.height = videoHeight;</span><br><span class="line">        setLayoutParams(params);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>注意，这里我们用的直接就是VideoView，与系统的VideoView同名，但是包名不同，所以并不会起冲突，只要导包时候注意导的使我们自定义的VideoView包就行。</p>
<hr>
<h3 id="ListView列表控件——最常用和最难用的控件"><a href="#ListView列表控件——最常用和最难用的控件" class="headerlink" title="ListView列表控件——最常用和最难用的控件"></a>ListView列表控件——最常用和最难用的控件</h3><p>一般ListView都是与Adapter相结合才会有炫酷的效果。</p>
<h4 id="Adapter是什么"><a href="#Adapter是什么" class="headerlink" title="Adapter是什么"></a>Adapter是什么</h4><p>An Adapter object acts as a bridge between an AdapterView and the underlying data for that view. The Adapter provides access to the data items. The Adapter is also responsible for making a View for each item in the data set.</p>
<p>翻译过来，简单理解就是adapter是view和数据的桥梁。在一个ListView或者GridView中，你不可能手动给每一个格子都新建一个view，所以这时候就需要Adapter的帮忙，它会帮你自动绘制view并且填充数据。</p>
<p>Adapter的几个常用实现类如下。</p>
<ul>
<li><p>ArrayAdapter：简单、易用的Adapter，通常用于将数组或List集合的多个值包装成多个列表项。</p>
</li>
<li><p>SimpleAdapter：并不简单、功能强大的Adapter，可用于将List集合的多个对象包装成多个列表项。</p>
</li>
<li><p>SimpleCursorAdapter：与SimpleAdapter基本相似，只是用于包装Cursor提供的数据。</p>
</li>
<li><p>BaseAdapter：通常用于被扩展，扩展BaseAdapter可以对各列表项进行最大限度的定制。</p>
</li>
</ul>
<h4 id="ArrayAdapter"><a href="#ArrayAdapter" class="headerlink" title="ArrayAdapter"></a>ArrayAdapter</h4><p>首先在布局中使用ListView：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/list_view"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span><span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>然后设置ListView每个Item的布局fruit_item.xml：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/fruit_image"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/fruit_name"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_margin</span>=<span class="string">"10dp"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>创建对象Fruit.java，最好加上toString()方法，方便后期debug:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 作者：AiJunhao</span></span><br><span class="line"><span class="comment"> * 日期：2018/9/27 20:38</span></span><br><span class="line"><span class="comment"> * 描述：</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> imageId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fruit</span><span class="params">(String name, <span class="keyword">int</span> imageId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.imageId = imageId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getImageId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> imageId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageId</span><span class="params">(<span class="keyword">int</span> imageId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.imageId = imageId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Fruit&#123;"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", imageId="</span> + imageId +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后自定义适配器FruitAdapter继承ArrayAdapter:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 作者：AiJunhao</span></span><br><span class="line"><span class="comment"> * 日期：2018/9/27 20:43</span></span><br><span class="line"><span class="comment"> * 描述：</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FruitAdapter</span> <span class="keyword">extends</span> <span class="title">ArrayAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Context context;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> resourceId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FruitAdapter</span><span class="params">(Context context, <span class="keyword">int</span> resource, List&lt;Fruit&gt; objects)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, resource, objects);</span><br><span class="line">        <span class="keyword">this</span>.context = context;</span><br><span class="line">        resourceId = resource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  获取视图装载组件最后返回列表项</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> position</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> convertView</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parent</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, @Nullable View convertView, @NonNull ViewGroup parent)</span> </span>&#123;</span><br><span class="line">        Fruit fruit = (Fruit)getItem(position);</span><br><span class="line">        View view = LayoutInflater.from(getContext()).inflate(resourceId, parent, <span class="keyword">false</span>);</span><br><span class="line">        ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image);</span><br><span class="line">        TextView fruitName = (TextView) view.findViewById(R.id.fruit_name);</span><br><span class="line">        fruitImage.setImageResource(fruit.getImageId());</span><br><span class="line">        fruitName.setText(fruit.getName());</span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>最后在activity中创建Fruit对象并放入列表中，然后添加适配器：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.widget.ListView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecondActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; fruitList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String[] data = &#123;<span class="string">"A"</span>,<span class="string">"B"</span>,<span class="string">"C"</span>,<span class="string">"D"</span>,<span class="string">"E"</span>,<span class="string">"F"</span>,<span class="string">"G"</span>,<span class="string">"H"</span>,<span class="string">"I"</span>,<span class="string">"J"</span>,<span class="string">"K"</span>,<span class="string">"L"</span>,<span class="string">"M"</span>,<span class="string">"N"</span>,<span class="string">"O"</span>,<span class="string">"P"</span>,<span class="string">"Q"</span>,<span class="string">"R"</span>,<span class="string">"S"</span>,<span class="string">"T"</span>,<span class="string">"U"</span>,<span class="string">"V"</span>,<span class="string">"W"</span>,<span class="string">"X"</span>,<span class="string">"Y"</span>,<span class="string">"Z"</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_second);</span><br><span class="line"></span><br><span class="line">        initFruits();</span><br><span class="line"></span><br><span class="line">        FruitAdapter adapter = <span class="keyword">new</span> FruitAdapter(SecondActivity.<span class="keyword">this</span>, R.layout.fruit_item, fruitList);</span><br><span class="line">        ListView listView = (ListView) findViewById(R.id.list_view);</span><br><span class="line">        listView.setAdapter(adapter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initFruits</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">26</span>; i++)&#123;</span><br><span class="line">            Fruit fruit = <span class="keyword">new</span> Fruit(data[i], R.drawable.ic_launcher_background);</span><br><span class="line">            fruitList.add(fruit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="自定义Adapter优化"><a href="#自定义Adapter优化" class="headerlink" title="自定义Adapter优化"></a>自定义Adapter优化</h5><p>如果直接使用以上的自定义Adapter，会有较大的资源浪费，ListView的运行效率很低。下面进行两点优化。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 优化一：布局缓存。</span></span><br><span class="line"><span class="comment">     * 优化理由：当ListView快速滚动的时候，布局会重新加载，而这些布局是已经加载过的，快速滚动会重复加载。</span></span><br><span class="line"><span class="comment">     * 优化方法：将之前加载好的布局进行缓存，在之后进行重用。getView()方法中的convertView参数进行布局缓存。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  获取视图装载组件最后返回列表项</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> position 实例位置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> convertView 将之前加载好的布局缓存</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parent</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, @Nullable View convertView, @NonNull ViewGroup parent)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 获取当前位置的的实例</span></span><br><span class="line">        Fruit fruit = (Fruit)getItem(position);</span><br><span class="line"></span><br><span class="line">        View view ;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取缓存，如果没有缓存，则进行加载布局，有缓存就从缓存中获取布局数据。</span></span><br><span class="line">        <span class="keyword">if</span> (convertView == <span class="keyword">null</span>)&#123;</span><br><span class="line">            view = LayoutInflater.from(getContext()).inflate(resourceId, parent, <span class="keyword">false</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            view = convertView;</span><br><span class="line">        &#125;</span><br><span class="line">        ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image);</span><br><span class="line">        TextView fruitName = (TextView) view.findViewById(R.id.fruit_name);</span><br><span class="line">        fruitImage.setImageResource(fruit.getImageId());</span><br><span class="line">        fruitName.setText(fruit.getName());</span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 优化二：优化获取控件的实例。</span></span><br><span class="line"><span class="comment">     * 优化理由：上面方法优化不会重复在家布局，但是在每次getView()方法中还是会调用View的findViewById()方法来获取一次控件的实例。</span></span><br><span class="line"><span class="comment">     * 优化方法：借助一个ViewHolder内部类来优化这部分性能。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  获取视图装载组件最后返回列表项</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> position 实例位置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> convertView 将之前加载好的布局缓存</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parent</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, @Nullable View convertView, @NonNull ViewGroup parent)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 获取当前位置的的实例</span></span><br><span class="line">        Fruit fruit = (Fruit)getItem(position);</span><br><span class="line"></span><br><span class="line">        View view ;</span><br><span class="line">        ViewHolder viewHolder;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取缓存，优化运行效率</span></span><br><span class="line">        <span class="keyword">if</span> (convertView == <span class="keyword">null</span>)&#123;</span><br><span class="line">            view = LayoutInflater.from(getContext()).inflate(resourceId, parent, <span class="keyword">false</span>);</span><br><span class="line">            viewHolder = <span class="keyword">new</span> ViewHolder();</span><br><span class="line">            viewHolder.fruitImage = (ImageView) view.findViewById(R.id.fruit_image);</span><br><span class="line">            viewHolder.fruitName = (TextView) view.findViewById(R.id.fruit_name);</span><br><span class="line">            view.setTag(viewHolder);        <span class="comment">// 将ViewHolder存储在View中</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            view = convertView;</span><br><span class="line">            viewHolder = (ViewHolder) view.getTag();    <span class="comment">// 重新获取ViewHolder</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        在确定没有缓存的时候获控件实例，将这部分放入到缓存判断中，然后将控件实例保存到viewHolder内部类实例对象中保存</span></span><br><span class="line"><span class="comment">//        ImageView fruitImage = (ImageView) view.findViewById(R.id.fruit_image);</span></span><br><span class="line"><span class="comment">//        TextView fruitName = (TextView) view.findViewById(R.id.fruit_name);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        在需要用的时候设置布局资源，这时候就要对viewHolder中的对象设置资源。</span></span><br><span class="line"><span class="comment">//        fruitImage.setImageResource(fruit.getImageId());</span></span><br><span class="line"><span class="comment">//        fruitName.setText(fruit.getName());</span></span><br><span class="line">        viewHolder.fruitImage.setImageResource(fruit.getImageId());</span><br><span class="line">        viewHolder.fruitName.setText(fruit.getName());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 内部类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span></span>&#123;</span><br><span class="line">        ImageView fruitImage;</span><br><span class="line">        TextView fruitName;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="ListView的点击事件"><a href="#ListView的点击事件" class="headerlink" title="ListView的点击事件"></a>ListView的点击事件</h4><p>点击分成两种：一种是ListView的item点击事件，一种是item中的组件的点击事件。</p>
<ol>
<li><p>item点击事件，利用activity中的AdapterView.OnItemClickListener接口:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecondActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">AdapterView</span>.<span class="title">OnItemClickListener</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; fruitList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String[] data = &#123;<span class="string">"A"</span>,<span class="string">"B"</span>,<span class="string">"C"</span>,<span class="string">"D"</span>,<span class="string">"E"</span>,<span class="string">"F"</span>,<span class="string">"G"</span>,<span class="string">"H"</span>,<span class="string">"I"</span>,<span class="string">"J"</span>,<span class="string">"K"</span>,<span class="string">"L"</span>,<span class="string">"M"</span>,<span class="string">"N"</span>,<span class="string">"O"</span>,<span class="string">"P"</span>,<span class="string">"Q"</span>,<span class="string">"R"</span>,<span class="string">"S"</span>,<span class="string">"T"</span>,<span class="string">"U"</span>,<span class="string">"V"</span>,<span class="string">"W"</span>,<span class="string">"X"</span>,<span class="string">"Y"</span>,<span class="string">"Z"</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_second);</span><br><span class="line"></span><br><span class="line">        initFruits();</span><br><span class="line"></span><br><span class="line">        FruitAdapter adapter = <span class="keyword">new</span> FruitAdapter(SecondActivity.<span class="keyword">this</span>, R.layout.fruit_item, fruitList);</span><br><span class="line">        ListView listView = (ListView) findViewById(R.id.list_view);</span><br><span class="line">        listView.setAdapter(adapter);</span><br><span class="line">        listView.setOnItemClickListener(<span class="keyword">this</span>);    <span class="comment">// 设置listView的点击监听，需要AdapterView.OnItemClickListener监听接口</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initFruits</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">26</span>; i++)&#123;</span><br><span class="line">            Fruit fruit = <span class="keyword">new</span> Fruit(data[i], R.drawable.ic_launcher_background);</span><br><span class="line">            fruitList.add(fruit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * item点击监听方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">        Toast.makeText(<span class="keyword">this</span>, <span class="string">"item整体 "</span> + position + <span class="string">"点击"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>item中控件点击事件：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.androidfirstlinecode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> android.support.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.ArrayAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 作者：AiJunhao</span></span><br><span class="line"><span class="comment"> * 日期：2018/9/27 20:43</span></span><br><span class="line"><span class="comment"> * 描述：</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FruitAdapter</span> <span class="keyword">extends</span> <span class="title">ArrayAdapter</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Context context;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> resourceId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FruitAdapter</span><span class="params">(Context context, <span class="keyword">int</span> resource, List&lt;Fruit&gt; objects)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, resource, objects);</span><br><span class="line">        <span class="keyword">this</span>.context = context;</span><br><span class="line">        resourceId = resource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  获取视图装载组件最后返回列表项</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> position 实例位置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> convertView 将之前加载好的布局缓存</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parent</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@NonNull</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, @Nullable View convertView, @NonNull ViewGroup parent)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 获取当前位置的的实例</span></span><br><span class="line">        Fruit fruit = (Fruit)getItem(position);</span><br><span class="line"></span><br><span class="line">        View view ;</span><br><span class="line">        ViewHolder viewHolder;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取缓存，优化运行效率</span></span><br><span class="line">        <span class="keyword">if</span> (convertView == <span class="keyword">null</span>)&#123;</span><br><span class="line">            view = LayoutInflater.from(getContext()).inflate(resourceId, parent, <span class="keyword">false</span>);</span><br><span class="line">            viewHolder = <span class="keyword">new</span> ViewHolder();</span><br><span class="line">            viewHolder.fruitImage = (ImageView) view.findViewById(R.id.fruit_image);</span><br><span class="line">            viewHolder.fruitName = (TextView) view.findViewById(R.id.fruit_name);</span><br><span class="line">            setListener(viewHolder, position);</span><br><span class="line">            view.setTag(viewHolder);        <span class="comment">// 将ViewHolder存储在View中</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            view = convertView;</span><br><span class="line">            viewHolder = (ViewHolder) view.getTag();    <span class="comment">// 重新获取ViewHolder</span></span><br><span class="line">        &#125;</span><br><span class="line">        viewHolder.fruitImage.setImageResource(fruit.getImageId());</span><br><span class="line">        viewHolder.fruitName.setText(fruit.getName());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置监听</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> viewHolder</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> position</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setListener</span><span class="params">(ViewHolder viewHolder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 设置监听</span></span><br><span class="line">        viewHolder.fruitName.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        viewHolder.fruitImage.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        <span class="comment">// 设置位置</span></span><br><span class="line">        viewHolder.fruitImage.setTag(position);</span><br><span class="line">        viewHolder.fruitName.setTag(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> position = (<span class="keyword">int</span>) v.getTag();        <span class="comment">// 获取位置</span></span><br><span class="line">        <span class="keyword">switch</span> (v.getId())&#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.fruit_image:</span><br><span class="line">                Toast.makeText(context, <span class="string">"click "</span> + position + <span class="string">" image"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.fruit_name:</span><br><span class="line">                Toast.makeText(context, <span class="string">"click "</span> + position + <span class="string">" name"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span></span>&#123;</span><br><span class="line">        ImageView fruitImage;</span><br><span class="line">        TextView fruitName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h4 id="BaseAdapter"><a href="#BaseAdapter" class="headerlink" title="BaseAdapter"></a>BaseAdapter</h4><p>最基础的Adapter，也就是说，它可以做所有的事情。所以为什么说最实用最常用，原因就在于它的全能性，不会像ArrayAdapter等的封装好的类有那么多局限性，但是这样的话，使用起来自然会更加麻烦一点。</p>
<p>BaseAdapter最大的优势就是可以自定义，需要实现四个方法。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBaseAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Context context;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; fruitItems;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> resourceId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 自定义构造器，参数根据自己需求定义</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyBaseAdapter</span><span class="params">(Context context, List&lt;Fruit&gt; fruitItems, <span class="keyword">int</span> resourceId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.context = context;</span><br><span class="line">        <span class="keyword">this</span>.fruitItems = fruitItems;</span><br><span class="line">        <span class="keyword">this</span>.resourceId = resourceId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取列表长度</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fruitItems.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fruitItems.get(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> position;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> position, View convertView, ViewGroup parent)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Fruit fruit = (Fruit) getItem(position);</span><br><span class="line">        ViewHolder viewHolder;</span><br><span class="line">        View view;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (convertView == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">// 两种方式初始化view</span></span><br><span class="line">            view = View.inflate(context, resourceId, <span class="keyword">null</span>);</span><br><span class="line"><span class="comment">//            view = LayoutInflater.from(context).inflate(resourceId, parent, false);</span></span><br><span class="line">            viewHolder = <span class="keyword">new</span> ViewHolder();</span><br><span class="line">            viewHolder.fruitImage = (ImageView) view.findViewById(R.id.fruit_image);;</span><br><span class="line">            viewHolder.fruitName = (TextView) view.findViewById(R.id.fruit_name);</span><br><span class="line">            view.setTag(viewHolder);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            view = convertView;</span><br><span class="line">            viewHolder = (ViewHolder) view.getTag();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        viewHolder.fruitImage.setImageResource(fruit.getImageId());</span><br><span class="line">        viewHolder.fruitName.setText(fruit.getName());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span></span>&#123;</span><br><span class="line">        ImageView fruitImage;</span><br><span class="line">        TextView fruitName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="Nine-Patch图片制作"><a href="#Nine-Patch图片制作" class="headerlink" title="Nine-Patch图片制作"></a>Nine-Patch图片制作</h3><p>图片素材：<img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/message_left.png" alt=""></p>
<p>常规制作方法：</p>
<ol>
<li><p>在Android SDK的tools文件夹下，有一个draw9patch.bat的文件，就用它来制作Nine-Patch图片。</p>
</li>
<li><p>打开这个软件后，点击File—&gt;Open 9-patch将chat.png加载进来。<br><img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/9patch1.png" alt=""></p>
</li>
<li><p>可以在图片的四个边框绘制一个个小黑点，上边框和左边框的部分表示当图片需要拉伸时就拉伸黑点标记的区域，下边框和右边框绘制的部分则表示内容会被放置的区域。<br><img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/9patch2.png" alt=""></p>
</li>
<li><p>修改好后点击File—&gt;Save 9-patch，把绘制好的图片保存成chat.9.png，然后把chat.9.png再复制到工程的drawable目录下，并删除原来的chat.png，这时再看效果就没有拉伸变形丑陋的情况了（注意：此时xml中仍然写成：android:background=”@drawable/chat”而不是：android:background=”@drawable/chat.9”。<br><img src="/2018/09/18/《第一行代码_Android》第3章_UI开发/9patch3.png" alt=""></p>
</li>
<li><p>注意：制作Nine-Patch图片时每条边的黑线必须是连续的，不能断开，否则图片会失效。</p>
</li>
</ol>
<p>如果，上述方法无效……tools目录下找不到那个软件的话，可以将图片复制到Android Stuido中，然后右键图片选择“create 9-Patch file…”即可。</p>
<hr>
<h3 id="RecyclerView滚动控件"><a href="#RecyclerView滚动控件" class="headerlink" title="RecyclerView滚动控件"></a>RecyclerView滚动控件</h3><p>首先导入recycleview-v7或者v4包。</p>
<p>然后在布局中使用v7包下的RecyclerView控件。注意，RecyclerView有两个，不要用错，是android.support.v7.widget.RecyclerView。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.v7.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/rv"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>Fruit JavaBean类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.recyclerview2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 作者：AiJunhao</span></span><br><span class="line"><span class="comment"> * 日期：2018/9/27 20:38</span></span><br><span class="line"><span class="comment"> * 描述：</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> imageId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fruit</span><span class="params">(String name, <span class="keyword">int</span> imageId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.imageId = imageId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getImageId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> imageId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageId</span><span class="params">(<span class="keyword">int</span> imageId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.imageId = imageId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Fruit&#123;"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", imageId="</span> + imageId +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后设置RecyclerView每个Item的布局fruit_item.xml，与ListView例子相同即可：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/fruit_image"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/fruit_name"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">"center_vertical"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_margin</span>=<span class="string">"10dp"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>给RecyclerView设置适配器，FruitAdapter.java类，适配器需要重写三个方法onCreateViewHolder()加载视图，onBindViewHolder()绑定ViewHolder内部类和视图控件，getItemCount()获取列表 元素个数三个方法。同时继承的RecyclerView.Adapter中有FruitAdapter.ViewHolder这个是FruitAdapter的内部类ViewHolder继承自RecyclerView.ViewHolder，主要用来加载对应的视图控件。RecyclerView的适配器和ListView的适配器大致内容相同，写法上略有不同：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.recyclerview2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.RecyclerView;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 作者：AiJunhao</span></span><br><span class="line"><span class="comment"> * 日期：2018/10/2 23:04</span></span><br><span class="line"><span class="comment"> * 描述：</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FruitAdapter</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">Adapter</span>&lt;<span class="title">FruitAdapter</span>.<span class="title">ViewHolder</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; mFruitList;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 内部类，类似于ListView中的ViewHolder内部类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        ImageView fruitImage;</span><br><span class="line">        TextView fruitName;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(itemView);</span><br><span class="line">            fruitImage = (ImageView) itemView.findViewById(R.id.fruit_image);</span><br><span class="line">            fruitName = (TextView) itemView.findViewById(R.id.fruit_name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FruitAdapter</span><span class="params">(List&lt;Fruit&gt; fruitList)</span> </span>&#123;</span><br><span class="line">        mFruitList = fruitList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> FruitAdapter.<span class="function">ViewHolder <span class="title">onCreateViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> viewType)</span> </span>&#123;</span><br><span class="line">        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fruit_item, parent, <span class="keyword">false</span>);</span><br><span class="line">        ViewHolder viewHolder = <span class="keyword">new</span> ViewHolder(view);</span><br><span class="line">        <span class="keyword">return</span> viewHolder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(FruitAdapter.ViewHolder holder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        Fruit fruit = mFruitList.get(position);</span><br><span class="line">        holder.fruitName.setText(fruit.getName());</span><br><span class="line">        holder.fruitImage.setImageResource(R.drawable.ic_launcher_background);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getItemCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mFruitList.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/09/18/《第一行代码_Android》第3章_UI开发/" data-id="cjy01anup006mosuto1q48x1f" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/移动端/">移动端</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/10/01/《第一行代码_Android》第4章_碎片/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          《第一行代码_Android》第4章_碎片
        
      </div>
    </a>
  
  
    <a href="/2018/09/12/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BOM/">BOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECharts/">ECharts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EcamScript6/">EcamScript6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Html-Css/">Html/Css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node/">Node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/">tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/框架/">框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器兼容/">浏览器兼容</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端/">移动端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件配置/">软件配置</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 19px;">Android</a> <a href="/tags/BOM/" style="font-size: 10px;">BOM</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/DOM/" style="font-size: 10px;">DOM</a> <a href="/tags/ECharts/" style="font-size: 10px;">ECharts</a> <a href="/tags/EcamScript6/" style="font-size: 10px;">EcamScript6</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Html-Css/" style="font-size: 11px;">Html/Css</a> <a href="/tags/JavaScript/" style="font-size: 17px;">JavaScript</a> <a href="/tags/Node/" style="font-size: 13px;">Node</a> <a href="/tags/Python/" style="font-size: 16px;">Python</a> <a href="/tags/Vue/" style="font-size: 14px;">Vue</a> <a href="/tags/blog/" style="font-size: 11px;">blog</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/tool/" style="font-size: 10px;">tool</a> <a href="/tags/前端/" style="font-size: 18px;">前端</a> <a href="/tags/后端/" style="font-size: 13px;">后端</a> <a href="/tags/小程序/" style="font-size: 10px;">小程序</a> <a href="/tags/数据库/" style="font-size: 12px;">数据库</a> <a href="/tags/服务器/" style="font-size: 10px;">服务器</a> <a href="/tags/框架/" style="font-size: 15px;">框架</a> <a href="/tags/浏览器兼容/" style="font-size: 10px;">浏览器兼容</a> <a href="/tags/移动端/" style="font-size: 20px;">移动端</a> <a href="/tags/软件配置/" style="font-size: 10px;">软件配置</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/07/12/前端-CSS预处理器/">前端-CSS预处理器</a>
          </li>
        
          <li>
            <a href="/2019/05/22/阿里云服务器配置/">阿里云服务器配置</a>
          </li>
        
          <li>
            <a href="/2019/04/25/框架-Vuex/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/04/11/框架-全栈开发/">Vue+Node+Mongodb全栈开发</a>
          </li>
        
          <li>
            <a href="/2019/04/10/前端-UI/">前端-UI</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Ai Junhao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>