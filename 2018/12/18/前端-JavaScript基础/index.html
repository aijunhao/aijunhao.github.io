<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>JavaScript基础 | Hello, I&#39;m Junhao Ai.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="目录：   JS简介 JS的HelloWorld JS编写位置 JS基本语法 JS注释 数据类型 字面量（常量）和变量 标识符 强制类型转换 运算符   对象 创建对象 对象的 in 运算符 工厂方法创建对象 构造函数 原型对象 查询对象中属性   函数 自定义函数声明 函数调用 立即执行函数 函数对象方法：call()和apply()   作用域 声明提前 隐含参数：this toString方">
<meta name="keywords" content="JavaScript,前端">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript基础">
<meta property="og:url" content="http://yoursite.com/2018/12/18/前端-JavaScript基础/index.html">
<meta property="og:site_name" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:description" content="目录：   JS简介 JS的HelloWorld JS编写位置 JS基本语法 JS注释 数据类型 字面量（常量）和变量 标识符 强制类型转换 运算符   对象 创建对象 对象的 in 运算符 工厂方法创建对象 构造函数 原型对象 查询对象中属性   函数 自定义函数声明 函数调用 立即执行函数 函数对象方法：call()和apply()   作用域 声明提前 隐含参数：this toString方">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2018/12/18/前端-JavaScript基础/helloworld.jpg">
<meta property="og:image" content="http://yoursite.com/2018/12/18/前端-JavaScript基础/helloworld1.jpg">
<meta property="og:image" content="http://yoursite.com/2018/12/18/前端-JavaScript基础/helloworld2.jpg">
<meta property="og:updated_time" content="2019-03-18T08:35:35.223Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript基础">
<meta name="twitter:description" content="目录：   JS简介 JS的HelloWorld JS编写位置 JS基本语法 JS注释 数据类型 字面量（常量）和变量 标识符 强制类型转换 运算符   对象 创建对象 对象的 in 运算符 工厂方法创建对象 构造函数 原型对象 查询对象中属性   函数 自定义函数声明 函数调用 立即执行函数 函数对象方法：call()和apply()   作用域 声明提前 隐含参数：this toString方">
<meta name="twitter:image" content="http://yoursite.com/2018/12/18/前端-JavaScript基础/helloworld.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Hello, I&#39;m Junhao Ai." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hello, I&#39;m Junhao Ai.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-前端-JavaScript基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/18/前端-JavaScript基础/" class="article-date">
  <time datetime="2018-12-18T12:57:31.000Z" itemprop="datePublished">2018-12-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScript基础
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：</p>
<!-- TOC -->
<ul>
<li><a href="#js简介">JS简介</a></li>
<li><a href="#js的helloworld">JS的HelloWorld</a></li>
<li><a href="#js编写位置">JS编写位置</a></li>
<li><a href="#js基本语法">JS基本语法</a><ul>
<li><a href="#js注释">JS注释</a></li>
<li><a href="#数据类型">数据类型</a></li>
<li><a href="#字面量常量和变量">字面量（常量）和变量</a></li>
<li><a href="#标识符">标识符</a></li>
<li><a href="#强制类型转换">强制类型转换</a></li>
<li><a href="#运算符">运算符</a></li>
</ul>
</li>
<li><a href="#对象">对象</a><ul>
<li><a href="#创建对象">创建对象</a></li>
<li><a href="#对象的-in-运算符">对象的 in 运算符</a></li>
<li><a href="#工厂方法创建对象">工厂方法创建对象</a></li>
<li><a href="#构造函数">构造函数</a></li>
<li><a href="#原型对象">原型对象</a></li>
<li><a href="#查询对象中属性">查询对象中属性</a></li>
</ul>
</li>
<li><a href="#函数">函数</a><ul>
<li><a href="#自定义函数声明">自定义函数声明</a></li>
<li><a href="#函数调用">函数调用</a></li>
<li><a href="#立即执行函数">立即执行函数</a></li>
<li><a href="#函数对象方法call和apply">函数对象方法：call()和apply()</a></li>
</ul>
</li>
<li><a href="#作用域">作用域</a></li>
<li><a href="#声明提前">声明提前</a></li>
<li><a href="#隐含参数this">隐含参数：this</a></li>
<li><a href="#tostring方法">toString方法</a></li>
<li><a href="#垃圾回收gc">垃圾回收(GC)</a></li>
<li><a href="#数组array">数组（Array）</a><ul>
<li><a href="#创建数组">创建数组</a></li>
<li><a href="#数组存取">数组存取</a></li>
<li><a href="#数组长度">数组长度</a></li>
<li><a href="#数组遍历">数组遍历</a></li>
</ul>
</li>
<li><a href="#数组排序sort">数组排序(sort)</a></li>
<li><a href="#隐含参数arguments">隐含参数：arguments</a></li>
<li><a href="#math工具类">Math工具类</a><ul>
<li><a href="#ceil向上取整方法">ceil()向上取整方法</a></li>
<li><a href="#floor向下取整方法">floor()向下取整方法</a></li>
<li><a href="#round四舍五入方法">round()四舍五入方法</a></li>
<li><a href="#random生成0到1随机数方法">random()生成0到1随机数方法</a></li>
<li><a href="#max和min最大最小方法">max()和min()最大最小方法</a></li>
</ul>
</li>
<li><a href="#包装类">包装类</a><ul>
<li><a href="#string对象方法">String对象方法</a><ul>
<li><a href="#charat">charAt()</a></li>
<li><a href="#charcodeat">charCodeAt()</a></li>
<li><a href="#indexof">indexOf()</a></li>
<li><a href="#lastindexof">lastIndexOf()</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#json">JSON</a><ul>
<li><a href="#json转成js对象">JSON转成JS对象</a></li>
<li><a href="#js对象转成json">JS对象转成JSON</a></li>
<li><a href="#兼容ie7不常用">兼容IE7，不常用</a><ul>
<li><a href="#第一种方法不常用不建议用">第一种方法：不常用，不建议用。</a></li>
<li><a href="#第二种方法引入外部js文件进行处理">第二种方法：引入外部js文件进行处理</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="JS简介"><a href="#JS简介" class="headerlink" title="JS简介"></a>JS简介</h3><p>JavaScript诞生于1995年，它的出现主要是用于处理网页中的前端验证。所谓的前端验证，就是指检查用户输入的内容是否符合一定的规则。</p>
<p>时至今日，JS已经不仅仅是前端验证了。还有网页动态效果、后端NodeJS等。</p>
<p>一个完整的JavaScript包括三个部分</p>
<ul>
<li><p>ECMAScript：基本语法</p>
<p>  语法/类型/语句/关键字/保留字/操作符/对象</p>
</li>
<li><p>DOM：Document Object Model 文档对象模型</p>
<p>  提供访问和操作网页内容(html文件)的方法和接口。</p>
</li>
<li><p>BOM：Browser Object Model 浏览器对象模型</p>
<p>  提供与浏览器窗口交互的方法和接口。</p>
</li>
</ul>
<p>JS的特点：</p>
<ol>
<li>解释型语言</li>
<li>类似于C和Java的语法结构</li>
<li>动态语言</li>
<li>基于原型的面向对象</li>
</ol>
<hr>
<h3 id="JS的HelloWorld"><a href="#JS的HelloWorld" class="headerlink" title="JS的HelloWorld"></a>JS的HelloWorld</h3><p>页面中有三条输出指令，JS代码是从上到下一条一条执行的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 控制浏览器弹出一个警告框 */</span></span></span><br><span class="line"><span class="javascript">            alert(<span class="string">"Hello World!"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 向body中添加一个内容 */</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">"Hello World!"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 向控制输出一个内容 */</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"Hello World!"</span>);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>控制浏览器弹出一个警告框：<br><img src="/2018/12/18/前端-JavaScript基础/helloworld.jpg" alt=""></p>
<p>向body中添加一个内容：<br><img src="/2018/12/18/前端-JavaScript基础/helloworld1.jpg" alt=""></p>
<p>向控制输出一个内容：<br><img src="/2018/12/18/前端-JavaScript基础/helloworld2.jpg" alt=""></p>
<hr>
<h3 id="JS编写位置"><a href="#JS编写位置" class="headerlink" title="JS编写位置"></a>JS编写位置</h3><ul>
<li><p>JS代码写在script标签中。<br>  就像上面写hello world一样，在html的head部分添加script标签，将JS代码写到script标签中。</p>
</li>
<li><p>JS代码写在标签的onclick属性中</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 当点击按钮的时候，JS代码才会执行 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"alert('Hello World!');"</span>&gt;</span>你点我一下<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>JS代码卸载超链接的href属性中</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:alert('Hello World!');"</span>&gt;</span>你点我一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>JS写在外部文件中，在html页面中引入</p>
<p>  html页面：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/myjs.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>  myjs.js:</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="string">"Hello World!"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="JS基本语法"><a href="#JS基本语法" class="headerlink" title="JS基本语法"></a>JS基本语法</h3><h4 id="JS注释"><a href="#JS注释" class="headerlink" title="JS注释"></a>JS注释</h4><p>要养成良好的编写注释的习惯，也可以通过注释来对代码进行一些简单的调试，就是删掉……</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 单行注释</span></span><br></pre></td></tr></table></figure>
<h4 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h4><p>JS包含五中基本数据类型和一个引用数据类型Object：</p>
<ol>
<li>Undefined<br> Undefined类型只有一个，就是undefined。</li>
<li>Null<br> 空值，如果引用一个没有定义的变量，则返回空值，只有一个值，就是null。</li>
<li>Boolean<br> 布尔类型，包含true和false，或者1和0。</li>
<li>String<br> 字符串类型，由单引号或者双引号括起来的字符。</li>
<li>Number<br> 数值类型，可以是32位、64位整数或浮点数。Number.MAX_VALUE表示最大值，Number.MIN_VALUE表示最小值。</li>
</ol>
<p>基本数据类型的值直接在栈内存中存储。</p>
<p>对象是保存在堆内存中的，每创建一个新的对象，就会在堆内存中开辟出一个新的空间，而栈内存中保存的是对象值在堆中的内存地址。</p>
<h4 id="字面量（常量）和变量"><a href="#字面量（常量）和变量" class="headerlink" title="字面量（常量）和变量"></a>字面量（常量）和变量</h4><p>常量是不可改变的值，可以直接使用，但是一般我们不会直接使用，因为有一些比较麻烦。</p>
<p>变量是内存中命名的存储位置，可以在程序中设置和修改变量的值。在开发中都是通过变量去保存一个常量。</p>
<p>声明变量：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在JS中使用var关键字来声明变量</span></span><br><span class="line"><span class="keyword">var</span> x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为变量赋值常量</span></span><br><span class="line">x = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用变量</span></span><br><span class="line"><span class="built_in">document</span>.write(y);</span><br></pre></td></tr></table></figure></p>
<p>可以使用变量来描述常量。</p>
<h4 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h4><p>在JS中所有可以由我们自主命名的都可以成为标识符，例如：变量名、函数名、属性名都属于标识符。</p>
<p>命名一个标识符时需要遵守如下的规则：</p>
<ul>
<li>标识符中可以含有字母、数字、下划线和$符。</li>
<li>标识符不能以数字开头</li>
<li>标识符不能是ES中的关键字或保留字</li>
<li>标识符一般采用驼峰命名法</li>
<li>JS底层保存标识符时实际上采用的是Unicode编码，所以理论上讲，所有的utf-8中含有的内容都可以作为标识符，比如中文，但是一般不会这样用</li>
</ul>
<h4 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h4><ol>
<li><p>将其他类型转换为String</p>
<ul>
<li>方法一：调用被转换数据类型的toString()方法，该方法将返回转换的结果，其本身不变。null和undefinded没有toString()方法。</li>
<li>方法二：调用String()函数，并将被转换的数据作为参数传递给函数。对于Number和Boolean实际上就是调用toString()方法，对于null和undefinded，直接转换。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用a的toString()方法，并重置a，a为null或undefinded时报错</span></span><br><span class="line">a = a.toString();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用String()方法，并重置a</span></span><br><span class="line">a = <span class="built_in">String</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);      <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(a);             <span class="comment">// "123"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>将其他的数据类型转换为Number</p>
<ul>
<li><p>方法一：使用Number()函数。</p>
<ul>
<li>字符串 -&gt; 数字：<ul>
<li>如果是纯数字的字符串，则直接转换为数字；</li>
<li>如果有非数字的字符串，则准换为NaN；</li>
<li>如果是空字符串或者空格字符串，则转换为0。</li>
</ul>
</li>
<li>布尔值 -&gt; 数字：<ul>
<li>true 转 1</li>
<li>false 转 0</li>
</ul>
</li>
<li>Null -&gt; 数字：0</li>
<li><p>undefined -&gt; 数字：NaN</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"123"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用String()方法，并重置a</span></span><br><span class="line">a = <span class="built_in">Number</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);      <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);             <span class="comment">// "123"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>方法二：专门对付字符串。</p>
<ul>
<li>parseInt() 把一个字符串转换为整数，将字符串中的有效的整数内容取出来（当出现非数字就停止），然后转换为Number。</li>
<li>parseFrom() 把一个字符串转换为浮点数，将字符串中的有效的小数内容取出来（当出现非数字和小数点就停止），然后转换为Number。</li>
<li><p>以上两种方法，对于非String类型，会先转换为String，然后再操作。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"123a234px"</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="built_in">parseInt</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);      <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);             <span class="comment">// 123</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">"12.345px"</span>;</span><br><span class="line"></span><br><span class="line">b = <span class="built_in">parseFloat</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b);      <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(b);             <span class="comment">// 12.345</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>将其他的数据类型转换为Boolean</p>
<ul>
<li>方法一：使用Boolean()函数。<ul>
<li>数字 -&gt; 布尔：除了0和NaN，其余的都是true。</li>
<li>字符串 -&gt; 布尔：除了空串，其余的都是true。</li>
<li>null和undefined -&gt; 布尔：false。</li>
<li>对象 -&gt; 布尔：true。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><p>运算符也叫操作符，通过运算符可以对一个或多个值进行运算，并获取运算结果。</p>
<ul>
<li><p>typeof</p>
<p>  可以用来获得一个值的类型，它会将该值的类型以字符串的形式返回。</p>
<p>  number、string、boolean、undefined、object</p>
</li>
<li><p>“+”、”-“</p>
<p>  正号不会对数字产生任何影响，符号可以对数字进行负号的取反。</p>
<p>  在运算时，对于非number类型的值，它会将值先转换为number，然后再运算。可以对一个其他的数据类型使用“+”，来将其转换为number类型。其原理和Number()函数一样。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="number">1</span> + +<span class="string">"2"</span> + <span class="number">3</span>;</span><br><span class="line">        </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result = "</span> + result);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>……</p>
<hr>
<h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p>对象的分类：</p>
<ol>
<li><p>内建对象</p>
<ul>
<li>由ES标准中定义的对象，在任何的ES的实现中都可以使用。如：Math、String、Number、Boolean、Function、Object…</li>
</ul>
</li>
<li><p>宿主对象</p>
<ul>
<li>由JS的运行环境提供的对象，目前来讲主要是指浏览器提供的对象。如BOM、DOM…</li>
</ul>
</li>
<li><p>自定义对象</p>
<ul>
<li>由开发人员自己创建的对象。内建对象和宿主对象时浏览器开发人员定义的自定义对象。</li>
</ul>
</li>
</ol>
<hr>
<h4 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 创建对象 */</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj);        <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(obj);           <span class="comment">// Object&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 在对象中保存的值称为属性</span></span><br><span class="line"><span class="comment"> * 向对象中添加属性：</span></span><br><span class="line"><span class="comment"> *      语法： 对象.属性名 = 属性值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">obj.name = <span class="string">"名字"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);       <span class="comment">// Object&#123; name="孙悟空"&#125;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="对象的-in-运算符"><a href="#对象的-in-运算符" class="headerlink" title="对象的 in 运算符"></a>对象的 in 运算符</h4><p>可以通过in运算符检查一个对象中是否含有指定的属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 查询对象obj中是否有test属性 */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"test"</span> <span class="keyword">in</span> obj);</span><br></pre></td></tr></table></figure>
<p>枚举对象中的属性：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* for...in语句，对象中有几个属性就遍历几次 */</span><br><span class="line">for(var n in obj)&#123;</span><br><span class="line">    console.log(n);     // 输出属性的名字n</span><br><span class="line">    console.log(obj[n]);        // 输出属性对应的值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="工厂方法创建对象"><a href="#工厂方法创建对象" class="headerlink" title="工厂方法创建对象"></a>工厂方法创建对象</h4><p>使用工厂方法创建的对象，使用的构造函数都是Object，所以创建的都是Object这个类型，所以就导致我们无法区分出多种不同类型的对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 创建工厂方法 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, gender</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line">    obj.name = name;</span><br><span class="line">    obj.age = age;</span><br><span class="line">    obj.gender = gender;</span><br><span class="line">    obj.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 使用工厂方法创建对象 */</span></span><br><span class="line"><span class="keyword">var</span> obj = createPerson(<span class="string">"孙悟空"</span>, <span class="number">20</span>, <span class="string">"男"</span>);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>构造函数就是一个普通函数，创建方式和普通函数没有区别。不同的是构造函数习惯上首字母大写。</p>
<p>构造函数需要使用<font color="red">new关键字</font>来调用。</p>
<p>比如使用工厂函数是候创建Object类一样，Object()就是一个构造函数            ：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure></p>
<p>构造函数的执行流程：</p>
<ol>
<li>立刻创建一个新的对象</li>
<li>将新建的对象设置为函数中的this，在构造函数中可以使用this来引用新建的对象</li>
<li>逐行执行函数中的代码</li>
<li>将新建的对象作为返回值返回</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> per = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">20</span>, <span class="string">"男"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(per);</span><br></pre></td></tr></table></figure>
<p>使用同一个构造函数创建的对象，我们称为一类对象，也将一个构造函数称为一个类，我们将通过同一个构造函数创建的对象称为是该类的实例。</p>
<p>使用instanceof可以检查一个对象是否是一个类的实例。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 判断per是否是Person类 */</span></span><br><span class="line"><span class="built_in">console</span>.log(per <span class="keyword">instanceof</span> Person);</span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="原型对象"><a href="#原型对象" class="headerlink" title="原型对象"></a>原型对象</h4><p>原型prototype，我们创建的每一个函数，解析器都会想函数中添加一个属性prototype，这个属性对应着一个对象，这个对象就是我们所谓的原型对象。</p>
<p>如果函数作为普通函数调用，prototype没有任何作用。</p>
<p>如果函数作为构造函数调用，它所创建爱你的对象都忽悠一个隐含的属性，指向构造函数的原型对象，可以通过<strong>proto</strong>来访问属性。</p>
<p>原型对象就相当于一个公共的区域，所有同一个类的实例都可以访问到这个原型对象，因此我们可以将对象中共有的内容，统一设置到原型对象中。比如之前的sayName()方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyClass</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">"name"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 向MyClass的原型中添加属性a */</span></span><br><span class="line">MyClass.prototype.a = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 向MyClass的原型中添加一个方法 */</span></span><br><span class="line">MyClass.prototype.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"hello"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mc = <span class="keyword">new</span> MyClass();</span><br><span class="line"><span class="keyword">var</span> mc2 = <span class="keyword">new</span> MyClass();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(mc.a)</span><br><span class="line"><span class="built_in">console</span>.log(mc.sayHello());</span><br><span class="line"><span class="built_in">console</span>.log(mc.a == mc2.a);      <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.sayHello == mc2.sayHello);      <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.sayName == mc2.sayName);    <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>任何对象都有原型对象，包括原型对象，但是Object对象没有原型，已经到底了。</p>
<hr>
<h4 id="查询对象中属性"><a href="#查询对象中属性" class="headerlink" title="查询对象中属性"></a>查询对象中属性</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* in运算符，检查对象中是否含有某个属性，原型中的属性也算 */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> mc);      <span class="comment">// 有就返回true，没有返回false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 用 对象原型的原型......中的hasOwnProperty()方法来检查对象自身中是否有某个属性，原型中的不算 */</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.hasOwnProperty(<span class="string">"name"</span>));     <span class="comment">// 只有当对象自身中含有属性时，才会返回true</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>函数 function 由若干条语句组成，用于实现特定的功能。</p>
<p>函数也是一个对象，函数汇总可以封装一些功能，在调用时执行这些功能代码。</p>
<p>每个函数中创建的内容都是独立的。</p>
<hr>
<h4 id="自定义函数声明"><a href="#自定义函数声明" class="headerlink" title="自定义函数声明"></a>自定义函数声明</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 函数声明 */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> 函数名(<span class="params">[形参<span class="number">1</span>，形参<span class="number">2</span>……]</span>)</span>&#123;</span><br><span class="line">        语句……</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 函数表达式创建匿名函数 */</span></span><br><span class="line">    <span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; 语句…… &#125;;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h4><ul>
<li><p>在JS代码中调用函数</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> &gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 函数声明 */</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1, num2</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> num1 + num2;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* JS中调用函数 */</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(sum(<span class="number">1</span>, <span class="number">2</span>));</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在Html中调用函数</p>
<p>  使用”javascript:”方式调用JavaScript函数。</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> &gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 函数声明 */</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1, num2</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(num1 + num2);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:sum(1, 2)"</span>&gt;</span>计算<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h4 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h4><p>顾名思义，立即执行函数就是函数定义完就立即被调用。立即执行往往只执行一次，所以常是用匿名函数作为立即执行函数。</p>
<p>之前我们说匿名函数语法如下，需要将匿名函数赋值给变量，然后调用变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 函数表达式创建匿名函数 */</span></span><br><span class="line">    <span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; 语句…… &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 调用 */</span></span><br><span class="line">    fun();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>立即执行函数只需要稍微变一下就是。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 立即执行函数 */</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * function语句单独使用会保存，但是如果将它用括号括起来，它就是一个整体，将不再报错，然后后面一个括号是函数的标志，加上之后就相当于调用了之前的一个function代码块，括号就是这个立即执行函数的形参域。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; 语句…… &#125;)();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="函数对象方法：call-和apply"><a href="#函数对象方法：call-和apply" class="headerlink" title="函数对象方法：call()和apply()"></a>函数对象方法：call()和apply()</h4><p>call()和apply()这两个方法都是函数对象的方法，需要通过函数对象来调用，当函数调用call()和apply()都会调用函数执行。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"我是fun函数！"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 效果相同 */</span></span><br><span class="line">fun.call();</span><br><span class="line">fun.apply();</span><br><span class="line">fun();</span><br></pre></td></tr></table></figure>
<p>函数的默认this是window，调用call()和apply()可以将一个对象指定为第一个参数，此时这个对象将会成为函数执行时的this。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">"obj"</span>&#125;;</span><br><span class="line"></span><br><span class="line">fun();              <span class="comment">// fun函数的this是window</span></span><br><span class="line">fun.call(obj);</span><br><span class="line">fun.apply(obj);        <span class="comment">// 此时fun函数的this就是obj了。</span></span><br></pre></td></tr></table></figure>
<p>传递参数。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">"obj"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* call()可以将实参在对象之后依次传递。 */</span></span><br><span class="line">fun.call(obj, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">/* apply()可以将实参封装到一个数组中统一传递 */</span></span><br><span class="line">fun.apply(obj, [<span class="number">1</span>, <span class="number">2</span>]);</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>作用域指一个变量的作用范围。</p>
<ul>
<li><p>全局作用域：</p>
<ul>
<li>直接编写在script标签中的JS代码，都在全局作用域中。</li>
<li>全局作用域在页面打开时创建，在页面关闭时销毁</li>
<li>全局作用域中有一个全局对象windows，它代表一个浏览器的窗口，由浏览器创建，可以直接使用。</li>
<li>在全局作用域中，创建的变量都会作为windows对象的属性保存；创建的函数都会作为windows对象的方法保存。</li>
<li>全局作用域中的变量都是全局变量，在页面的任意位置都能访问。</li>
</ul>
</li>
<li><p>局部作用域/函数作用域：</p>
<ul>
<li>调用函数时创建函数作用域，函数执行完毕以后，函数作用域被销毁。</li>
<li>每调用一次函数就会创建一个新的函数作用域，他们之间是互相独立的。</li>
<li>在函数作用域中可以访问到全局作用域中的变量，但是函数作用域中的变量只能被当前函数作用域中被访问。</li>
<li>当函数作用域中操作一个变量时，会先在自身作用域中寻找，如果有就用，没有就去上一级作用域中找，并不是直接找全局变量。</li>
<li>要在函数中访问全局变量，可以直接使用window对象。</li>
<li>在函数中，不适用var声明的变量都会成为全局变量。</li>
<li>定义形参就相当于在函数作用域中声明了变量。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="声明提前"><a href="#声明提前" class="headerlink" title="声明提前"></a>声明提前</h3><ul>
<li><p>变量的声明提前</p>
<p>  使用var关键字声明的变量，会在所有的代码执行之前被声明（但是不会被赋值）。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>
<p>  上述代码在浏览器中不会报错，但是控制台的输出结果为“a = undefined”，因为a使用var，出现声明提前，a被声明了，但是并没有赋值。就相当于如下的代码：</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> = a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a);</span><br><span class="line">a = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数的声明提前</p>
<p>  使用函数形式声明创建的函数function函数(){}，它会在所有的代码执行之前就被创建（优先级高）。所以我们可以在函数声明之前来调用函数，因为调用函数的的时候函数已经被声明了，不会出现任何问题。</p>
<p>  但是使用函数表达式创建的函数不会被声明提前，所以不能在声明前调用。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/* 函数声明会被提前 */</span></span><br><span class="line">fun()；</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我是一个fun函数"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 函数表达式不会被声明提前 */</span></span><br><span class="line"><span class="keyword">var</span> fun2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我是fun2函数"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun2();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="隐含参数：this"><a href="#隐含参数：this" class="headerlink" title="隐含参数：this"></a>隐含参数：this</h3><p>解析器在调用函数每次都会向函数内部传递进一个隐含参数，这个隐含参数就是this，指向的是一个对象，这个对象我们成为函数执行的上下文对象。很久函数的调用方式不同，this会指向不同的对象。</p>
<p>以函数的形式调用时，this永远都是window；以方法的形式调用时，this就是调用方法的那个对象。</p>
<hr>
<h3 id="toString方法"><a href="#toString方法" class="headerlink" title="toString方法"></a>toString方法</h3><p>toString()方法是Object对象中的方法，如果需要重写某个类的toString()方法，需要在类的原型中重写toString()方法。</p>
<hr>
<h3 id="垃圾回收-GC"><a href="#垃圾回收-GC" class="headerlink" title="垃圾回收(GC)"></a>垃圾回收(GC)</h3><p>程序运行过程中会产生垃圾，这些垃圾积攒过多后，会导致程序运行速度过慢，因此需要一个垃圾回收的机制，来处理程序运行中产生的垃圾。</p>
<p>当一个对象没有任何的变量或属性对它进行引用，此时我们将永远无法操作该对象，这种对象就是一个垃圾，这种对象过多会占用大量的内存空间，导致程序运行变慢，这种垃圾必须进行清理。</p>
<p>在JS中拥有自动的垃圾回收机制，会自动将这些垃圾对象从内存中销毁，我们不需要也不能进行垃圾回收的操作，不同浏览器清理方式不同。只需要将对象置null，浏览器就会自动清理，否则，浏览器无法判断。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象进行各种操作......</span></span><br><span class="line"></span><br><span class="line">obj = <span class="literal">null</span>;     <span class="comment">// 对象置空，将无法使用，产生垃圾。浏览器自动清理垃圾。</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="数组（Array）"><a href="#数组（Array）" class="headerlink" title="数组（Array）"></a>数组（Array）</h3><p>数组中的元素可以是任意类型的数据。</p>
<p><a href="http://www.w3school.com.cn/js/js_obj_array.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/js/js_obj_array.asp</a></p>
<p><a href="http://www.w3school.com.cn/jsref/jsref_obj_array.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/jsref_obj_array.asp</a></p>
<hr>
<h4 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h4><p>创建数组并赋值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 方法一：创建数组对象，并赋值 */</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 方法二：使用字面量来创建数组，并赋值 */</span></span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure>
<p>创建指定长度的数组，在JS中不常用，因为arr长度可以变化：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 如果使用Array对象来创建数组，当参数为单个值时，就表示创建该长度的数组 */</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="数组存取"><a href="#数组存取" class="headerlink" title="数组存取"></a>数组存取</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 向数组中添加元素</span></span><br><span class="line"><span class="comment"> * 语法：数组[索引] = 值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">33</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr);       <span class="comment">// "10,33"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 读取数组中的元素</span></span><br><span class="line"><span class="comment"> * 语法：数组[索引]</span></span><br><span class="line"><span class="comment"> * 数组越界，不会报错，返回undefined</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">0</span>]);        <span class="comment">// "10"</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="数组长度"><a href="#数组长度" class="headerlink" title="数组长度"></a>数组长度</h4><p>使用length属性可以进行数组长度操作。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 使用length属性获取数组的长度</span></span><br><span class="line"><span class="comment"> * 对于连续的数组，获取数组的长度，此时就是元素的个数</span></span><br><span class="line"><span class="comment"> * 对于非连续的数组，获取数组的最大索引+1，不一定等于元素的个数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">len = arr.length;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 使用length修改数组的长度</span></span><br><span class="line"><span class="comment"> * 如果修改的length大于数组的长度，则多出部分会空出来</span></span><br><span class="line"><span class="comment"> * 如果修改的length小鱼数组的长度，则多处的部分会被删除</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr.length = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);       <span class="comment">// "10,33,,,"</span></span><br></pre></td></tr></table></figure></p>
<p>可以用length属性向数组末尾添加元素。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line">i = <span class="number">0</span>;</span><br><span class="line">arr[arr.length] = i++;</span><br><span class="line">arr[arr.length] = i++;</span><br><span class="line">arr[arr.length] = i++;</span><br><span class="line">arr[arr.length] = i++;</span><br><span class="line"><span class="built_in">console</span>.log(arr);       <span class="comment">// "0,1,2,3"</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="数组遍历"><a href="#数组遍历" class="headerlink" title="数组遍历"></a>数组遍历</h4><p>方法一：普通for循环结合length属性即可。</p>
<p>方法二：for与in运算符。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i <span class="keyword">in</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>方法三：还有forEach方法遍历数组。这个方法只支持IE8以上的浏览器。可以在移动端浏览器运行。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * forEach()方法需要一个函数作为参数</span></span><br><span class="line"><span class="comment"> * 函数有我们创建但是不由我们调用，称为回调函数</span></span><br><span class="line"><span class="comment"> * 数组中有几个元素就会执行几次，每次执行时，浏览器会将遍历到的元素以实参的形式传递进来，我们可以来定义参数，来读取这些内容</span></span><br><span class="line"><span class="comment"> * 浏览器会在回调函数中传递三个参数：当前元素值、当前索引、正在遍历的数组全部值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, object</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="数组排序-sort"><a href="#数组排序-sort" class="headerlink" title="数组排序(sort)"></a>数组排序(sort)</h3><p>sort()方法用于排序，可以传入参数，自定义排序方法。不传参数，默认升序。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.sort());        <span class="comment">// 1,2,3,4,5</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 自定义排序函数，从大到小 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNumber</span>(<span class="params">a,b</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b-a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.sort(sortNumber));</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="隐含参数：arguments"><a href="#隐含参数：arguments" class="headerlink" title="隐含参数：arguments"></a>隐含参数：arguments</h3><p>在调用函数时，浏览器每次都会传递隐含的参数，除了this，还有arguments，是一个<font color="red">类数组</font>对象，arguments有数组效果但是不是数组。</p>
<p>在调用函数时，我们传递的实参都会在arguments中保存。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);      <span class="comment">// 获取arguments的长度</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun(<span class="string">"hello"</span>, <span class="literal">false</span>);        <span class="comment">// 控制台输出 2</span></span><br></pre></td></tr></table></figure>
<p>如上，函数并没有定义形参，仍然可以使用arguments来获取传入的实参。</p>
<p>arguments还有一个属性叫callee，对应当前正在指向的函数对象。</p>
<hr>
<h3 id="Math工具类"><a href="#Math工具类" class="headerlink" title="Math工具类"></a>Math工具类</h3><p>Math和其他的对象不同，它不是一个构造函数，它属于一个工具类，不用创建对象，它里边封装了数学运算相关的属性和方法。</p>
<p><a href="http://www.w3school.com.cn/jsref/jsref_obj_math.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/jsref_obj_math.asp</a></p>
<h4 id="ceil-向上取整方法"><a href="#ceil-向上取整方法" class="headerlink" title="ceil()向上取整方法"></a>ceil()向上取整方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.1</span>));        <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<h4 id="floor-向下取整方法"><a href="#floor-向下取整方法" class="headerlink" title="floor()向下取整方法"></a>floor()向下取整方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">1.1</span>));        <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h4 id="round-四舍五入方法"><a href="#round-四舍五入方法" class="headerlink" title="round()四舍五入方法"></a>round()四舍五入方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.1</span>));        <span class="comment">//  1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.6</span>));        <span class="comment">//  2</span></span><br></pre></td></tr></table></figure>
<h4 id="random-生成0到1随机数方法"><a href="#random-生成0到1随机数方法" class="headerlink" title="random()生成0到1随机数方法"></a>random()生成0到1随机数方法</h4><p>这个数在0到1之间，但是不包括0和1，可以通过其他的Math方法来实现包括0和1，然后乘一个倍数和加减法操作实现任意范围内的随机数。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.random());        <span class="comment">//  0.7679936159463725</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成x-y之间的随机数方法：</span></span><br><span class="line"><span class="comment">// Math.round(Math.random()*(y-x)+x);</span></span><br></pre></td></tr></table></figure></p>
<h4 id="max-和min-最大最小方法"><a href="#max-和min-最大最小方法" class="headerlink" title="max()和min()最大最小方法"></a>max()和min()最大最小方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> max = <span class="built_in">Math</span>.max(<span class="number">10</span>, <span class="number">45</span>, <span class="number">30</span>, <span class="number">100</span>);        <span class="comment">// 100</span></span><br><span class="line"><span class="keyword">var</span> min = <span class="built_in">Math</span>.min(<span class="number">10</span>, <span class="number">45</span>, <span class="number">30</span>, <span class="number">100</span>);        <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h3><p>在JS中有三个包装类，这三个包装类可以将基本数据类型的数据转换为对象。</p>
<p>三个包装类：</p>
<ul>
<li><p>String()：可以将基本数据类型的字符串转换为String对象</p>
</li>
<li><p>Number()：可以将基本数据类型的数字转换为Number对象</p>
</li>
<li><p>Boolean()：可以加个基本数据类型的布尔值转换为Boolean对象</p>
</li>
</ul>
<font color="red">但是注意，我们再实际应用中不会使用基本数据类型的对象，如果使用基本客户数据类型的对象，在做一些比较时可能会带来一些不可预期的结果。</font>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(num);       <span class="comment">// Number &#123; 2 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> num);        <span class="comment">// object</span></span><br><span class="line"></span><br><span class="line">------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello"</span>);      </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str);       <span class="comment">// String &#123; "hello" &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str);        <span class="comment">// object</span></span><br><span class="line"></span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">num.hello = <span class="string">"abc"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(num.hello);     <span class="comment">// abc</span></span><br><span class="line"></span><br><span class="line">-------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num2 = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(num == num2);         <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>当我们对一些基本数据类型的值去调用属性和方法时，浏览器会临时使用包装类将其转换成对象，然后嗲用对象的属性和方法。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 方法和属性智能添加对象，不能添加给基本数据类型 */</span></span><br><span class="line"><span class="keyword">var</span> s = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line">s = s.toString();       <span class="comment">// 临时将s转换成Number对象，然后调用Number对象的toString()方法，用完后销毁</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(s);             <span class="comment">// "123"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s);      <span class="comment">// string</span></span><br><span class="line"></span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">s.hello = <span class="string">"nihao"</span>;          <span class="comment">// 现在s是string基本数据类型，先转换成String对象添加属性，之后销毁，又变成了string基本数据类型</span></span><br><span class="line"><span class="built_in">console</span>.log(s.hello);       <span class="comment">// "undefined"，因为此处仍然需要先转换为String对象，但是这个String对象不是之前那个有hello属性的对象，因为之前那个已经被销毁了。</span></span><br></pre></td></tr></table></figure></p>
<h4 id="String对象方法"><a href="#String对象方法" class="headerlink" title="String对象方法"></a>String对象方法</h4><p>字符串在底层是以字符数组的形式保存的。</p>
<p>字符串对象方法大都对本身没有影响，会返回一个新的值。</p>
<h5 id="charAt"><a href="#charAt" class="headerlink" title="charAt()"></a>charAt()</h5><p>可以返回字符串中指定位置的字符，和数组下标效果相同。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.charAt(<span class="number">0</span>));     <span class="comment">// h</span></span><br><span class="line"><span class="built_in">console</span>.log(str[<span class="number">0</span>]);            <span class="comment">// h</span></span><br></pre></td></tr></table></figure>
<h5 id="charCodeAt"><a href="#charCodeAt" class="headerlink" title="charCodeAt()"></a>charCodeAt()</h5><p>返回在指定的位置的字符的 Unicode 编码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.charAt(<span class="number">0</span>));     <span class="comment">// 104</span></span><br></pre></td></tr></table></figure>
<h5 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf()"></a>indexOf()</h5><p>检索字符串是否包含指定内容（正序），找到返回指定内容的位置，否则返回-1。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.indexOf(<span class="string">"el"</span>));     <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.indexof(<span class="string">"l"</span>, <span class="number">3</span>));     <span class="comment">// 3，从位置3开始查找指定内容</span></span><br></pre></td></tr></table></figure>
<h5 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf()"></a>lastIndexOf()</h5><p>检索字符串是否包含指定内容（反序），找到返回指定内容的位置，否则返回-1。</p>
<hr>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><p>更多：<a href="http://www.w3school.com.cn/json/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/json/index.asp</a></p>
<p>JSON(JavaScript Object Notation, JS 对象简谱) 是一种轻量级的数据交换格式。</p>
<p>JSON分类：</p>
<ul>
<li><p>JSON对象(键值对)：’{“name”: “孙悟空”, “age”: 18}’;</p>
</li>
<li><p>JSON数组：’[“孙悟空”, 18]’;</p>
</li>
</ul>
<p>JSON允许的值：字符串、数值、布尔值、null、对象、数组。</p>
<font color="red">IE7及以下浏览器未定义JSON对象。</font>

<hr>
<h4 id="JSON转成JS对象"><a href="#JSON转成JS对象" class="headerlink" title="JSON转成JS对象"></a>JSON转成JS对象</h4><p>使用JSObj = JSON.parse(jsonStr);方法获取其返回值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="keyword">var</span> json = <span class="string">'&#123;"name": "孙悟空", "age": 18&#125;'</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> jsonArr = <span class="string">'["孙悟空", 18]'</span>;</span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="javascript">             * 将<span class="built_in">JSON</span>字符串转换为JS中的对象。</span></span><br><span class="line"><span class="javascript">             * 在JS中，为我们提供了一个工具类，就叫<span class="built_in">JSON</span></span></span><br><span class="line"><span class="undefined">             * </span></span><br><span class="line"><span class="undefined">             * json --&gt; js对象</span></span><br><span class="line"><span class="javascript">             *  <span class="built_in">JSON</span>.parse()</span></span><br><span class="line"><span class="javascript">             *      - 可以将<span class="built_in">JSON</span>字符串转换为js对象</span></span><br><span class="line"><span class="javascript">             *      - 它需要一个<span class="built_in">JSON</span>字符串作为参数</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> obj = <span class="built_in">JSON</span>.parse(json);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> obj2 = <span class="built_in">JSON</span>.parse(jsonArr);</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            alert(obj.name + <span class="string">" "</span> + obj2[<span class="number">0</span>]);        <span class="comment">// 孙悟空 孙悟空</span></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="JS对象转成JSON"><a href="#JS对象转成JSON" class="headerlink" title="JS对象转成JSON"></a>JS对象转成JSON</h4><p>使用JsonStr = JSON.stringify(obj);获取其返回值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="keyword">var</span> obj = &#123;<span class="attr">name</span>: <span class="string">"孙悟空"</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> str = <span class="built_in">JSON</span>.stringify(obj);</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            alert(str);         <span class="comment">// "name": "孙悟空", "age": 18&#125;</span></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="兼容IE7，不常用"><a href="#兼容IE7，不常用" class="headerlink" title="兼容IE7，不常用"></a>兼容IE7，不常用</h4><h5 id="第一种方法：不常用，不建议用。"><a href="#第一种方法：不常用，不建议用。" class="headerlink" title="第一种方法：不常用，不建议用。"></a>第一种方法：不常用，不建议用。</h5><p>eval()函数：用来执行一段字符串形式的JS代码，并将执行结果返回。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="keyword">var</span> json = <span class="string">'&#123;"name": "孙悟空", "age": 18&#125;'</span>;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="javascript">             * <span class="built_in">eval</span>()</span></span><br><span class="line"><span class="undefined">             *  - 用来执行一段字符串形式的JS代码，并将执行结果返回。</span></span><br><span class="line"><span class="javascript">             *  - 如果使用<span class="built_in">eval</span>()执行的字符串中含有&#123;&#125;，它会将&#123;&#125;当成代码块，如果不喜欢被当成代码块，则需要在字符串前后加一个()</span></span><br><span class="line"><span class="undefined">             * </span></span><br><span class="line"><span class="javascript">             *  - <span class="built_in">eval</span>()函数功能很强大，可以直接执行一个字符串中的js代码，但是执行性能比较差，并且有安全隐患。</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> obj = <span class="built_in">eval</span>(<span class="string">"("</span> + json + <span class="string">")"</span>);</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            alert(obj.name);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="第二种方法：引入外部js文件进行处理"><a href="#第二种方法：引入外部js文件进行处理" class="headerlink" title="第二种方法：引入外部js文件进行处理"></a>第二种方法：引入外部js文件进行处理</h5><p>IE7及以下浏览器没有JSON对象，所以不能进行JSON解析，所以，以下这种方法就是创建了一个JSON对象！！！如果真的要使用，直接复制如下代码到外部js文件中即可……</p>
<p>json2.js:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  json2.js</span></span><br><span class="line"><span class="comment">//  2016-05-01</span></span><br><span class="line"><span class="comment">//  Public Domain.</span></span><br><span class="line"><span class="comment">//  NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.</span></span><br><span class="line"><span class="comment">//  See http://www.JSON.org/js.html</span></span><br><span class="line"><span class="comment">//  This code should be minified before deployment.</span></span><br><span class="line"><span class="comment">//  See http://javascript.crockford.com/jsmin.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO</span></span><br><span class="line"><span class="comment">//  NOT CONTROL.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  This file creates a global JSON object containing two methods: stringify</span></span><br><span class="line"><span class="comment">//  and parse. This file is provides the ES5 JSON capability to ES3 systems.</span></span><br><span class="line"><span class="comment">//  If a project might run on IE8 or earlier, then this file should be included.</span></span><br><span class="line"><span class="comment">//  This file does nothing on ES5 systems.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      JSON.stringify(value, replacer, space)</span></span><br><span class="line"><span class="comment">//          value       any JavaScript value, usually an object or array.</span></span><br><span class="line"><span class="comment">//          replacer    an optional parameter that determines how object</span></span><br><span class="line"><span class="comment">//                      values are stringified for objects. It can be a</span></span><br><span class="line"><span class="comment">//                      function or an array of strings.</span></span><br><span class="line"><span class="comment">//          space       an optional parameter that specifies the indentation</span></span><br><span class="line"><span class="comment">//                      of nested structures. If it is omitted, the text will</span></span><br><span class="line"><span class="comment">//                      be packed without extra whitespace. If it is a number,</span></span><br><span class="line"><span class="comment">//                      it will specify the number of spaces to indent at each</span></span><br><span class="line"><span class="comment">//                      level. If it is a string (such as "\t" or "&amp;nbsp;"),</span></span><br><span class="line"><span class="comment">//                      it contains the characters used to indent at each level.</span></span><br><span class="line"><span class="comment">//          This method produces a JSON text from a JavaScript value.</span></span><br><span class="line"><span class="comment">//          When an object value is found, if the object contains a toJSON</span></span><br><span class="line"><span class="comment">//          method, its toJSON method will be called and the result will be</span></span><br><span class="line"><span class="comment">//          stringified. A toJSON method does not serialize: it returns the</span></span><br><span class="line"><span class="comment">//          value represented by the name/value pair that should be serialized,</span></span><br><span class="line"><span class="comment">//          or undefined if nothing should be serialized. The toJSON method</span></span><br><span class="line"><span class="comment">//          will be passed the key associated with the value, and this will be</span></span><br><span class="line"><span class="comment">//          bound to the value.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          For example, this would serialize Dates as ISO strings.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//              Date.prototype.toJSON = function (key) &#123;</span></span><br><span class="line"><span class="comment">//                  function f(n) &#123;</span></span><br><span class="line"><span class="comment">//                      // Format integers to have at least two digits.</span></span><br><span class="line"><span class="comment">//                      return (n &lt; 10)</span></span><br><span class="line"><span class="comment">//                          ? "0" + n</span></span><br><span class="line"><span class="comment">//                          : n;</span></span><br><span class="line"><span class="comment">//                  &#125;</span></span><br><span class="line"><span class="comment">//                  return this.getUTCFullYear()   + "-" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCMonth() + 1) + "-" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCDate())      + "T" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCHours())     + ":" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCMinutes())   + ":" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCSeconds())   + "Z";</span></span><br><span class="line"><span class="comment">//              &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          You can provide an optional replacer method. It will be passed the</span></span><br><span class="line"><span class="comment">//          key and value of each member, with this bound to the containing</span></span><br><span class="line"><span class="comment">//          object. The value that is returned from your method will be</span></span><br><span class="line"><span class="comment">//          serialized. If your method returns undefined, then the member will</span></span><br><span class="line"><span class="comment">//          be excluded from the serialization.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          If the replacer parameter is an array of strings, then it will be</span></span><br><span class="line"><span class="comment">//          used to select the members to be serialized. It filters the results</span></span><br><span class="line"><span class="comment">//          such that only members with keys listed in the replacer array are</span></span><br><span class="line"><span class="comment">//          stringified.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          Values that do not have JSON representations, such as undefined or</span></span><br><span class="line"><span class="comment">//          functions, will not be serialized. Such values in objects will be</span></span><br><span class="line"><span class="comment">//          dropped; in arrays they will be replaced with null. You can use</span></span><br><span class="line"><span class="comment">//          a replacer function to replace those with JSON values.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          JSON.stringify(undefined) returns undefined.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          The optional space parameter produces a stringification of the</span></span><br><span class="line"><span class="comment">//          value that is filled with line breaks and indentation to make it</span></span><br><span class="line"><span class="comment">//          easier to read.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          If the space parameter is a non-empty string, then that string will</span></span><br><span class="line"><span class="comment">//          be used for indentation. If the space parameter is a number, then</span></span><br><span class="line"><span class="comment">//          the indentation will be that many spaces.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          Example:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          text = JSON.stringify(["e", &#123;pluribus: "unum"&#125;]);</span></span><br><span class="line"><span class="comment">//          // text is '["e",&#123;"pluribus":"unum"&#125;]'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          text = JSON.stringify(["e", &#123;pluribus: "unum"&#125;], null, "\t");</span></span><br><span class="line"><span class="comment">//          // text is '[\n\t"e",\n\t&#123;\n\t\t"pluribus": "unum"\n\t&#125;\n]'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          text = JSON.stringify([new Date()], function (key, value) &#123;</span></span><br><span class="line"><span class="comment">//              return this[key] instanceof Date</span></span><br><span class="line"><span class="comment">//                  ? "Date(" + this[key] + ")"</span></span><br><span class="line"><span class="comment">//                  : value;</span></span><br><span class="line"><span class="comment">//          &#125;);</span></span><br><span class="line"><span class="comment">//          // text is '["Date(---current time---)"]'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      JSON.parse(text, reviver)</span></span><br><span class="line"><span class="comment">//          This method parses a JSON text to produce an object or array.</span></span><br><span class="line"><span class="comment">//          It can throw a SyntaxError exception.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          The optional reviver parameter is a function that can filter and</span></span><br><span class="line"><span class="comment">//          transform the results. It receives each of the keys and values,</span></span><br><span class="line"><span class="comment">//          and its return value is used instead of the original value.</span></span><br><span class="line"><span class="comment">//          If it returns what it received, then the structure is not modified.</span></span><br><span class="line"><span class="comment">//          If it returns undefined then the member is deleted.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          Example:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          // Parse the text. Values that look like ISO date strings will</span></span><br><span class="line"><span class="comment">//          // be converted to Date objects.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          myData = JSON.parse(text, function (key, value) &#123;</span></span><br><span class="line"><span class="comment">//              var a;</span></span><br><span class="line"><span class="comment">//              if (typeof value === "string") &#123;</span></span><br><span class="line"><span class="comment">//                  a =</span></span><br><span class="line"><span class="comment">//   /^(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)T(\d&#123;2&#125;):(\d&#123;2&#125;):(\d&#123;2&#125;(?:\.\d*)?)Z$/.exec(value);</span></span><br><span class="line"><span class="comment">//                  if (a) &#123;</span></span><br><span class="line"><span class="comment">//                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],</span></span><br><span class="line"><span class="comment">//                          +a[5], +a[6]));</span></span><br><span class="line"><span class="comment">//                  &#125;</span></span><br><span class="line"><span class="comment">//              &#125;</span></span><br><span class="line"><span class="comment">//              return value;</span></span><br><span class="line"><span class="comment">//          &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          myData = JSON.parse('["Date(09/09/2001)"]', function (key, value) &#123;</span></span><br><span class="line"><span class="comment">//              var d;</span></span><br><span class="line"><span class="comment">//              if (typeof value === "string" &amp;&amp;</span></span><br><span class="line"><span class="comment">//                      value.slice(0, 5) === "Date(" &amp;&amp;</span></span><br><span class="line"><span class="comment">//                      value.slice(-1) === ")") &#123;</span></span><br><span class="line"><span class="comment">//                  d = new Date(value.slice(5, -1));</span></span><br><span class="line"><span class="comment">//                  if (d) &#123;</span></span><br><span class="line"><span class="comment">//                      return d;</span></span><br><span class="line"><span class="comment">//                  &#125;</span></span><br><span class="line"><span class="comment">//              &#125;</span></span><br><span class="line"><span class="comment">//              return value;</span></span><br><span class="line"><span class="comment">//          &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  This is a reference implementation. You are free to copy, modify, or</span></span><br><span class="line"><span class="comment">//  redistribute.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*jslint</span></span><br><span class="line"><span class="comment">    eval, for, this</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*property</span></span><br><span class="line"><span class="comment">    JSON, apply, call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,</span></span><br><span class="line"><span class="comment">    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,</span></span><br><span class="line"><span class="comment">    lastIndex, length, parse, prototype, push, replace, slice, stringify,</span></span><br><span class="line"><span class="comment">    test, toJSON, toString, valueOf</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a JSON object only if one does not already exist. We create the</span></span><br><span class="line"><span class="comment">// methods in a closure to avoid creating global variables.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">JSON</span> !== <span class="string">"object"</span>) &#123;</span><br><span class="line">    <span class="built_in">JSON</span> = &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    "use strict"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> rx_one = <span class="regexp">/^[\],:&#123;&#125;\s]*$/</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_two = <span class="regexp">/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]&#123;4&#125;)/g</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_three = <span class="regexp">/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_four = <span class="regexp">/(?:^|:|,)(?:\s*\[)+/g</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_escapable = <span class="regexp">/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_dangerous = <span class="regexp">/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// Format integers to have at least two digits.</span></span><br><span class="line">        <span class="keyword">return</span> n &lt; <span class="number">10</span></span><br><span class="line">            ? <span class="string">"0"</span> + n</span><br><span class="line">            : n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">this_value</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.valueOf();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Date</span>.prototype.toJSON !== <span class="string">"function"</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">Date</span>.prototype.toJSON = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">isFinite</span>(<span class="keyword">this</span>.valueOf())</span><br><span class="line">                ? <span class="keyword">this</span>.getUTCFullYear() + <span class="string">"-"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCMonth() + <span class="number">1</span>) + <span class="string">"-"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCDate()) + <span class="string">"T"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCHours()) + <span class="string">":"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCMinutes()) + <span class="string">":"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCSeconds()) + <span class="string">"Z"</span></span><br><span class="line">                : <span class="literal">null</span>;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">Boolean</span>.prototype.toJSON = this_value;</span><br><span class="line">        <span class="built_in">Number</span>.prototype.toJSON = this_value;</span><br><span class="line">        <span class="built_in">String</span>.prototype.toJSON = this_value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> gap;</span><br><span class="line">    <span class="keyword">var</span> indent;</span><br><span class="line">    <span class="keyword">var</span> meta;</span><br><span class="line">    <span class="keyword">var</span> rep;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">quote</span>(<span class="params">string</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the string contains no control characters, no quote characters, and no</span></span><br><span class="line"><span class="comment">// backslash characters, then we can safely slap some quotes around it.</span></span><br><span class="line"><span class="comment">// Otherwise we must also replace the offending characters with safe escape</span></span><br><span class="line"><span class="comment">// sequences.</span></span><br><span class="line"></span><br><span class="line">        rx_escapable.lastIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> rx_escapable.test(string)</span><br><span class="line">            ? <span class="string">"\""</span> + string.replace(rx_escapable, <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> c = meta[a];</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">typeof</span> c === <span class="string">"string"</span></span><br><span class="line">                    ? c</span><br><span class="line">                    : <span class="string">"\\u"</span> + (<span class="string">"0000"</span> + a.charCodeAt(<span class="number">0</span>).toString(<span class="number">16</span>)).slice(<span class="number">-4</span>);</span><br><span class="line">            &#125;) + <span class="string">"\""</span></span><br><span class="line">            : <span class="string">"\""</span> + string + <span class="string">"\""</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">str</span>(<span class="params">key, holder</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Produce a string from holder[key].</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> i;          <span class="comment">// The loop counter.</span></span><br><span class="line">        <span class="keyword">var</span> k;          <span class="comment">// The member key.</span></span><br><span class="line">        <span class="keyword">var</span> v;          <span class="comment">// The member value.</span></span><br><span class="line">        <span class="keyword">var</span> length;</span><br><span class="line">        <span class="keyword">var</span> mind = gap;</span><br><span class="line">        <span class="keyword">var</span> partial;</span><br><span class="line">        <span class="keyword">var</span> value = holder[key];</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the value has a toJSON method, call it to obtain a replacement value.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (value &amp;&amp; <span class="keyword">typeof</span> value === <span class="string">"object"</span> &amp;&amp;</span><br><span class="line">                <span class="keyword">typeof</span> value.toJSON === <span class="string">"function"</span>) &#123;</span><br><span class="line">            value = value.toJSON(key);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If we were called with a replacer function, then call the replacer to</span></span><br><span class="line"><span class="comment">// obtain a replacement value.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> rep === <span class="string">"function"</span>) &#123;</span><br><span class="line">            value = rep.call(holder, key, value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// What happens next depends on the value's type.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (<span class="keyword">typeof</span> value) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"string"</span>:</span><br><span class="line">            <span class="keyword">return</span> quote(value);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">"number"</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">// JSON numbers must be finite. Encode non-finite numbers as null.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">isFinite</span>(value)</span><br><span class="line">                ? <span class="built_in">String</span>(value)</span><br><span class="line">                : <span class="string">"null"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">"boolean"</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"null"</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the value is a boolean or null, convert it to a string. Note:</span></span><br><span class="line"><span class="comment">// typeof null does not produce "null". The case is included here in</span></span><br><span class="line"><span class="comment">// the remote chance that this gets fixed someday.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">String</span>(value);</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the type is "object", we might be dealing with an object or an array or</span></span><br><span class="line"><span class="comment">// null.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">"object"</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">// Due to a specification blunder in ECMAScript, typeof null is "object",</span></span><br><span class="line"><span class="comment">// so watch out for that case.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!value) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"null"</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make an array to hold the partial results of stringifying this object value.</span></span><br><span class="line"></span><br><span class="line">            gap += indent;</span><br><span class="line">            partial = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Is the value an array?</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.apply(value) === <span class="string">"[object Array]"</span>) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The value is an array. Stringify every element. Use null as a placeholder</span></span><br><span class="line"><span class="comment">// for non-JSON values.</span></span><br><span class="line"></span><br><span class="line">                length = value.length;</span><br><span class="line">                <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i += <span class="number">1</span>) &#123;</span><br><span class="line">                    partial[i] = str(i, value) || <span class="string">"null"</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Join all of the elements together, separated with commas, and wrap them in</span></span><br><span class="line"><span class="comment">// brackets.</span></span><br><span class="line"></span><br><span class="line">                v = partial.length === <span class="number">0</span></span><br><span class="line">                    ? <span class="string">"[]"</span></span><br><span class="line">                    : gap</span><br><span class="line">                        ? <span class="string">"[\n"</span> + gap + partial.join(<span class="string">",\n"</span> + gap) + <span class="string">"\n"</span> + mind + <span class="string">"]"</span></span><br><span class="line">                        : <span class="string">"["</span> + partial.join(<span class="string">","</span>) + <span class="string">"]"</span>;</span><br><span class="line">                gap = mind;</span><br><span class="line">                <span class="keyword">return</span> v;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the replacer is an array, use it to select the members to be stringified.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (rep &amp;&amp; <span class="keyword">typeof</span> rep === <span class="string">"object"</span>) &#123;</span><br><span class="line">                length = rep.length;</span><br><span class="line">                <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i += <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">typeof</span> rep[i] === <span class="string">"string"</span>) &#123;</span><br><span class="line">                        k = rep[i];</span><br><span class="line">                        v = str(k, value);</span><br><span class="line">                        <span class="keyword">if</span> (v) &#123;</span><br><span class="line">                            partial.push(quote(k) + (</span><br><span class="line">                                gap</span><br><span class="line">                                    ? <span class="string">": "</span></span><br><span class="line">                                    : <span class="string">":"</span></span><br><span class="line">                            ) + v);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Otherwise, iterate through all of the keys in the object.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (k <span class="keyword">in</span> value) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.hasOwnProperty.call(value, k)) &#123;</span><br><span class="line">                        v = str(k, value);</span><br><span class="line">                        <span class="keyword">if</span> (v) &#123;</span><br><span class="line">                            partial.push(quote(k) + (</span><br><span class="line">                                gap</span><br><span class="line">                                    ? <span class="string">": "</span></span><br><span class="line">                                    : <span class="string">":"</span></span><br><span class="line">                            ) + v);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Join all of the member texts together, separated with commas,</span></span><br><span class="line"><span class="comment">// and wrap them in braces.</span></span><br><span class="line"></span><br><span class="line">            v = partial.length === <span class="number">0</span></span><br><span class="line">                ? <span class="string">"&#123;&#125;"</span></span><br><span class="line">                : gap</span><br><span class="line">                    ? <span class="string">"&#123;\n"</span> + gap + partial.join(<span class="string">",\n"</span> + gap) + <span class="string">"\n"</span> + mind + <span class="string">"&#125;"</span></span><br><span class="line">                    : <span class="string">"&#123;"</span> + partial.join(<span class="string">","</span>) + <span class="string">"&#125;"</span>;</span><br><span class="line">            gap = mind;</span><br><span class="line">            <span class="keyword">return</span> v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the JSON object does not yet have a stringify method, give it one.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">JSON</span>.stringify !== <span class="string">"function"</span>) &#123;</span><br><span class="line">        meta = &#123;    <span class="comment">// table of character substitutions</span></span><br><span class="line">            <span class="string">"\b"</span>: <span class="string">"\\b"</span>,</span><br><span class="line">            <span class="string">"\t"</span>: <span class="string">"\\t"</span>,</span><br><span class="line">            <span class="string">"\n"</span>: <span class="string">"\\n"</span>,</span><br><span class="line">            <span class="string">"\f"</span>: <span class="string">"\\f"</span>,</span><br><span class="line">            <span class="string">"\r"</span>: <span class="string">"\\r"</span>,</span><br><span class="line">            <span class="string">"\""</span>: <span class="string">"\\\""</span>,</span><br><span class="line">            <span class="string">"\\"</span>: <span class="string">"\\\\"</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">JSON</span>.stringify = <span class="function"><span class="keyword">function</span> (<span class="params">value, replacer, space</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The stringify method takes a value and an optional replacer, and an optional</span></span><br><span class="line"><span class="comment">// space parameter, and returns a JSON text. The replacer can be a function</span></span><br><span class="line"><span class="comment">// that can replace values, or an array of strings that will select the keys.</span></span><br><span class="line"><span class="comment">// A default replacer method can be provided. Use of the space parameter can</span></span><br><span class="line"><span class="comment">// produce text that is more easily readable.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> i;</span><br><span class="line">            gap = <span class="string">""</span>;</span><br><span class="line">            indent = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the space parameter is a number, make an indent string containing that</span></span><br><span class="line"><span class="comment">// many spaces.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> space === <span class="string">"number"</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; space; i += <span class="number">1</span>) &#123;</span><br><span class="line">                    indent += <span class="string">" "</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the space parameter is a string, it will be used as the indent string.</span></span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> space === <span class="string">"string"</span>) &#123;</span><br><span class="line">                indent = space;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If there is a replacer, it must be a function or an array.</span></span><br><span class="line"><span class="comment">// Otherwise, throw an error.</span></span><br><span class="line"></span><br><span class="line">            rep = replacer;</span><br><span class="line">            <span class="keyword">if</span> (replacer &amp;&amp; <span class="keyword">typeof</span> replacer !== <span class="string">"function"</span> &amp;&amp;</span><br><span class="line">                    (<span class="keyword">typeof</span> replacer !== <span class="string">"object"</span> ||</span><br><span class="line">                    <span class="keyword">typeof</span> replacer.length !== <span class="string">"number"</span>)) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"JSON.stringify"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make a fake root object containing our value under the key of "".</span></span><br><span class="line"><span class="comment">// Return the result of stringifying the value.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> str(<span class="string">""</span>, &#123;<span class="string">""</span>: value&#125;);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// If the JSON object does not yet have a parse method, give it one.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">JSON</span>.parse !== <span class="string">"function"</span>) &#123;</span><br><span class="line">        <span class="built_in">JSON</span>.parse = <span class="function"><span class="keyword">function</span> (<span class="params">text, reviver</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The parse method takes a text and an optional reviver function, and returns</span></span><br><span class="line"><span class="comment">// a JavaScript value if the text is a valid JSON text.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> j;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">walk</span>(<span class="params">holder, key</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The walk method is used to recursively walk the resulting structure so</span></span><br><span class="line"><span class="comment">// that modifications can be made.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> k;</span><br><span class="line">                <span class="keyword">var</span> v;</span><br><span class="line">                <span class="keyword">var</span> value = holder[key];</span><br><span class="line">                <span class="keyword">if</span> (value &amp;&amp; <span class="keyword">typeof</span> value === <span class="string">"object"</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (k <span class="keyword">in</span> value) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.hasOwnProperty.call(value, k)) &#123;</span><br><span class="line">                            v = walk(value, k);</span><br><span class="line">                            <span class="keyword">if</span> (v !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">                                value[k] = v;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">delete</span> value[k];</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> reviver.call(holder, key, value);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Parsing happens in four stages. In the first stage, we replace certain</span></span><br><span class="line"><span class="comment">// Unicode characters with escape sequences. JavaScript handles many characters</span></span><br><span class="line"><span class="comment">// incorrectly, either silently deleting them, or treating them as line endings.</span></span><br><span class="line"></span><br><span class="line">            text = <span class="built_in">String</span>(text);</span><br><span class="line">            rx_dangerous.lastIndex = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (rx_dangerous.test(text)) &#123;</span><br><span class="line">                text = text.replace(rx_dangerous, <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"\\u"</span> +</span><br><span class="line">                            (<span class="string">"0000"</span> + a.charCodeAt(<span class="number">0</span>).toString(<span class="number">16</span>)).slice(<span class="number">-4</span>);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// In the second stage, we run the text against regular expressions that look</span></span><br><span class="line"><span class="comment">// for non-JSON patterns. We are especially concerned with "()" and "new"</span></span><br><span class="line"><span class="comment">// because they can cause invocation, and "=" because it can cause mutation.</span></span><br><span class="line"><span class="comment">// But just to be safe, we want to reject all unexpected forms.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// We split the second stage into 4 regexp operations in order to work around</span></span><br><span class="line"><span class="comment">// crippling inefficiencies in IE's and Safari's regexp engines. First we</span></span><br><span class="line"><span class="comment">// replace the JSON backslash pairs with "@" (a non-JSON character). Second, we</span></span><br><span class="line"><span class="comment">// replace all simple value tokens with "]" characters. Third, we delete all</span></span><br><span class="line"><span class="comment">// open brackets that follow a colon or comma or that begin the text. Finally,</span></span><br><span class="line"><span class="comment">// we look to see that the remaining characters are only whitespace or "]" or</span></span><br><span class="line"><span class="comment">// "," or ":" or "&#123;" or "&#125;". If that is so, then the text is safe for eval.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (</span><br><span class="line">                rx_one.test(</span><br><span class="line">                    text</span><br><span class="line">                        .replace(rx_two, <span class="string">"@"</span>)</span><br><span class="line">                        .replace(rx_three, <span class="string">"]"</span>)</span><br><span class="line">                        .replace(rx_four, <span class="string">""</span>)</span><br><span class="line">                )</span><br><span class="line">            ) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// In the third stage we use the eval function to compile the text into a</span></span><br><span class="line"><span class="comment">// JavaScript structure. The "&#123;" operator is subject to a syntactic ambiguity</span></span><br><span class="line"><span class="comment">// in JavaScript: it can begin a block or an object literal. We wrap the text</span></span><br><span class="line"><span class="comment">// in parens to eliminate the ambiguity.</span></span><br><span class="line"></span><br><span class="line">                j = <span class="built_in">eval</span>(<span class="string">"("</span> + text + <span class="string">")"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// In the optional fourth stage, we recursively walk the new structure, passing</span></span><br><span class="line"><span class="comment">// each name/value pair to a reviver function for possible transformation.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> (<span class="keyword">typeof</span> reviver === <span class="string">"function"</span>)</span><br><span class="line">                    ? walk(&#123;<span class="string">""</span>: j&#125;, <span class="string">""</span>)</span><br><span class="line">                    : j;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the text is not JSON parseable, then a SyntaxError is thrown.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">SyntaxError</span>(<span class="string">"JSON.parse"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/18/前端-JavaScript基础/" data-id="cju2orh0l0052xcutwwcq990q" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/01/19/前端-JavaScript基础-DOM基础/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          JavaScript基础_DOM基础
        
      </div>
    </a>
  
  
    <a href="/2018/12/14/前端-Html_Css常见问题解决/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Html_Css常见问题解决</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BOM/">BOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EcamScript6/">EcamScript6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Html-Css/">Html/Css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node/">Node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/echarts/">echarts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/">tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/框架/">框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模板引擎/">模板引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器兼容/">浏览器兼容</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端/">移动端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件配置/">软件配置</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 18.57px;">Android</a> <a href="/tags/BOM/" style="font-size: 10px;">BOM</a> <a href="/tags/DOM/" style="font-size: 10px;">DOM</a> <a href="/tags/EcamScript6/" style="font-size: 10px;">EcamScript6</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Html-Css/" style="font-size: 11.43px;">Html/Css</a> <a href="/tags/JavaScript/" style="font-size: 15.71px;">JavaScript</a> <a href="/tags/Node/" style="font-size: 12.86px;">Node</a> <a href="/tags/Python/" style="font-size: 15.71px;">Python</a> <a href="/tags/Vue/" style="font-size: 11.43px;">Vue</a> <a href="/tags/blog/" style="font-size: 11.43px;">blog</a> <a href="/tags/echarts/" style="font-size: 10px;">echarts</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/tool/" style="font-size: 10px;">tool</a> <a href="/tags/前端/" style="font-size: 17.14px;">前端</a> <a href="/tags/后端/" style="font-size: 14.29px;">后端</a> <a href="/tags/小程序/" style="font-size: 10px;">小程序</a> <a href="/tags/数据库/" style="font-size: 11.43px;">数据库</a> <a href="/tags/框架/" style="font-size: 14.29px;">框架</a> <a href="/tags/模板引擎/" style="font-size: 10px;">模板引擎</a> <a href="/tags/浏览器兼容/" style="font-size: 10px;">浏览器兼容</a> <a href="/tags/移动端/" style="font-size: 20px;">移动端</a> <a href="/tags/软件配置/" style="font-size: 10px;">软件配置</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/04/04/框架-Vuejs-模块化开发/">框架-Vuejs-模块化开发</a>
          </li>
        
          <li>
            <a href="/2019/03/23/框架-Vuejs/">框架-Vue.js基础</a>
          </li>
        
          <li>
            <a href="/2019/03/20/模板引擎——art-template/">模板引擎——art-template</a>
          </li>
        
          <li>
            <a href="/2019/03/19/后端基础——npm常见包/">后端基础——npm常见包</a>
          </li>
        
          <li>
            <a href="/2019/03/18/前端-JavaScript基础-EcamScript6/">前端-JavaScript基础-EcamScript6</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Ai Junhao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>