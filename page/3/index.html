<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hello, I&#39;m Junhao Ai.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hello, I&#39;m Junhao Ai.">
  
    <link rel="alternate" href="/atom.xml" title="Hello, I&#39;m Junhao Ai." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hello, I&#39;m Junhao Ai.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-前端-JavaScript基础-jQuery基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/16/前端-JavaScript基础-jQuery基础/" class="article-date">
  <time datetime="2019-02-16T06:21:05.000Z" itemprop="datePublished">2019-02-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/16/前端-JavaScript基础-jQuery基础/">前端-JavaScript基础-jQuery基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：</p>
<!-- TOC -->
<ul>
<li><a href="#jquery介绍">jQuery介绍</a></li>
<li><a href="#jquery的基本使用">jQuery的基本使用</a><ul>
<li><a href="#基础语法">基础语法</a></li>
<li><a href="#文档就绪事件">文档就绪事件</a></li>
<li><a href="#dom与jquery对照">DOM与jQuery对照</a></li>
<li><a href="#函数对象jquery-与-">函数/对象：jQuery 与 $</a><ul>
<li><a href="#jquery作为函数">jQuery作为函数</a></li>
<li><a href="#jquery作为对象">jQuery作为对象</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#选择器">选择器</a><ul>
<li><a href="#基本选择器">基本选择器</a><ul>
<li><a href="#元素选择器">元素选择器</a></li>
<li><a href="#id-选择器">#id 选择器</a></li>
<li><a href="#class-类选择器">.class 类选择器</a></li>
<li><a href="#seletor1-seletor2-并集">seletor1, seletor2 并集</a></li>
<li><a href="#交集">交集</a></li>
</ul>
</li>
<li><a href="#层次选择器">层次选择器</a><ul>
<li><a href="#ancestor-descendant-后代选择器">ancestor descendant 后代选择器</a></li>
<li><a href="#parentchild-子元素选择器">parent&gt;child 子元素选择器</a></li>
<li><a href="#prevnext-下一个兄弟元素选择器">prev+next 下一个兄弟元素选择器</a></li>
<li><a href="#prevsiblings-之后所有的兄弟元素选择器">prev~siblings 之后所有的兄弟元素选择器</a></li>
</ul>
</li>
<li><a href="#过滤选择器">过滤选择器</a></li>
<li><a href="#表单选择器">表单选择器</a></li>
</ul>
</li>
<li><a href="#css">CSS</a></li>
<li><a href="#文档处理">文档处理</a><ul>
<li><a href="#综合练习">综合练习</a></li>
</ul>
</li>
<li><a href="#事件处理">事件处理</a><ul>
<li><a href="#readyfn">ready(fn)</a></li>
<li><a href="#oneventsselectordatafn-绑定事件">on(events,[selector],[data],fn) 绑定事件</a></li>
<li><a href="#offeventsselectorfn-解除事件">off(events,[selector],[fn]) 解除事件</a></li>
<li><a href="#坐标">坐标</a></li>
<li>[mouseover([[data],fn]) / mouseenter([[data],fn]) / hover(<a href="#mouseoverdatafn--mouseenterdatafn--hoveroverout">over,]out)</a></li>
<li><a href="#事件冒泡">事件冒泡</a></li>
<li><a href="#事件委派">事件委派</a></li>
</ul>
</li>
<li><a href="#内置动画">内置动画</a></li>
<li><a href="#多库共存">多库共存</a></li>
<li><a href="#综合练习平滑翻页">综合练习——平滑翻页</a></li>
<li><a href="#jquery-插件之-jqueryui">jQuery 插件之 jQueryUI</a></li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="jQuery介绍"><a href="#jQuery介绍" class="headerlink" title="jQuery介绍"></a>jQuery介绍</h3><p>官网：<a href="http://jquery.com/" target="_blank" rel="noopener">http://jquery.com/</a></p>
<p>jQuery 3.3.1 API中文文档：jquery.cuishifeng.cn</p>
<p>jquery是一个快速、小且功能丰富的JavaScript库。它使HTML文档的遍历和操作、事件处理、动画和Ajax等操作变得更加简单，它使用了一个易于使用的API，可以跨多种浏览器工作。结合了多功能性和可扩展性，jquery改变了数百万人编写JavaScript的方式。 </p>
<p>jQuery全称 JavaScript Query，是一个轻量级的”写的少，做的多”的JavaScript库，主要封装了DOM。</p>
<p>JavaScript中查询标签可以通过DOM/BOM，但是实际上那种方法是比较麻烦比较low的，所以有了jQuery，专门用来做复杂的网页标签查询交互的，其最核心的功能就是查询。</p>
<p>jQuery库包含以下功能：</p>
<ul>
<li>HTML 元素查询（核心）</li>
<li>HTML 元素操作</li>
<li>CSS 操作</li>
<li>HTML 事件函数</li>
<li>JavaScript 特效和动画</li>
<li>HTML DOM 遍历和修改</li>
<li>AJAX</li>
<li>Utilities</li>
<li>链式调用</li>
<li>读写合一</li>
<li>浏览器兼容</li>
<li>易拓展插件</li>
</ul>
<hr>
<h3 id="jQuery的基本使用"><a href="#jQuery的基本使用" class="headerlink" title="jQuery的基本使用"></a>jQuery的基本使用</h3><p>要使用jQuery，需要先在官网下载jQuery的js文件本地引入或者 使用cdn上的远程引入。</p>
<p>正式开发时候，常用cdn上的远程引入。如Bootcdn官网：<a href="https://www.bootcdn.cn/" target="_blank" rel="noopener">https://www.bootcdn.cn/</a></p>
<p>更多cdn见菜鸟教程：<a href="http://www.runoob.com/jquery/jquery-install.html" target="_blank" rel="noopener">http://www.runoob.com/jquery/jquery-install.html</a></p>
<p>jQuery版本区别：</p>
<ul>
<li>1.x: 兼容老版本IE，文件较大</li>
<li>2.x: 部分IE8及以下不支持，文件小，执行效率高</li>
<li><p>3.x: 完全不支持IE8及以下版本，提供了一些新的API，提供不包含ajax/动画API的版本</p>
</li>
<li><p>.js: 未压缩，开发版，适合开发使用，变量明确，容易调试。</p>
</li>
<li>.min.js: 压缩，生产版，使用abc等简单变量，文件小，提升加载速度。效果与开发版完全相同。</li>
</ul>
<hr>
<h4 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h4><p>$(selector).action()</p>
<ul>
<li>美元符号定义 $/jQuery</li>
<li>选择符（selector）”查询”和”查找” HTML 元素</li>
<li>jQuery 的 action() 执行对元素的操作</li>
</ul>
<hr>
<h4 id="文档就绪事件"><a href="#文档就绪事件" class="headerlink" title="文档就绪事件"></a>文档就绪事件</h4><p>这是为了防止文档在完全加载（就绪）之前运行 jQuery 代码，即在 DOM 加载完成后才可以对 DOM 进行操作。</p>
<p>就相当于DOM中的“window.onload = function(){}”。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function()&#123;</span><br><span class="line"> </span><br><span class="line">   // 开始写 jQuery 代码...</span><br><span class="line"> </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">$(function()&#123;</span><br><span class="line"> </span><br><span class="line">   // 开始写 jQuery 代码...</span><br><span class="line"> </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="DOM与jQuery对照"><a href="#DOM与jQuery对照" class="headerlink" title="DOM与jQuery对照"></a>DOM与jQuery对照</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 原生DOM</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">"btn01"</span>);</span></span><br><span class="line"><span class="javascript">                btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> username = <span class="built_in">document</span>.getElementById(<span class="string">"username"</span>).value;</span></span><br><span class="line"><span class="undefined">                    alert(username);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 远程引入 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"&gt;&lt;/script&gt;        --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  引入开发版jquery库 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.3.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="comment">// 绑定文档加载完成的监听</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 使用jQuery核心函数($/jQuery效果相同，但是$方便)</span></span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 给btn02绑定点击监听</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// $btn02是jQuery对象,$('#btn02')是jQuery函数,执行jQuery对象得到的是jQuery对象</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用jQuery核心对象,常用$开头</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $btn02 = $(<span class="string">'#btn02'</span>);</span></span><br><span class="line"><span class="javascript">                $btn02.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 是一个获取到的数值,不是jQuery对象</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> username = $(<span class="string">'#username'</span>).val();</span></span><br><span class="line"><span class="undefined">                    alert(username);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn01"</span>&gt;</span>确定(原生版)<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn02"</span>&gt;</span>确定(jQuery版)<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="函数-对象：jQuery-与"><a href="#函数-对象：jQuery-与" class="headerlink" title="函数/对象：jQuery 与 $"></a>函数/对象：jQuery 与 $</h4><p>更多见 API 文档中“核心”部分</p>
<p>之前说可以使用 jQuery 来代替 $，代替之后：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jQuery(function()&#123;</span><br><span class="line"> </span><br><span class="line">   // 开始写 jQuery 代码...</span><br><span class="line"> </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>这样看，jQuery是一个函数！！！</p>
<h5 id="jQuery作为函数"><a href="#jQuery作为函数" class="headerlink" title="jQuery作为函数"></a>jQuery作为函数</h5><p>函数根据参数的不同有不同的功能。</p>
<ul>
<li><p>参数为函数时：当DOM加载完成后，执行此回调函数。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 文档加载完成时执行function函数</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开始写 jQuery 代码...</span></span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数为选择器字符串时：查找所有匹配的标签，并将它们封装成jQuery对象。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// $btn02就是jQuery对象</span></span><br><span class="line"><span class="keyword">var</span> $btn02 = $(<span class="string">'#btn02'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数为DOM对象时：将DOM对象封装成jQuery对象。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 此时的this就是id为btn的按钮，封装成jQuery对象之后，就能使用jQuery方法，获取按钮文本了</span></span><br><span class="line">        alert($(<span class="keyword">this</span>).html());</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数为html标签字符串：创建标间对象并封装成jQuery兑现。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点击按钮，将input字符串封装成jQuery对象，并调用jQuery方法将input添加到body最后面</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">'&lt;input type="text" name="msg"/&gt;&lt;br&gt;'</span>).appendTo(<span class="string">"body"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="jQuery作为对象"><a href="#jQuery作为对象" class="headerlink" title="jQuery作为对象"></a>jQuery作为对象</h5><p>但是在我们JavaScript中，函数也是一个对象……也就是说 jQuery 与 $ 也可以当成对象来使用。</p>
<p>jQuery对象是一个包含所有匹配的任意多个DOM元素的伪数组对象。</p>
<ul>
<li><p>each(callback) 遍历</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 遍历数组</span></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">7</span>];</span><br><span class="line">    $.each(arr, <span class="function"><span class="keyword">function</span>(<span class="params">index, item</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(index, item);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>length 获取jQuery对象这个伪数组的长度</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 先调用jQuery函数传入标签选择器，得到jQuery对象，就是所有img的数组，然后通过length获取数组的长度。</span></span><br><span class="line">    $(<span class="string">"button"</span>).length;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>get([index]) 获取第index位置上的元素，返回的是DOM对象</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $buttons = $(<span class="string">'button'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> $buttons.get(<span class="number">1</span>), $buttons.get(<span class="number">1</span>).innerHTML);    <span class="comment">// object 按钮02</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>index[] 搜索匹配的元素，并返回相应元素的索引值，从0开始计数。</p>
</li>
</ul>
<hr>
<h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><p>详细： <a href="http://www.runoob.com/jquery/jquery-ref-selectors.html" target="_blank" rel="noopener">http://www.runoob.com/jquery/jquery-ref-selectors.html</a></p>
<p>或者 API 文档“选择器”。</p>
<hr>
<h4 id="基本选择器"><a href="#基本选择器" class="headerlink" title="基本选择器"></a>基本选择器</h4><p>选择器规则同css。</p>
<h5 id="元素选择器"><a href="#元素选择器" class="headerlink" title="元素选择器"></a>元素选择器</h5><p>jQuery 元素选择器基于元素名选取元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用户点击按钮后，所有 p 元素都隐藏</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">"p"</span>).hide();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="id-选择器"><a href="#id-选择器" class="headerlink" title="#id 选择器"></a>#id 选择器</h5><p>jQuery #id 选择器通过 HTML 元素的 id 属性选取指定的元素。</p>
<p>页面中元素的 id 应该是唯一的，所以您要在页面中选取唯一的元素需要通过 #id 选择器。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当用户点击按钮后，有 id="test" 属性的元素将被隐藏</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">"#test"</span>).hide();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="class-类选择器"><a href="#class-类选择器" class="headerlink" title=".class 类选择器"></a>.class 类选择器</h5><p>jQuery 类选择器可以通过指定的 class 查找元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用户点击按钮后所有带有 class="test" 属性的元素都隐藏：</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">".test"</span>).hide();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="seletor1-seletor2-并集"><a href="#seletor1-seletor2-并集" class="headerlink" title="seletor1, seletor2 并集"></a>seletor1, seletor2 并集</h5><p>同时选择多个元素时，在不同元素之间使用使用逗号隔开。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将所有button和div都隐藏。</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button, div"</span>).hide();;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="交集"><a href="#交集" class="headerlink" title="交集"></a>交集</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 选中类为btn01的button，注意这里点号前后不能有空格</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button.btn01"</span>).hide();;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="层次选择器"><a href="#层次选择器" class="headerlink" title="层次选择器"></a>层次选择器</h4><h5 id="ancestor-descendant-后代选择器"><a href="#ancestor-descendant-后代选择器" class="headerlink" title="ancestor descendant 后代选择器"></a>ancestor descendant 后代选择器</h5><p>在给定的祖先元素 ancestor 下匹配所有的后代元素 descendant 。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配 form (祖先元素)下的所有 input (后代元素)</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"form input"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="parent-gt-child-子元素选择器"><a href="#parent-gt-child-子元素选择器" class="headerlink" title="parent&gt;child 子元素选择器"></a>parent&gt;child 子元素选择器</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配 form (父元素)下的所有 input (子元素)</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"form&gt;input"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>其他不常用。</p>
<h5 id="prev-next-下一个兄弟元素选择器"><a href="#prev-next-下一个兄弟元素选择器" class="headerlink" title="prev+next 下一个兄弟元素选择器"></a>prev+next 下一个兄弟元素选择器</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配跟在 p 后面的第一个 span 元素</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"p+span"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="prev-siblings-之后所有的兄弟元素选择器"><a href="#prev-siblings-之后所有的兄弟元素选择器" class="headerlink" title="prev~siblings 之后所有的兄弟元素选择器"></a>prev~siblings 之后所有的兄弟元素选择器</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配所有跟在 p 后面的 span 元素</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"p~span"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="过滤选择器"><a href="#过滤选择器" class="headerlink" title="过滤选择器"></a>过滤选择器</h4><p>在原有选择器匹配的元素中进一步进行过滤的选择器。这些选择器都是冒号开头的，冒号之前是前面的一般选择器。</p>
<p>见 API 文档的基本筛选器、内容、可见性、属性：<a href="http://jquery.cuishifeng.cn/" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/</a></p>
<hr>
<h4 id="表单选择器"><a href="#表单选择器" class="headerlink" title="表单选择器"></a>表单选择器</h4><p>表单选择器是根据表单中指定的input标签中type类型或者指定的标签进行选择的，这些选择器都是冒号开头的，但是冒号之前是前面的不需要其他选择器。</p>
<p>见 API 文档的表单、表单对象属性：<a href="http://jquery.cuishifeng.cn/" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/</a></p>
<hr>
<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><p>查看文档，其实jQuery有读写合一的特点，所以读取和设置CSS都是同一个方法，关键在于参数，非常简单。</p>
<p>略……</p>
<hr>
<h3 id="文档处理"><a href="#文档处理" class="headerlink" title="文档处理"></a>文档处理</h3><p>终极目标！！！查看文档即可，简单的，只要注意参数就可以……</p>
<h4 id="综合练习"><a href="#综合练习" class="headerlink" title="综合练习"></a>综合练习</h4><p>此处结合DOM原生的文档处理，会发现，jQuery真的很简单。但是仍然可以用事件委托来实现部分操作。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>添加删除记录练习<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.3.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">Del</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                $tr = $(<span class="keyword">this</span>).parent().parent();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = $tr.children(<span class="string">':first'</span>).html();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(confirm(<span class="string">'确认删除'</span> + name + <span class="string">'?'</span>))&#123;</span></span><br><span class="line"><span class="undefined">                    $tr.remove();</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 增</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#addEmpButton'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 获取name/salary/email信息</span></span><br><span class="line"><span class="undefined">                     */ </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取jQuery对象</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> $name = $(<span class="string">'#empName'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> $email = $(<span class="string">'#email'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> $salary = $(<span class="string">'#salary'</span>);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取文本信息</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> name = $name.val();</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> email = $email.val();</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> salary = $salary.val();</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// alert(name, email, salary);</span></span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取table信息</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> $table = $(<span class="string">'#employeeTable'</span>);</span></span><br><span class="line"><span class="undefined">                    /*</span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Tom<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>tom@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>5000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="javascript">                        &lt;td&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="undefined">                    */</span></span><br><span class="line"><span class="javascript">                   <span class="comment">// 拼tr字符串，插入，绑定点击事件</span></span></span><br><span class="line"><span class="javascript">                   $(<span class="string">'&lt;tr&gt;&lt;/tr&gt;'</span>)</span></span><br><span class="line"><span class="javascript">                    .append(<span class="string">'&lt;td&gt;'</span>+name+<span class="string">'&lt;/td&gt;'</span>)</span></span><br><span class="line"><span class="javascript">                    .append(<span class="string">'&lt;td&gt;'</span>+email+<span class="string">'&lt;/td&gt;'</span>)</span></span><br><span class="line"><span class="javascript">                    .append(<span class="string">'&lt;td&gt;'</span>+salary+<span class="string">'&lt;/td&gt;'</span>)</span></span><br><span class="line"><span class="xml">                    .append('<span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>')</span></span><br><span class="line"><span class="undefined">                    .appendTo($table)</span></span><br><span class="line"><span class="javascript">                    .find(<span class="string">'a'</span>)</span></span><br><span class="line"><span class="undefined">                    .click(Del);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 清除输入</span></span></span><br><span class="line"><span class="javascript">                    $name.val(<span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">                    $email.val(<span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">                    $salary.val(<span class="string">''</span>);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 删</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#employeeTable a'</span>).click(Del);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">"employeeTable"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Salary<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Tom<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>tom@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>5000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Jerry<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>jerry@sohu.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>8000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Bob<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>bob@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>10000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"formDiv"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h4</span>&gt;</span>添加新员工<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>name: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"empName"</span> <span class="attr">id</span>=<span class="string">"empName"</span> ；/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>email: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>salary: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"salary"</span> <span class="attr">id</span>=<span class="string">"salary"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"addEmpButton"</span>&gt;</span></span><br><span class="line">                            Submit</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h3><h4 id="ready-fn"><a href="#ready-fn" class="headerlink" title="ready(fn)"></a>ready(fn)</h4><p>当DOM载入就绪可以查询及操纵时绑定一个要执行的函数。相当于原生JS中的window.onload。</p>
<p><a href="http://jquery.cuishifeng.cn/ready.html" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/ready.html</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写：</span></span><br><span class="line"></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>但是不等同与原生js中的window.onload。</p>
<p>window.onload:</p>
<pre><code>- 包括页面的图片加载完成后才被回调

- 只能有一个监听回调
</code></pre><p>ready:</p>
<pre><code>- 页面加载完就回调，图片可以没加载完

- 可以有多个监听回调
</code></pre><h4 id="on-events-selector-data-fn-绑定事件"><a href="#on-events-selector-data-fn-绑定事件" class="headerlink" title="on(events,[selector],[data],fn) 绑定事件"></a>on(events,[selector],[data],fn) 绑定事件</h4><p>在选择元素上绑定一个或多个事件的事件处理函数。相当于原生JS中的addEventListener()绑定多个事件处理函数。</p>
<p><a href="http://jquery.cuishifeng.cn/on.html" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/on.html</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * events:一个或多个用空格分隔的事件类型和可选的命名空间，如"click"。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$(<span class="string">"p"</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert( $(<span class="keyword">this</span>).text() );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="off-events-selector-fn-解除事件"><a href="#off-events-selector-fn-解除事件" class="headerlink" title="off(events,[selector],[fn]) 解除事件"></a>off(events,[selector],[fn]) 解除事件</h4><p>在选择元素上移除一个或多个事件的事件处理函数。</p>
<p><a href="http://jquery.cuishifeng.cn/off.html" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/off.html</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解除 p 元素的所有事件</span></span><br><span class="line">$(<span class="string">"p"</span>).off();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解除 p 元素的指定 xxx 事件</span></span><br><span class="line">$(<span class="string">"p"</span>).off(<span class="string">'xxx'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="坐标"><a href="#坐标" class="headerlink" title="坐标"></a>坐标</h4><p>在原生JS中，要获取鼠标之类的坐标，需要event对象。同样，在jQuery中的function中也可以传入event对象。</p>
<p>事件的坐标有3种：</p>
<ul>
<li>event.clientX / event.clientY : 相对于窗口的左上角。</li>
<li>event.pageX / event.pageY : 相对于页面的左上角。</li>
<li>event.offsetX / event.offsetY : 相对于事件元素的左上角。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#box'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = event.clientX;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line">$(<span class="string">'#box'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="mouseover-data-fn-mouseenter-data-fn-hover-over-out"><a href="#mouseover-data-fn-mouseenter-data-fn-hover-over-out" class="headerlink" title="mouseover([[data],fn]) / mouseenter([[data],fn]) / hover([over,]out)"></a>mouseover([[data],fn]) / mouseenter([[data],fn]) / hover([over,]out)</h4><p>mouseover：只有在鼠标指针穿过被选元素时，才会触发 mouseover 事件。当鼠标进入子元素时，认为是移出了该元素，会触发 mouseout 。</p>
<p>mouseenter：如果鼠标指针穿过任何子元素，同样会触发 mouseover 事件。移出元素时触发 mouseleave 事件。</p>
<p>hover：一个模仿悬停事件（鼠标移动到一个对象上面及移出这个对象）的方法。当鼠标移动到一个匹配的元素上面时，会触发指定的第一个函数。当鼠标移出这个元素时，会触发指定的第二个函数。而且，会伴随着对鼠标是否仍然处在特定元素中的检测（例如，处在div中的图像），如果是，则会继续保持“悬停”状态，而不触发移出事件（修正了使用mouseout事件的一个常见错误）。其源码是使用了 mouseover 和 mouseout 。</p>
<h4 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'#box1'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'111'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">'#box2'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'222'</span>);</span><br><span class="line">        <span class="comment">// 停止事件冒泡</span></span><br><span class="line">        event.stopPropagation();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="事件委派"><a href="#事件委派" class="headerlink" title="事件委派"></a>事件委派</h4><p>事件委派动态解决子元素的事件绑定，尤其是新增的子元素。在不同版本的jQuery库中用法不同，详细见文档。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.3.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 事件委派</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'ul'</span>).on(<span class="string">'click'</span>, <span class="string">'li'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">this</span>.style.backgroundColor = <span class="string">'red'</span>;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#btn01'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'ul'</span>).append(<span class="string">'&lt;li&gt;新增的li&lt;/li&gt;'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">li</span>&gt;</span>1111111111111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>1111111111111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>1111111111111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn01"</span>&gt;</span>增加一个li<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="内置动画"><a href="#内置动画" class="headerlink" title="内置动画"></a>内置动画</h3><p>淡入淡出，滑入滑出，可以选择有动画效果或者没动画效果。</p>
<p>也有内置方法可以实现自定义动画。</p>
<hr>
<h3 id="多库共存"><a href="#多库共存" class="headerlink" title="多库共存"></a>多库共存</h3><p>如果存在多个库都有美元符,就会存在冲突。</p>
<p>此时就要jQuery库释放美元符的使用权，让另一个库可以正常使用，测试jQuery库就只能使用jQuery符号了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 释放jQuery的使用权</span></span><br><span class="line">jQuery.noConflict();</span><br><span class="line"><span class="comment">// 然后使用jQuery库</span></span><br><span class="line">jQuery(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="综合练习——平滑翻页"><a href="#综合练习——平滑翻页" class="headerlink" title="综合练习——平滑翻页"></a>综合练习——平滑翻页</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>焦点轮播图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*去除内边距,没有链接下划线*/</span></span></span><br><span class="line"><span class="undefined">            * &#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*最外围的div*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#container</span> &#123;</span></span><br><span class="line"><span class="undefined">                width: 520px;</span></span><br><span class="line"><span class="undefined">                height: 333px;</span></span><br><span class="line"><span class="undefined">                background-color: greenyellow;</span></span><br><span class="line"><span class="undefined">                overflow: hidden;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">position</span>: <span class="selector-tag">relative</span>; <span class="comment">/*相对定位*/</span></span></span><br><span class="line"><span class="undefined">                margin: 50px auto;</span></span><br><span class="line"><span class="undefined">                padding: 10px 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*包含所有图片的&lt;div&gt;*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#list</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>; <span class="comment">/*绝对定位*/</span></span></span><br><span class="line"><span class="undefined">                left: -520px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*所有的图片&lt;img&gt;*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#list</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/*浮在左侧*/</span></span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">                margin: 0 10px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*包含所有圆点按钮的&lt;div&gt;*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#pointsDiv</span> &#123;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">                bottom: 20px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*所有的圆点&lt;span&gt;*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#pointsDiv</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="undefined">              cursor: pointer;</span></span><br><span class="line"><span class="undefined">              float: left;</span></span><br><span class="line"><span class="css">              <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">              width: 10px;</span></span><br><span class="line"><span class="undefined">              height: 10px;</span></span><br><span class="line"><span class="undefined">              border-radius: 50%;</span></span><br><span class="line"><span class="css">              <span class="selector-tag">background</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line"><span class="undefined">              margin: 0 5px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#pointsDiv</span> <span class="selector-class">.on</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: red;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="comment">/*切换图标按钮*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-class">.arrow</span> &#123;</span></span><br><span class="line"><span class="undefined">                top: 166px;</span></span><br><span class="line"><span class="undefined">                display: none;</span></span><br><span class="line"><span class="undefined">                width: 40px;</span></span><br><span class="line"><span class="undefined">                height: 40px;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置透明 */</span></span></span><br><span class="line"><span class="css">                <span class="selector-tag">opacity</span>: 0<span class="selector-class">.5</span>;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 兼容IE透明 */</span></span></span><br><span class="line"><span class="undefined">                filter: alpha(opacity = 50);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*鼠标移到切换图标上时*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-class">.arrow</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置透明 */</span></span></span><br><span class="line"><span class="undefined">                opacity: 1;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 兼容IE透明 */</span></span></span><br><span class="line"><span class="undefined">                filter: alpha(opacity = 100);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*鼠标移到整个div区域时*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#container</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.arrow</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">display</span>: <span class="selector-tag">block</span>; <span class="comment">/*显示*/</span></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*上一个切换图标的左外边距*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#prev</span> &#123;</span></span><br><span class="line"><span class="undefined">                left: 20px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*下一个切换图标的右外边距*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#next</span> &#123;</span></span><br><span class="line"><span class="undefined">                right: 20px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.3.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $container = $(<span class="string">'#container'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $pointsDiv = $(<span class="string">'#pointsDiv'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $list = $(<span class="string">'#list'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $prev = $(<span class="string">'#prev'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $next = $(<span class="string">'#next'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $points;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> PAGE_WIDTH = <span class="number">520</span>;   <span class="comment">// 页宽</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> TIME = <span class="number">400</span>;     <span class="comment">// 翻页的持续时间</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> ITEM_TIME = <span class="number">20</span>;     <span class="comment">// 单元移动间隔时间</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> index = <span class="number">0</span>;      <span class="comment">// 当前页面</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> imgNumber = $list.children(<span class="string">'img'</span>).length - <span class="number">2</span>;   <span class="comment">// 获取有效图片数量</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> moving = <span class="literal">false</span>;     <span class="comment">// 是否正在翻页标识</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置图片div长度</span></span></span><br><span class="line"><span class="javascript">                $list.css(<span class="string">'width'</span>, PAGE_WIDTH * (imgNumber + <span class="number">2</span>));</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 动态设置导航按钮的数量</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;imgNumber; i++)&#123;</span></span><br><span class="line"><span class="xml">                    $pointsDiv.append('<span class="tag">&lt;<span class="name">span</span> <span class="attr">index</span>=<span class="string">"' + i + '"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>');</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                $points = $(<span class="string">'#pointsDiv&gt;span'</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置默认导航按钮的颜色</span></span></span><br><span class="line"><span class="javascript">                $points.eq(index).addClass(<span class="string">'on'</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 事件委托动态绑定绑定点击事件</span></span></span><br><span class="line"><span class="javascript">                $pointsDiv.on(<span class="string">'click'</span>, <span class="string">'span'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 新原点下标</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> targetIndex = $(<span class="keyword">this</span>).index();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(targetIndex != index)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 翻页</span></span></span><br><span class="line"><span class="undefined">                        nextPage(targetIndex);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;)</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置按钮div位置</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> left = ($(<span class="string">'#container'</span>).innerWidth() - $(<span class="string">'#pointsDiv'</span>).outerWidth())/<span class="number">2</span>;</span></span><br><span class="line"><span class="javascript">                $pointsDiv.css(<span class="string">'left'</span>, left);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 上一张图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                $prev.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    nextPage(<span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">                &#125;).on(<span class="string">'mousedown'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 取消图片默认拖拽行为</span></span></span><br><span class="line"><span class="undefined">                    event.preventDefault();</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 下一张图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                $next.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    nextPage(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">                &#125;).on(<span class="string">'mousedown'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 取消图片默认拖拽行为</span></span></span><br><span class="line"><span class="undefined">                    event.preventDefault();</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 平滑翻页</span></span><br><span class="line"><span class="undefined">                 * next：</span></span><br><span class="line"><span class="undefined">                 *  boolean：</span></span><br><span class="line"><span class="javascript">                 *      <span class="literal">true</span>：下一页</span></span><br><span class="line"><span class="javascript">                 *      <span class="literal">false</span>：上一页</span></span><br><span class="line"><span class="undefined">                 *  int：跳转指定页面</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">nextPage</span>(<span class="params">next</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 如果正在翻页,直接结束</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(moving)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 标识正在翻页</span></span></span><br><span class="line"><span class="javascript">                    moving = <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 更新原点</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 总偏移量</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> offset;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 更新偏移量和新下标</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(<span class="keyword">typeof</span> next === <span class="string">'boolean'</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(next)&#123;</span></span><br><span class="line"><span class="undefined">                            offset = -PAGE_WIDTH</span></span><br><span class="line"><span class="javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                            offset = PAGE_WIDTH;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                        offset = (index - next) * PAGE_WIDTH;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(index, next, offset);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 更新原点</span></span></span><br><span class="line"><span class="undefined">                    updatePoints(next);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 图片偏移</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 单元移动的偏移量</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> itemOffset = offset / (TIME / ITEM_TIME);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 当前偏移量</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> currentLeft = $list.position().left;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 目标偏移量</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> targetLeft = currentLeft + offset;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    clearInterval(timer);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 计算出最新的</span></span></span><br><span class="line"><span class="undefined">                        currentLeft += itemOffset;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(currentLeft === targetLeft)&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 标识翻页停止</span></span></span><br><span class="line"><span class="javascript">                            moving = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 清除定时器</span></span></span><br><span class="line"><span class="undefined">                            clearInterval(timer); </span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 循环跳转,预防出现小数</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">if</span>(currentLeft &gt;= <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="undefined">                                currentLeft = -imgNumber * PAGE_WIDTH;</span></span><br><span class="line"><span class="javascript">                            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(currentLeft &lt;= -(imgNumber + <span class="number">1</span>) * PAGE_WIDTH)&#123;</span></span><br><span class="line"><span class="undefined">                                currentLeft = -PAGE_WIDTH;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                        $list.css(<span class="string">'left'</span>, currentLeft);</span></span><br><span class="line"><span class="undefined">                    &#125;,ITEM_TIME);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 每隔一定时间跳转到下一页</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> autoTimer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    nextPage(<span class="literal">true</span>);</span></span><br><span class="line"><span class="undefined">                &#125;, 2000);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 当鼠标移入图片区域，停止自动切换，当鼠标离开时继续切换</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                $container.hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    clearInterval(autoTimer);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    autoTimer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        nextPage(<span class="literal">true</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;, 2000);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 更新原点</span></span><br><span class="line"><span class="undefined">                 * next: boolean、int</span></span><br><span class="line"><span class="javascript">                 * 设置有没有<span class="class"><span class="keyword">class</span> <span class="title">on</span></span></span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">updatePoints</span>(<span class="params">next</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 计算出目标原点的下标</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> targetIndex = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(<span class="keyword">typeof</span> next === <span class="string">'boolean'</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(next)&#123;</span></span><br><span class="line"><span class="undefined">                            targetIndex = index + 1;</span></span><br><span class="line"><span class="javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                            targetIndex = index - 1;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                        targetIndex = next;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 最值筛选</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(targetIndex === imgNumber)&#123;</span></span><br><span class="line"><span class="undefined">                        targetIndex = 0;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(targetIndex === <span class="number">-1</span>)&#123;</span></span><br><span class="line"><span class="undefined">                        targetIndex = imgNumber - 1;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 给旧原点移除class</span></span></span><br><span class="line"><span class="javascript">                    $points.eq(index).removeClass(<span class="string">'on'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 给新原点添加class</span></span></span><br><span class="line"><span class="javascript">                    $points.eq(targetIndex).addClass(<span class="string">'on'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 更新原点</span></span></span><br><span class="line"><span class="undefined">                    index = targetIndex;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(index, targetIndex);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 图片div --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/5.jpg"</span> <span class="attr">alt</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> <span class="attr">alt</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/2.jpg"</span> <span class="attr">alt</span>=<span class="string">"2"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/3.jpg"</span> <span class="attr">alt</span>=<span class="string">"3"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/4.jpg"</span> <span class="attr">alt</span>=<span class="string">"4"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/5.jpg"</span> <span class="attr">alt</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> <span class="attr">alt</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 导航div --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"pointsDiv"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"prev"</span> <span class="attr">class</span>=<span class="string">"arrow"</span> <span class="attr">src</span>=<span class="string">"img/left.png"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"next"</span> <span class="attr">class</span>=<span class="string">"arrow"</span> <span class="attr">src</span>=<span class="string">"img/right.png"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/16/前端-JavaScript基础-jQuery基础/轮播图效果.gif" alt="轮播图效果.gif"></p>
<p><img src="/2019/02/16/前端-JavaScript基础-jQuery基础/轮播图.gif" alt="轮播图.gif"></p>
<hr>
<h3 id="jQuery-插件之-jQueryUI"><a href="#jQuery-插件之-jQueryUI" class="headerlink" title="jQuery 插件之 jQueryUI"></a>jQuery 插件之 jQueryUI</h3><p>jQueryUI 是 jQuery 的页面插件，可以在官网下载了案例包，然后在通过解析……来找自己需要的部分。</p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/16/前端-JavaScript基础-jQuery基础/" data-id="ck1aoo3qk0060j0utgu15m33s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-ECharts" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/13/前端-ECharts/" class="article-date">
  <time datetime="2019-02-13T06:30:15.000Z" itemprop="datePublished">2019-02-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/13/前端-ECharts/">前端-ECharts</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录</p>
<!-- TOC -->
<ul>
<li><a href="#echarts简介">ECharts简介</a></li>
<li><a href="#五分钟上手echarts">五分钟上手ECharts</a><ul>
<li><a href="#引入-echarts">引入 ECharts</a></li>
<li><a href="#绘制一个简单的图表">绘制一个简单的图表</a></li>
</ul>
</li>
<li><a href="#option配置项介绍">option配置项介绍</a><ul>
<li><a href="#title-标题组件">title 标题组件</a></li>
<li><a href="#toolbox-工具栏组件">toolbox 工具栏组件</a></li>
<li><a href="#tooltip-提示框组件">tooltip 提示框组件</a></li>
<li><a href="#seriesi-系列列表">series[i] 系列列表</a></li>
<li><a href="#legend-图例组件">legend 图例组件</a></li>
</ul>
</li>
<li><a href="#饼图">饼图</a></li>
<li><a href="#仪表图">仪表图</a></li>
<li><a href="#散点图">散点图</a></li>
<li><a href="#雷达图">雷达图</a></li>
<li><a href="#多坐标系配合">多坐标系配合</a></li>
<li><a href="#数据区域缩放组件-datazoom">数据区域缩放组件 dataZoom</a></li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="ECharts简介"><a href="#ECharts简介" class="headerlink" title="ECharts简介"></a>ECharts简介</h3><p>ECharts，一个使用 JavaScript 实现的开源可视化库，可以流畅的运行在 PC 和移动设备上，兼容当前绝大部分浏览器（IE8/9/10/11，Chrome，Firefox，Safari等），底层依赖轻量级的矢量图形库 ZRender，提供直观，交互丰富，可高度个性化定制的数据可视化图表。</p>
<p>更多：<a href="https://www.echartsjs.com/feature.html" target="_blank" rel="noopener">https://www.echartsjs.com/feature.html</a></p>
<hr>
<h3 id="五分钟上手ECharts"><a href="#五分钟上手ECharts" class="headerlink" title="五分钟上手ECharts"></a>五分钟上手ECharts</h3><p><a href="https://www.echartsjs.com/tutorial.html#5%20%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%20ECharts" target="_blank" rel="noopener">https://www.echartsjs.com/tutorial.html#5%20%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%20ECharts</a></p>
<p>首先在官网下载完整版js代码。</p>
<h4 id="引入-ECharts"><a href="#引入-ECharts" class="headerlink" title="引入 ECharts"></a>引入 ECharts</h4><p>只需要像普通的 JavaScript 库一样用 script 标签引入我们下载好的完整版js代码。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 引入 ECharts 文件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="绘制一个简单的图表"><a href="#绘制一个简单的图表" class="headerlink" title="绘制一个简单的图表"></a>绘制一个简单的图表</h4><p>步奏：</p>
<ul>
<li>准备显示容器</li>
<li>使用 DOM 获取容器并用 echarts.init 初始化</li>
<li>将图表的配置项和数据保存到 option 对象中(option代码直接从官网案例复制即可，或者自己研究文档自己拼接)</li>
<li>使用setOption将刚指定的配置项和数据显示在图表中。</li>
</ul>
<p>在绘图前我们需要为 ECharts 准备一个具备高宽的 DOM 容器。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后就可以通过 echarts.init 方法初始化一个 echarts 实例并通过 setOption 方法生成一个简单的柱状图。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'box1'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 指定图表的配置项和数据</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 标题</span></span></span><br><span class="line"><span class="undefined">                    title: &#123;</span></span><br><span class="line"><span class="javascript">                        text: <span class="string">'ECharts 入门示例'</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;&#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 图例</span></span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        data:[<span class="string">'销量'</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// x轴</span></span></span><br><span class="line"><span class="undefined">                    xAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        data: [<span class="string">"衬衫"</span>,<span class="string">"羊毛衫"</span>,<span class="string">"雪纺衫"</span>,<span class="string">"裤子"</span>,<span class="string">"高跟鞋"</span>,<span class="string">"袜子"</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// y轴</span></span></span><br><span class="line"><span class="undefined">                    yAxis: &#123;&#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 数据</span></span></span><br><span class="line"><span class="undefined">                    series: [&#123;</span></span><br><span class="line"><span class="javascript">                        name: <span class="string">'销量'</span>,</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'bar'</span>,</span></span><br><span class="line"><span class="undefined">                        data: [5, 20, 36, 10, 10, 20]</span></span><br><span class="line"><span class="undefined">                    &#125;]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<p><img src="/2019/02/13/前端-ECharts/案例.jpg" alt="前端-ECharts/案例.jpg"></p>
<p>上例代码与文档中写法略有不同！！！文档中的script写在body中，而我们写在head中window.onload方法中，这是因为script中使用的对象是在body中定义，不注意顺序会导致script中的对象值为undefined，所以要将script写在body的最后或者head中window.onload方法中，这部分内容见JS基础。</p>
<hr>
<h3 id="option配置项介绍"><a href="#option配置项介绍" class="headerlink" title="option配置项介绍"></a>option配置项介绍</h3><p>通过上面的入门介绍，我们大致知道，ECharts中最关键的部分就是option图表的配置项和数据。</p>
<p>配置项如下：<a href="https://www.echartsjs.com/option.html#title" target="_blank" rel="noopener">https://www.echartsjs.com/option.html#title</a></p>
<p>由于内容较多，但是比较简单，这里只做简单的介绍，需要用的时候查找一下即可。</p>
<hr>
<h4 id="title-标题组件"><a href="#title-标题组件" class="headerlink" title="title 标题组件"></a>title 标题组件</h4><p>包含主标题和副标题。</p>
<hr>
<h4 id="toolbox-工具栏组件"><a href="#toolbox-工具栏组件" class="headerlink" title="toolbox 工具栏组件"></a>toolbox 工具栏组件</h4><p>内置有导出图片，数据视图，动态类型切换，数据区域缩放，重置五个工具。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// 工具栏</span><br><span class="line">toolbox: &#123;</span><br><span class="line">    show: true,</span><br><span class="line">    // 各工具配置项</span><br><span class="line">    feature: &#123;</span><br><span class="line">        // 保存为图片</span><br><span class="line">        saveAsImage: &#123;</span><br><span class="line">            show: true</span><br><span class="line">        &#125;,</span><br><span class="line">        // 配置项还原。</span><br><span class="line">        restore: &#123;</span><br><span class="line">            show: true</span><br><span class="line">        &#125;,</span><br><span class="line">        // 数据视图工具,显示图标用的数据</span><br><span class="line">        dataView: &#123;</span><br><span class="line">            show: true</span><br><span class="line">        &#125;,</span><br><span class="line">        // 数据区域缩放。</span><br><span class="line">        dataZoom: &#123;</span><br><span class="line">            show: true</span><br><span class="line">        &#125;,</span><br><span class="line">        // 动态类型切换</span><br><span class="line">        magicType: &#123;</span><br><span class="line">            show: true,</span><br><span class="line">            // 启用的动态类型</span><br><span class="line">            // 'line'（切换为折线图）</span><br><span class="line">            // 'bar'（切换为柱状图）</span><br><span class="line">            // 'stack'（切换为堆叠模式）</span><br><span class="line">            // 'tiled'（切换为平铺模式）</span><br><span class="line">            type: ['line', 'bar', 'stack', 'tiled']</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/工具栏.gif" alt="前端-ECharts/工具栏.gif"></p>
<hr>
<h4 id="tooltip-提示框组件"><a href="#tooltip-提示框组件" class="headerlink" title="tooltip 提示框组件"></a>tooltip 提示框组件</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 弹窗</span><br><span class="line">tooltip: &#123;</span><br><span class="line">    show: true,</span><br><span class="line">    // 触发类型</span><br><span class="line">    // 'item' 数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。默认项。</span><br><span class="line">    // 'axis' 坐标轴触发，主要在柱状图，折线图等会使用类目轴的图表中使用。</span><br><span class="line">    // 'none' 什么都不触发。</span><br><span class="line">    trigger: 'axis'</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/trigger.gif" alt="前端-ECharts/trigger.gif"></p>
<hr>
<h4 id="series-i-系列列表"><a href="#series-i-系列列表" class="headerlink" title="series[i] 系列列表"></a>series[i] 系列列表</h4><p>每个系列通过 type 决定自己的图表类型。</p>
<p>type: ‘line’(折线图), ‘bar’(柱状图), ‘pie’(饼图)…..</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 数据</span><br><span class="line">series: [&#123;</span><br><span class="line">    // 系列名称</span><br><span class="line">    name: '销量',</span><br><span class="line">    // 系列类型</span><br><span class="line">    type: 'line',</span><br><span class="line">    // 数据</span><br><span class="line">    data: [5, 20, 36, 10, 10, 20],</span><br><span class="line">    // 图表标注，设置标注图形、大小、方向等</span><br><span class="line">    markPoint: &#123;</span><br><span class="line">        data: [</span><br><span class="line">            &#123;type: 'max', name: '最大值'&#125;,</span><br><span class="line">            &#123;type: 'min', name: '最小值'&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    // 图表标线</span><br><span class="line">    markLine: &#123;</span><br><span class="line">        data: [</span><br><span class="line">            &#123;type: 'average', name: '平均线'&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;],</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/series.jpg" alt="前端-ECharts/series.jpg"></p>
<hr>
<h4 id="legend-图例组件"><a href="#legend-图例组件" class="headerlink" title="legend 图例组件"></a>legend 图例组件</h4><p>图例组件展现了不同系列的标记(symbol)，颜色和名字。可以通过点击图例控制哪些系列不显示。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 图例</span><br><span class="line">legend: &#123;</span><br><span class="line">    data: ['销量']</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><p>在之前 series[i] 系列列表 中提到过，type可以设置为不同的类型，表示不同的图表样式，这里将type设置为 pie 即表示饼图。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 指定图表的配置项和数据</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 标题组件</span></span></span><br><span class="line"><span class="undefined">                    title : &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 主标题文本</span></span></span><br><span class="line"><span class="javascript">                        text: <span class="string">'某站点用户访问来源'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 副标题文本，支持使用 \n 换行。</span></span></span><br><span class="line"><span class="javascript">                        subtext: <span class="string">'纯属虚构'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 水平位置</span></span></span><br><span class="line"><span class="javascript">                        x: <span class="string">'center'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 垂直位置</span></span></span><br><span class="line"><span class="javascript">                        y: <span class="string">'top'</span></span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 提示框组件</span></span></span><br><span class="line"><span class="undefined">                    tooltip : &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 触发类型：数据项图形触发</span></span></span><br><span class="line"><span class="javascript">                        trigger: <span class="string">'item'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 提示框浮层内容格式器</span></span></span><br><span class="line"><span class="javascript">                        formatter: <span class="string">"&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)"</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 图例组件</span></span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 图例列表的布局朝向</span></span></span><br><span class="line"><span class="javascript">                        orient: <span class="string">'vertical'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 图例组件离容器左侧的距离</span></span></span><br><span class="line"><span class="javascript">                        left: <span class="string">'left'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 图例的数据数组</span></span></span><br><span class="line"><span class="javascript">                        data: [<span class="string">'直接访问'</span>,<span class="string">'邮件营销'</span>,<span class="string">'联盟广告'</span>,<span class="string">'视频广告'</span>,<span class="string">'搜索引擎'</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 系列列表</span></span></span><br><span class="line"><span class="undefined">                    series : [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 系列名称，用于tooltip的显示，legend 的图例筛选</span></span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'访问来源'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 饼图</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'pie'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 饼图的半径</span></span></span><br><span class="line"><span class="javascript">                            radius : <span class="string">'55%'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 圆心坐标</span></span></span><br><span class="line"><span class="javascript">                            center: [<span class="string">'50%'</span>, <span class="string">'60%'</span>],</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 系列中的数据内容数组</span></span></span><br><span class="line"><span class="undefined">                            data:[</span></span><br><span class="line"><span class="undefined">                                &#123;</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 数据值</span></span></span><br><span class="line"><span class="undefined">                                    value:335,</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 数据项名称</span></span></span><br><span class="line"><span class="javascript">                                    name:<span class="string">'直接访问'</span>,</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 该数据项是否被选中</span></span></span><br><span class="line"><span class="javascript">                                    selected:<span class="literal">true</span>,</span></span><br><span class="line"><span class="undefined">                                &#125;,</span></span><br><span class="line"><span class="javascript">                                &#123;<span class="attr">value</span>:<span class="number">310</span>, <span class="attr">name</span>:<span class="string">'邮件营销'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                                &#123;<span class="attr">value</span>:<span class="number">234</span>, <span class="attr">name</span>:<span class="string">'联盟广告'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                                &#123;<span class="attr">value</span>:<span class="number">135</span>, <span class="attr">name</span>:<span class="string">'视频广告'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                                &#123;<span class="attr">value</span>:<span class="number">1548</span>, <span class="attr">name</span>:<span class="string">'搜索引擎'</span>&#125;</span></span><br><span class="line"><span class="undefined">                            ],</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 选中模式，表示是否支持多个选中</span></span></span><br><span class="line"><span class="javascript">                            selectedMode: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 图形样式</span></span></span><br><span class="line"><span class="undefined">                            itemStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                <span class="comment">// 高亮的扇区和标签样式</span></span></span><br><span class="line"><span class="undefined">                                emphasis: &#123;</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 图形阴影的模糊大小</span></span></span><br><span class="line"><span class="undefined">                                    shadowBlur: 10,</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 阴影水平方向上的偏移距离</span></span></span><br><span class="line"><span class="undefined">                                    shadowOffsetX: 0,</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 阴影颜色</span></span></span><br><span class="line"><span class="javascript">                                    shadowColor: <span class="string">'rgba(0, 0, 0, 0.5)'</span></span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/饼图案例.gif" alt="前端-ECharts/饼图案例.gif"></p>
<hr>
<h3 id="仪表图"><a href="#仪表图" class="headerlink" title="仪表图"></a>仪表图</h3><p>将 series[i] 系列列表 type 设置为 gauge 仪表盘图表。</p>
<p>通过setInterval()定时器更新data[0]数据，来更新图表。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 指定图表的配置项和数据</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="undefined">                    tooltip : &#123;</span></span><br><span class="line"><span class="javascript">                        formatter: <span class="string">"&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125;%"</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    toolbox: &#123;</span></span><br><span class="line"><span class="undefined">                        feature: &#123;</span></span><br><span class="line"><span class="undefined">                            restore: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">                            saveAsImage: &#123;&#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    series: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'业务指标'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 设置仪表盘</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'gauge'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 仪表盘详情，用于显示数据</span></span></span><br><span class="line"><span class="javascript">                            detail: &#123;<span class="attr">formatter</span>:<span class="string">'&#123;value&#125;%'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 最值</span></span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 100,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 仪表盘的数据</span></span></span><br><span class="line"><span class="undefined">                            data: [</span></span><br><span class="line"><span class="undefined">                                &#123;</span></span><br><span class="line"><span class="undefined">                                    value: 50, </span></span><br><span class="line"><span class="javascript">                                    name: <span class="string">'完成率'</span>,</span></span><br><span class="line"><span class="undefined">                                &#125;,</span></span><br><span class="line"><span class="undefined">                            ]</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 定时器</span></span></span><br><span class="line"><span class="javascript">                setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 生成一个随机数并更新data[0]，保留两位小数</span></span></span><br><span class="line"><span class="javascript">                    option.series[<span class="number">0</span>].data[<span class="number">0</span>].value = (<span class="built_in">Math</span>.random() * <span class="number">100</span>).toFixed(<span class="number">2</span>) - <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 动态更新配置项和数据显示图标</span></span></span><br><span class="line"><span class="javascript">                    myChart.setOption(option, <span class="literal">true</span>);</span></span><br><span class="line"><span class="undefined">                &#125;,2000);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/仪表盘.gif" alt="前端-ECharts/仪表盘.gif"></p>
<hr>
<h3 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h3><p>将 series[i] 系列列表 type 设置为 scatter 散点图图表。</p>
<p>当数据过大时或内容重复时，可以单独提取出来。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 数据</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> dataBJ = [</span></span><br><span class="line"><span class="javascript">                [<span class="number">1</span>,<span class="number">55</span>,<span class="number">9</span>,<span class="number">56</span>,<span class="number">0.46</span>,<span class="number">18</span>,<span class="number">6</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">2</span>,<span class="number">25</span>,<span class="number">11</span>,<span class="number">21</span>,<span class="number">0.65</span>,<span class="number">34</span>,<span class="number">9</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">3</span>,<span class="number">56</span>,<span class="number">7</span>,<span class="number">63</span>,<span class="number">0.3</span>,<span class="number">14</span>,<span class="number">5</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">4</span>,<span class="number">33</span>,<span class="number">7</span>,<span class="number">29</span>,<span class="number">0.33</span>,<span class="number">16</span>,<span class="number">6</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">5</span>,<span class="number">42</span>,<span class="number">24</span>,<span class="number">44</span>,<span class="number">0.76</span>,<span class="number">40</span>,<span class="number">16</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">6</span>,<span class="number">82</span>,<span class="number">58</span>,<span class="number">90</span>,<span class="number">1.77</span>,<span class="number">68</span>,<span class="number">33</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">7</span>,<span class="number">74</span>,<span class="number">49</span>,<span class="number">77</span>,<span class="number">1.46</span>,<span class="number">48</span>,<span class="number">27</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">8</span>,<span class="number">78</span>,<span class="number">55</span>,<span class="number">80</span>,<span class="number">1.29</span>,<span class="number">59</span>,<span class="number">29</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">9</span>,<span class="number">267</span>,<span class="number">216</span>,<span class="number">280</span>,<span class="number">4.8</span>,<span class="number">108</span>,<span class="number">64</span>,<span class="string">"重度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">10</span>,<span class="number">185</span>,<span class="number">127</span>,<span class="number">216</span>,<span class="number">2.52</span>,<span class="number">61</span>,<span class="number">27</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">11</span>,<span class="number">39</span>,<span class="number">19</span>,<span class="number">38</span>,<span class="number">0.57</span>,<span class="number">31</span>,<span class="number">15</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">12</span>,<span class="number">41</span>,<span class="number">11</span>,<span class="number">40</span>,<span class="number">0.43</span>,<span class="number">21</span>,<span class="number">7</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">13</span>,<span class="number">64</span>,<span class="number">38</span>,<span class="number">74</span>,<span class="number">1.04</span>,<span class="number">46</span>,<span class="number">22</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">14</span>,<span class="number">108</span>,<span class="number">79</span>,<span class="number">120</span>,<span class="number">1.7</span>,<span class="number">75</span>,<span class="number">41</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">15</span>,<span class="number">108</span>,<span class="number">63</span>,<span class="number">116</span>,<span class="number">1.48</span>,<span class="number">44</span>,<span class="number">26</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">16</span>,<span class="number">33</span>,<span class="number">6</span>,<span class="number">29</span>,<span class="number">0.34</span>,<span class="number">13</span>,<span class="number">5</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">17</span>,<span class="number">94</span>,<span class="number">66</span>,<span class="number">110</span>,<span class="number">1.54</span>,<span class="number">62</span>,<span class="number">31</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">18</span>,<span class="number">186</span>,<span class="number">142</span>,<span class="number">192</span>,<span class="number">3.88</span>,<span class="number">93</span>,<span class="number">79</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">19</span>,<span class="number">57</span>,<span class="number">31</span>,<span class="number">54</span>,<span class="number">0.96</span>,<span class="number">32</span>,<span class="number">14</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">20</span>,<span class="number">22</span>,<span class="number">8</span>,<span class="number">17</span>,<span class="number">0.48</span>,<span class="number">23</span>,<span class="number">10</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">21</span>,<span class="number">39</span>,<span class="number">15</span>,<span class="number">36</span>,<span class="number">0.61</span>,<span class="number">29</span>,<span class="number">13</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">22</span>,<span class="number">94</span>,<span class="number">69</span>,<span class="number">114</span>,<span class="number">2.08</span>,<span class="number">73</span>,<span class="number">39</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">23</span>,<span class="number">99</span>,<span class="number">73</span>,<span class="number">110</span>,<span class="number">2.43</span>,<span class="number">76</span>,<span class="number">48</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">24</span>,<span class="number">31</span>,<span class="number">12</span>,<span class="number">30</span>,<span class="number">0.5</span>,<span class="number">32</span>,<span class="number">16</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">25</span>,<span class="number">42</span>,<span class="number">27</span>,<span class="number">43</span>,<span class="number">1</span>,<span class="number">53</span>,<span class="number">22</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">26</span>,<span class="number">154</span>,<span class="number">117</span>,<span class="number">157</span>,<span class="number">3.05</span>,<span class="number">92</span>,<span class="number">58</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">27</span>,<span class="number">234</span>,<span class="number">185</span>,<span class="number">230</span>,<span class="number">4.09</span>,<span class="number">123</span>,<span class="number">69</span>,<span class="string">"重度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">28</span>,<span class="number">160</span>,<span class="number">120</span>,<span class="number">186</span>,<span class="number">2.77</span>,<span class="number">91</span>,<span class="number">50</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">29</span>,<span class="number">134</span>,<span class="number">96</span>,<span class="number">165</span>,<span class="number">2.76</span>,<span class="number">83</span>,<span class="number">41</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">30</span>,<span class="number">52</span>,<span class="number">24</span>,<span class="number">60</span>,<span class="number">1.03</span>,<span class="number">50</span>,<span class="number">21</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">31</span>,<span class="number">46</span>,<span class="number">5</span>,<span class="number">49</span>,<span class="number">0.28</span>,<span class="number">10</span>,<span class="number">6</span>,<span class="string">"优"</span>]</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> dataGZ = [</span></span><br><span class="line"><span class="javascript">                [<span class="number">1</span>,<span class="number">26</span>,<span class="number">37</span>,<span class="number">27</span>,<span class="number">1.163</span>,<span class="number">27</span>,<span class="number">13</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">2</span>,<span class="number">85</span>,<span class="number">62</span>,<span class="number">71</span>,<span class="number">1.195</span>,<span class="number">60</span>,<span class="number">8</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">3</span>,<span class="number">78</span>,<span class="number">38</span>,<span class="number">74</span>,<span class="number">1.363</span>,<span class="number">37</span>,<span class="number">7</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">4</span>,<span class="number">21</span>,<span class="number">21</span>,<span class="number">36</span>,<span class="number">0.634</span>,<span class="number">40</span>,<span class="number">9</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">5</span>,<span class="number">41</span>,<span class="number">42</span>,<span class="number">46</span>,<span class="number">0.915</span>,<span class="number">81</span>,<span class="number">13</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">6</span>,<span class="number">56</span>,<span class="number">52</span>,<span class="number">69</span>,<span class="number">1.067</span>,<span class="number">92</span>,<span class="number">16</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">7</span>,<span class="number">64</span>,<span class="number">30</span>,<span class="number">28</span>,<span class="number">0.924</span>,<span class="number">51</span>,<span class="number">2</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">8</span>,<span class="number">55</span>,<span class="number">48</span>,<span class="number">74</span>,<span class="number">1.236</span>,<span class="number">75</span>,<span class="number">26</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">9</span>,<span class="number">76</span>,<span class="number">85</span>,<span class="number">113</span>,<span class="number">1.237</span>,<span class="number">114</span>,<span class="number">27</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">10</span>,<span class="number">91</span>,<span class="number">81</span>,<span class="number">104</span>,<span class="number">1.041</span>,<span class="number">56</span>,<span class="number">40</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">11</span>,<span class="number">84</span>,<span class="number">39</span>,<span class="number">60</span>,<span class="number">0.964</span>,<span class="number">25</span>,<span class="number">11</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">12</span>,<span class="number">64</span>,<span class="number">51</span>,<span class="number">101</span>,<span class="number">0.862</span>,<span class="number">58</span>,<span class="number">23</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">13</span>,<span class="number">70</span>,<span class="number">69</span>,<span class="number">120</span>,<span class="number">1.198</span>,<span class="number">65</span>,<span class="number">36</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">14</span>,<span class="number">77</span>,<span class="number">105</span>,<span class="number">178</span>,<span class="number">2.549</span>,<span class="number">64</span>,<span class="number">16</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">15</span>,<span class="number">109</span>,<span class="number">68</span>,<span class="number">87</span>,<span class="number">0.996</span>,<span class="number">74</span>,<span class="number">29</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">16</span>,<span class="number">73</span>,<span class="number">68</span>,<span class="number">97</span>,<span class="number">0.905</span>,<span class="number">51</span>,<span class="number">34</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">17</span>,<span class="number">54</span>,<span class="number">27</span>,<span class="number">47</span>,<span class="number">0.592</span>,<span class="number">53</span>,<span class="number">12</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">18</span>,<span class="number">51</span>,<span class="number">61</span>,<span class="number">97</span>,<span class="number">0.811</span>,<span class="number">65</span>,<span class="number">19</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">19</span>,<span class="number">91</span>,<span class="number">71</span>,<span class="number">121</span>,<span class="number">1.374</span>,<span class="number">43</span>,<span class="number">18</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">20</span>,<span class="number">73</span>,<span class="number">102</span>,<span class="number">182</span>,<span class="number">2.787</span>,<span class="number">44</span>,<span class="number">19</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">21</span>,<span class="number">73</span>,<span class="number">50</span>,<span class="number">76</span>,<span class="number">0.717</span>,<span class="number">31</span>,<span class="number">20</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">22</span>,<span class="number">84</span>,<span class="number">94</span>,<span class="number">140</span>,<span class="number">2.238</span>,<span class="number">68</span>,<span class="number">18</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">23</span>,<span class="number">93</span>,<span class="number">77</span>,<span class="number">104</span>,<span class="number">1.165</span>,<span class="number">53</span>,<span class="number">7</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">24</span>,<span class="number">99</span>,<span class="number">130</span>,<span class="number">227</span>,<span class="number">3.97</span>,<span class="number">55</span>,<span class="number">15</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">25</span>,<span class="number">146</span>,<span class="number">84</span>,<span class="number">139</span>,<span class="number">1.094</span>,<span class="number">40</span>,<span class="number">17</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">26</span>,<span class="number">113</span>,<span class="number">108</span>,<span class="number">137</span>,<span class="number">1.481</span>,<span class="number">48</span>,<span class="number">15</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">27</span>,<span class="number">81</span>,<span class="number">48</span>,<span class="number">62</span>,<span class="number">1.619</span>,<span class="number">26</span>,<span class="number">3</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">28</span>,<span class="number">56</span>,<span class="number">48</span>,<span class="number">68</span>,<span class="number">1.336</span>,<span class="number">37</span>,<span class="number">9</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">29</span>,<span class="number">82</span>,<span class="number">92</span>,<span class="number">174</span>,<span class="number">3.29</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">30</span>,<span class="number">106</span>,<span class="number">116</span>,<span class="number">188</span>,<span class="number">3.628</span>,<span class="number">101</span>,<span class="number">16</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">31</span>,<span class="number">118</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">1.383</span>,<span class="number">76</span>,<span class="number">11</span>,<span class="string">"轻度污染"</span>]</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> dataSH = [</span></span><br><span class="line"><span class="javascript">                [<span class="number">1</span>,<span class="number">91</span>,<span class="number">45</span>,<span class="number">125</span>,<span class="number">0.82</span>,<span class="number">34</span>,<span class="number">23</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">2</span>,<span class="number">65</span>,<span class="number">27</span>,<span class="number">78</span>,<span class="number">0.86</span>,<span class="number">45</span>,<span class="number">29</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">3</span>,<span class="number">83</span>,<span class="number">60</span>,<span class="number">84</span>,<span class="number">1.09</span>,<span class="number">73</span>,<span class="number">27</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">4</span>,<span class="number">109</span>,<span class="number">81</span>,<span class="number">121</span>,<span class="number">1.28</span>,<span class="number">68</span>,<span class="number">51</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">5</span>,<span class="number">106</span>,<span class="number">77</span>,<span class="number">114</span>,<span class="number">1.07</span>,<span class="number">55</span>,<span class="number">51</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">6</span>,<span class="number">109</span>,<span class="number">81</span>,<span class="number">121</span>,<span class="number">1.28</span>,<span class="number">68</span>,<span class="number">51</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">7</span>,<span class="number">106</span>,<span class="number">77</span>,<span class="number">114</span>,<span class="number">1.07</span>,<span class="number">55</span>,<span class="number">51</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">8</span>,<span class="number">89</span>,<span class="number">65</span>,<span class="number">78</span>,<span class="number">0.86</span>,<span class="number">51</span>,<span class="number">26</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">9</span>,<span class="number">53</span>,<span class="number">33</span>,<span class="number">47</span>,<span class="number">0.64</span>,<span class="number">50</span>,<span class="number">17</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">10</span>,<span class="number">80</span>,<span class="number">55</span>,<span class="number">80</span>,<span class="number">1.01</span>,<span class="number">75</span>,<span class="number">24</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">11</span>,<span class="number">117</span>,<span class="number">81</span>,<span class="number">124</span>,<span class="number">1.03</span>,<span class="number">45</span>,<span class="number">24</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">12</span>,<span class="number">99</span>,<span class="number">71</span>,<span class="number">142</span>,<span class="number">1.1</span>,<span class="number">62</span>,<span class="number">42</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">13</span>,<span class="number">95</span>,<span class="number">69</span>,<span class="number">130</span>,<span class="number">1.28</span>,<span class="number">74</span>,<span class="number">50</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">14</span>,<span class="number">116</span>,<span class="number">87</span>,<span class="number">131</span>,<span class="number">1.47</span>,<span class="number">84</span>,<span class="number">40</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">15</span>,<span class="number">108</span>,<span class="number">80</span>,<span class="number">121</span>,<span class="number">1.3</span>,<span class="number">85</span>,<span class="number">37</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">16</span>,<span class="number">134</span>,<span class="number">83</span>,<span class="number">167</span>,<span class="number">1.16</span>,<span class="number">57</span>,<span class="number">43</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">17</span>,<span class="number">79</span>,<span class="number">43</span>,<span class="number">107</span>,<span class="number">1.05</span>,<span class="number">59</span>,<span class="number">37</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">18</span>,<span class="number">71</span>,<span class="number">46</span>,<span class="number">89</span>,<span class="number">0.86</span>,<span class="number">64</span>,<span class="number">25</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">19</span>,<span class="number">97</span>,<span class="number">71</span>,<span class="number">113</span>,<span class="number">1.17</span>,<span class="number">88</span>,<span class="number">31</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">20</span>,<span class="number">84</span>,<span class="number">57</span>,<span class="number">91</span>,<span class="number">0.85</span>,<span class="number">55</span>,<span class="number">31</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">21</span>,<span class="number">87</span>,<span class="number">63</span>,<span class="number">101</span>,<span class="number">0.9</span>,<span class="number">56</span>,<span class="number">41</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">22</span>,<span class="number">104</span>,<span class="number">77</span>,<span class="number">119</span>,<span class="number">1.09</span>,<span class="number">73</span>,<span class="number">48</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">23</span>,<span class="number">87</span>,<span class="number">62</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">72</span>,<span class="number">28</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">24</span>,<span class="number">168</span>,<span class="number">128</span>,<span class="number">172</span>,<span class="number">1.49</span>,<span class="number">97</span>,<span class="number">56</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">25</span>,<span class="number">65</span>,<span class="number">45</span>,<span class="number">51</span>,<span class="number">0.74</span>,<span class="number">39</span>,<span class="number">17</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">26</span>,<span class="number">39</span>,<span class="number">24</span>,<span class="number">38</span>,<span class="number">0.61</span>,<span class="number">47</span>,<span class="number">17</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">27</span>,<span class="number">39</span>,<span class="number">24</span>,<span class="number">39</span>,<span class="number">0.59</span>,<span class="number">50</span>,<span class="number">19</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">28</span>,<span class="number">93</span>,<span class="number">68</span>,<span class="number">96</span>,<span class="number">1.05</span>,<span class="number">79</span>,<span class="number">29</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">29</span>,<span class="number">188</span>,<span class="number">143</span>,<span class="number">197</span>,<span class="number">1.66</span>,<span class="number">99</span>,<span class="number">51</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">30</span>,<span class="number">174</span>,<span class="number">131</span>,<span class="number">174</span>,<span class="number">1.55</span>,<span class="number">108</span>,<span class="number">50</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">31</span>,<span class="number">187</span>,<span class="number">143</span>,<span class="number">201</span>,<span class="number">1.39</span>,<span class="number">89</span>,<span class="number">53</span>,<span class="string">"中度污染"</span>]</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> schema = [</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'date'</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">text</span>: <span class="string">'日'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'AQIindex'</span>, <span class="attr">index</span>: <span class="number">1</span>, <span class="attr">text</span>: <span class="string">'AQI指数'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'PM25'</span>, <span class="attr">index</span>: <span class="number">2</span>, <span class="attr">text</span>: <span class="string">'PM2.5'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'PM10'</span>, <span class="attr">index</span>: <span class="number">3</span>, <span class="attr">text</span>: <span class="string">'PM10'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'CO'</span>, <span class="attr">index</span>: <span class="number">4</span>, <span class="attr">text</span>: <span class="string">'一氧化碳（CO）'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'NO2'</span>, <span class="attr">index</span>: <span class="number">5</span>, <span class="attr">text</span>: <span class="string">'二氧化氮（NO2）'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'SO2'</span>, <span class="attr">index</span>: <span class="number">6</span>, <span class="attr">text</span>: <span class="string">'二氧化硫（SO2）'</span>&#125;</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="comment">// 折线拐点标志的样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> itemStyle = &#123;</span></span><br><span class="line"><span class="undefined">                normal: &#123;</span></span><br><span class="line"><span class="undefined">                    opacity: 0.8,</span></span><br><span class="line"><span class="undefined">                    shadowBlur: 10,</span></span><br><span class="line"><span class="undefined">                    shadowOffsetX: 0,</span></span><br><span class="line"><span class="undefined">                    shadowOffsetY: 0,</span></span><br><span class="line"><span class="javascript">                    shadowColor: <span class="string">'rgba(0, 0, 0, 0.5)'</span></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 背景色</span></span></span><br><span class="line"><span class="javascript">                    backgroundColor: <span class="string">'#404a59'</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 系列颜色</span></span></span><br><span class="line"><span class="undefined">                    color: [</span></span><br><span class="line"><span class="javascript">                        <span class="string">'#dd4444'</span>, <span class="string">'#fec42c'</span>, <span class="string">'#80F1BE'</span></span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 图例组件</span></span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        y: <span class="string">'top'</span>,</span></span><br><span class="line"><span class="javascript">                        data: [<span class="string">'北京'</span>, <span class="string">'上海'</span>, <span class="string">'广州'</span>],</span></span><br><span class="line"><span class="undefined">                        textStyle: &#123;</span></span><br><span class="line"><span class="javascript">                            color: <span class="string">'#fff'</span>,</span></span><br><span class="line"><span class="undefined">                            fontSize: 16</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 直角坐标系网格组件</span></span></span><br><span class="line"><span class="undefined">                    grid: &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 网格组件水平起始位置</span></span></span><br><span class="line"><span class="javascript">                        x: <span class="string">'5%'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 网格组件水平结束位置</span></span></span><br><span class="line"><span class="javascript">                        x2: <span class="string">'15%'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 网格组件垂直起始位置</span></span></span><br><span class="line"><span class="javascript">                        y: <span class="string">'15%'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 网格组件垂直结束位置</span></span></span><br><span class="line"><span class="javascript">                        y2: <span class="string">'10%'</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 提示框组件</span></span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;</span></span><br><span class="line"><span class="undefined">                        padding: 10,</span></span><br><span class="line"><span class="javascript">                        backgroundColor: <span class="string">'#222'</span>,</span></span><br><span class="line"><span class="javascript">                        borderColor: <span class="string">'#777'</span>,</span></span><br><span class="line"><span class="undefined">                        borderWidth: 1,</span></span><br><span class="line"><span class="javascript">                        formatter: <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> value = obj.value;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">return</span> <span class="string">'&lt;div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px"&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + obj.seriesName + <span class="string">' '</span> + value[<span class="number">0</span>] + <span class="string">'日：'</span></span></span><br><span class="line"><span class="undefined">                                + value[7]</span></span><br><span class="line"><span class="javascript">                                + <span class="string">'&lt;/div&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">1</span>].text + <span class="string">'：'</span> + value[<span class="number">1</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">2</span>].text + <span class="string">'：'</span> + value[<span class="number">2</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">3</span>].text + <span class="string">'：'</span> + value[<span class="number">3</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">4</span>].text + <span class="string">'：'</span> + value[<span class="number">4</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">5</span>].text + <span class="string">'：'</span> + value[<span class="number">5</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">6</span>].text + <span class="string">'：'</span> + value[<span class="number">6</span>] + <span class="string">'&lt;br&gt;'</span>;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 直角坐标系 grid 中的 x 轴</span></span></span><br><span class="line"><span class="undefined">                    xAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴类型为数值轴</span></span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴名称</span></span></span><br><span class="line"><span class="javascript">                        name: <span class="string">'日期'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴名称与轴线之间的距离</span></span></span><br><span class="line"><span class="undefined">                        nameGap: 16,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴名称的文字样式</span></span></span><br><span class="line"><span class="undefined">                        nameTextStyle: &#123;</span></span><br><span class="line"><span class="javascript">                            color: <span class="string">'#fff'</span>,</span></span><br><span class="line"><span class="undefined">                            fontSize: 14</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        max: 31,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴在 grid 区域中的分隔线</span></span></span><br><span class="line"><span class="undefined">                        splitLine: &#123;</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴轴线</span></span></span><br><span class="line"><span class="undefined">                        axisLine: &#123;</span></span><br><span class="line"><span class="undefined">                            lineStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#eee'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 直角坐标系 grid 中的 y 轴</span></span></span><br><span class="line"><span class="undefined">                    yAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                        name: <span class="string">'AQI指数'</span>,</span></span><br><span class="line"><span class="javascript">                        nameLocation: <span class="string">'end'</span>,</span></span><br><span class="line"><span class="undefined">                        nameGap: 20,</span></span><br><span class="line"><span class="undefined">                        nameTextStyle: &#123;</span></span><br><span class="line"><span class="javascript">                            color: <span class="string">'#fff'</span>,</span></span><br><span class="line"><span class="undefined">                            fontSize: 16</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        axisLine: &#123;</span></span><br><span class="line"><span class="undefined">                            lineStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#eee'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        splitLine: &#123;</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 视觉映射组件,最右边的那两个</span></span></span><br><span class="line"><span class="undefined">                    visualMap: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            left: <span class="string">'right'</span>,</span></span><br><span class="line"><span class="javascript">                            top: <span class="string">'10%'</span>,</span></span><br><span class="line"><span class="undefined">                            dimension: 2,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 最值</span></span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 250,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 图形宽搞</span></span></span><br><span class="line"><span class="undefined">                            itemWidth: 30,</span></span><br><span class="line"><span class="undefined">                            itemHeight: 120,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 是否显示拖拽用的手柄</span></span></span><br><span class="line"><span class="javascript">                            calculable: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 数据展示的小数精度</span></span></span><br><span class="line"><span class="undefined">                            precision: 0.1,</span></span><br><span class="line"><span class="javascript">                            text: [<span class="string">'圆形大小：PM2.5'</span>],</span></span><br><span class="line"><span class="undefined">                            textGap: 30,</span></span><br><span class="line"><span class="undefined">                            textStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#fff'</span></span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 在选中范围内的视觉图形</span></span></span><br><span class="line"><span class="undefined">                            inRange: &#123;</span></span><br><span class="line"><span class="undefined">                                symbolSize: [10, 70]</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 在选中范围外的视觉图形</span></span></span><br><span class="line"><span class="undefined">                            outOfRange: &#123;</span></span><br><span class="line"><span class="javascript">                                <span class="comment">// 图元的大小</span></span></span><br><span class="line"><span class="undefined">                                symbolSize: [10, 70],</span></span><br><span class="line"><span class="javascript">                                <span class="comment">// 图元的颜色</span></span></span><br><span class="line"><span class="javascript">                                color: [<span class="string">'rgba(255,255,255,.2)'</span>]</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            controller: &#123;</span></span><br><span class="line"><span class="undefined">                                inRange: &#123;</span></span><br><span class="line"><span class="javascript">                                    color: [<span class="string">'#c23531'</span>]</span></span><br><span class="line"><span class="undefined">                                &#125;,</span></span><br><span class="line"><span class="undefined">                                outOfRange: &#123;</span></span><br><span class="line"><span class="javascript">                                    color: [<span class="string">'#444'</span>]</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            left: <span class="string">'right'</span>,</span></span><br><span class="line"><span class="javascript">                            bottom: <span class="string">'5%'</span>,</span></span><br><span class="line"><span class="undefined">                            dimension: 6,</span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 50,</span></span><br><span class="line"><span class="undefined">                            itemHeight: 120,</span></span><br><span class="line"><span class="javascript">                            calculable: <span class="literal">true</span>,</span></span><br><span class="line"><span class="undefined">                            precision: 0.1,</span></span><br><span class="line"><span class="javascript">                            text: [<span class="string">'明暗：二氧化硫'</span>],</span></span><br><span class="line"><span class="undefined">                            textGap: 30,</span></span><br><span class="line"><span class="undefined">                            textStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#fff'</span></span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            inRange: &#123;</span></span><br><span class="line"><span class="undefined">                                colorLightness: [1, 0.5]</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            outOfRange: &#123;</span></span><br><span class="line"><span class="javascript">                                color: [<span class="string">'rgba(255,255,255,.2)'</span>]</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            controller: &#123;</span></span><br><span class="line"><span class="undefined">                                inRange: &#123;</span></span><br><span class="line"><span class="javascript">                                    color: [<span class="string">'#c23531'</span>]</span></span><br><span class="line"><span class="undefined">                                &#125;,</span></span><br><span class="line"><span class="undefined">                                outOfRange: &#123;</span></span><br><span class="line"><span class="javascript">                                    color: [<span class="string">'#444'</span>]</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="undefined">                    series: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'北京'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 散点图</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 折线拐点标志的样式</span></span></span><br><span class="line"><span class="undefined">                            itemStyle: itemStyle,</span></span><br><span class="line"><span class="undefined">                            data: dataBJ</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'上海'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: itemStyle,</span></span><br><span class="line"><span class="undefined">                            data: dataSH</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'广州'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: itemStyle,</span></span><br><span class="line"><span class="undefined">                            data: dataGZ</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 1500px;height:800px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/散点图.gif" alt="前端-ECharts/散点图.gif"></p>
<hr>
<h3 id="雷达图"><a href="#雷达图" class="headerlink" title="雷达图"></a>雷达图</h3><p>将 series[i] 系列列表 type 设置为 scatter 散点图图表。</p>
<p>option 中有一个 radar 雷达图坐标系组件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="undefined">                    title: &#123;</span></span><br><span class="line"><span class="javascript">                        text: <span class="string">'基础雷达图'</span>,</span></span><br><span class="line"><span class="javascript">                        left: <span class="string">'10%'</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="undefined">                        data: [</span></span><br><span class="line"><span class="javascript">                            <span class="string">'预算分配（Allocated Budget）'</span>,</span></span><br><span class="line"><span class="javascript">                             <span class="string">'实际开销（Actual Spending）'</span>,</span></span><br><span class="line"><span class="undefined">                             ],</span></span><br><span class="line"><span class="undefined">                        textStyle: &#123;</span></span><br><span class="line"><span class="undefined">                            fontSize: 20</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 雷达图坐标系组件</span></span></span><br><span class="line"><span class="undefined">                    radar: &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 雷达图形状</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// ’polygon' 多边形</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 'circle' 圆形</span></span></span><br><span class="line"><span class="javascript">                        shape: <span class="string">'polygon'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 雷达图每个指示器名称的配置项</span></span></span><br><span class="line"><span class="undefined">                        name: &#123;</span></span><br><span class="line"><span class="undefined">                            textStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#fff'</span>,</span></span><br><span class="line"><span class="javascript">                                backgroundColor: <span class="string">'#999'</span>,</span></span><br><span class="line"><span class="undefined">                                borderRadius: 3,</span></span><br><span class="line"><span class="undefined">                                padding: [3, 5],</span></span><br><span class="line"><span class="undefined">                                fontSize: 20</span></span><br><span class="line"><span class="undefined">                           &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 雷达图的指示器，用来指定雷达图中的多个变量（维度）</span></span></span><br><span class="line"><span class="undefined">                        indicator: [</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'销售（sales）'</span>, <span class="attr">max</span>: <span class="number">6500</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'管理（Administration）'</span>, <span class="attr">max</span>: <span class="number">16000</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'信息技术（Information Techology）'</span>, <span class="attr">max</span>: <span class="number">30000</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'客服（Customer Support）'</span>, <span class="attr">max</span>: <span class="number">38000</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'研发（Development）'</span>, <span class="attr">max</span>: <span class="number">52000</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'市场（Marketing）'</span>, <span class="attr">max</span>: <span class="number">25000</span>&#125;</span></span><br><span class="line"><span class="undefined">                        ]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    series: [&#123;</span></span><br><span class="line"><span class="javascript">                        name: <span class="string">'预算 vs 开销（Budget vs spending）'</span>,</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'radar'</span>,</span></span><br><span class="line"><span class="undefined">                        data : [</span></span><br><span class="line"><span class="undefined">                            &#123;</span></span><br><span class="line"><span class="undefined">                                value : [4300, 10000, 28000, 35000, 50000, 19000],</span></span><br><span class="line"><span class="javascript">                                name : <span class="string">'预算分配（Allocated Budget）'</span></span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                             &#123;</span></span><br><span class="line"><span class="undefined">                                value : [5000, 14000, 28000, 31000, 42000, 21000],</span></span><br><span class="line"><span class="javascript">                                name : <span class="string">'实际开销（Actual Spending）'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        ]</span></span><br><span class="line"><span class="undefined">                    &#125;]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 1500px;height:800px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/雷达图.gif" alt="前端-ECharts/雷达图.gif"></p>
<hr>
<h3 id="多坐标系配合"><a href="#多坐标系配合" class="headerlink" title="多坐标系配合"></a>多坐标系配合</h3><p>直角坐标系 grid 中的 y 轴，一般情况下单个 grid 组件最多只能放左右两个 y 轴，多于两个 y 轴需要通过配置 offset 属性防止同个位置多个 Y 轴的重叠。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'box1'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 指定图表的配置项和数据</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;</span></span><br><span class="line"><span class="javascript">                        trigger: <span class="string">'axis'</span>,</span></span><br><span class="line"><span class="undefined">                        axisPointer: &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'cross'</span>,</span></span><br><span class="line"><span class="undefined">                            crossStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#999'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        data:[<span class="string">'蒸发量'</span>,<span class="string">'降水量'</span>,<span class="string">'平均温度'</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    xAxis: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'category'</span>,</span></span><br><span class="line"><span class="javascript">                            data: [<span class="string">'1月'</span>,<span class="string">'2月'</span>,<span class="string">'3月'</span>,<span class="string">'4月'</span>,<span class="string">'5月'</span>,<span class="string">'6月'</span>,<span class="string">'7月'</span>,<span class="string">'8月'</span>,<span class="string">'9月'</span>,<span class="string">'10月'</span>,<span class="string">'11月'</span>,<span class="string">'12月'</span>],</span></span><br><span class="line"><span class="undefined">                            axisPointer: &#123;</span></span><br><span class="line"><span class="javascript">                                type: <span class="string">'shadow'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="undefined">                    yAxis: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'水量'</span>,</span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 250,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 坐标轴分割间隔</span></span></span><br><span class="line"><span class="undefined">                            interval: 50,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 坐标轴刻度标签的相关设置</span></span></span><br><span class="line"><span class="undefined">                            axisLabel: &#123;</span></span><br><span class="line"><span class="javascript">                                formatter: <span class="string">'&#123;value&#125; ml'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'温度'</span>,</span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 25,</span></span><br><span class="line"><span class="undefined">                            interval: 10,</span></span><br><span class="line"><span class="undefined">                            axisLabel: &#123;</span></span><br><span class="line"><span class="javascript">                                formatter: <span class="string">'&#123;value&#125; °C'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="undefined">                    series: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name:<span class="string">'蒸发量'</span>,</span></span><br><span class="line"><span class="javascript">                            type:<span class="string">'bar'</span>,</span></span><br><span class="line"><span class="undefined">                            data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name:<span class="string">'降水量'</span>,</span></span><br><span class="line"><span class="javascript">                            type:<span class="string">'bar'</span>,</span></span><br><span class="line"><span class="undefined">                            data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name:<span class="string">'平均温度'</span>,</span></span><br><span class="line"><span class="javascript">                            type:<span class="string">'line'</span>,</span></span><br><span class="line"><span class="undefined">                            yAxisIndex: 1,</span></span><br><span class="line"><span class="undefined">                            data:[2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span> <span class="attr">style</span>=<span class="string">"width: 1200px;height:800px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="数据区域缩放组件-dataZoom"><a href="#数据区域缩放组件-dataZoom" class="headerlink" title="数据区域缩放组件 dataZoom"></a>数据区域缩放组件 dataZoom</h3><p>“概览数据整体，按需关注数据细节”是数据可视化的基本交互需求。dataZoom 组件能够在直角坐标系（grid）、极坐标系（polar）中实现这一功能。</p>
<p>dataZoom 组件是对数轴（axis）进行数据窗口缩放、数据窗口平移操作。</p>
<p>现在支持这几种类型的 dataZoom 组件：</p>
<ul>
<li><p>内置型数据区域缩放组件（dataZoomInside）：内置于坐标系中，使用户可以在坐标系上通过鼠标拖拽、鼠标滚轮、手指滑动（触屏上）来缩放或漫游坐标系。</p>
</li>
<li><p>滑动条型数据区域缩放组件（dataZoomSlider）：有单独的滑动条，用户在滑动条上进行缩放或漫游。</p>
</li>
<li><p>框选型数据区域缩放组件（dataZoomSelect）：提供一个选框进行数据区域缩放。即 toolbox.feature.dataZoom，配置项在 toolbox 工具栏中。</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> data1 = [];</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> data2 = [];</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> data3 = [];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> random = <span class="function"><span class="keyword">function</span> (<span class="params">max</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> (<span class="built_in">Math</span>.random() * max).toFixed(<span class="number">2</span>);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// x轴, y轴, 半径</span></span></span><br><span class="line"><span class="undefined">                    data1.push([random(15), random(10), random(1)]);</span></span><br><span class="line"><span class="undefined">                    data2.push([random(10), random(10), random(1)]);</span></span><br><span class="line"><span class="undefined">                    data3.push([random(15), random(10), random(1)]);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="javascript">                    animation: <span class="literal">false</span>,</span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        data: [<span class="string">'scatter'</span>, <span class="string">'scatter2'</span>, <span class="string">'scatter3'</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    xAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                        min: <span class="string">'dataMin'</span>,</span></span><br><span class="line"><span class="javascript">                        max: <span class="string">'dataMax'</span>,</span></span><br><span class="line"><span class="undefined">                        splitLine: &#123;</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">true</span></span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    yAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                        min: <span class="string">'dataMin'</span>,</span></span><br><span class="line"><span class="javascript">                        max: <span class="string">'dataMax'</span>,</span></span><br><span class="line"><span class="undefined">                        splitLine: &#123;</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">true</span></span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 区域缩放</span></span></span><br><span class="line"><span class="undefined">                    dataZoom: [</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 可设置多个</span></span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 滑动条型数据区域缩放组件</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'slider'</span>,</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 第一条x轴, yAxisIndex即y轴</span></span></span><br><span class="line"><span class="undefined">                            xAxisIndex: [0],</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 滑动条数据窗口范围的起始/结束百分比</span></span></span><br><span class="line"><span class="undefined">                            start: 0,</span></span><br><span class="line"><span class="undefined">                            end: 35</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 内置型数据区域缩放组件</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'inside'</span>,</span></span><br><span class="line"><span class="undefined">                            xAxisIndex: [0],</span></span><br><span class="line"><span class="undefined">                            start: 1,</span></span><br><span class="line"><span class="undefined">                            end: 35</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="undefined">                    series: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: &#123;</span></span><br><span class="line"><span class="undefined">                                normal: &#123;</span></span><br><span class="line"><span class="undefined">                                    opacity: 0.8</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            symbolSize: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">return</span> val[<span class="number">2</span>] * <span class="number">40</span>;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            data: data1</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'scatter2'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: &#123;</span></span><br><span class="line"><span class="undefined">                                normal: &#123;</span></span><br><span class="line"><span class="undefined">                                    opacity: 0.8</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            symbolSize: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">return</span> val[<span class="number">2</span>] * <span class="number">40</span>;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            data: data2</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'scatter3'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: &#123;</span></span><br><span class="line"><span class="undefined">                                normal: &#123;</span></span><br><span class="line"><span class="undefined">                                    opacity: 0.8,</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            symbolSize: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">return</span> val[<span class="number">2</span>] * <span class="number">40</span>;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            data: data3</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 1500px;height:800px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/缩放.gif" alt="前端-ECharts/缩放.gif"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/13/前端-ECharts/" data-id="ck1aoo3tr006ij0utqx982zdg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ECharts/">ECharts</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-JavaScript基础-tool工具集合" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/12/前端-JavaScript基础-tool工具集合/" class="article-date">
  <time datetime="2019-02-12T05:42:45.000Z" itemprop="datePublished">2019-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/12/前端-JavaScript基础-tool工具集合/">前端-JavaScript基础-tool工具集合</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>工具目录：</p>
<!-- TOC -->
<ul>
<li><a href="#addclassobj-cn-给元素添加class属性">addClass(obj, cn) 给元素添加class属性</a></li>
<li><a href="#hasclassobj-cn-判断元素是否有某个class属性">hasClass(obj, cn) 判断元素是否有某个class属性</a></li>
<li><a href="#removeclassobj-cn-删除一个元素指定的class属性">removeClass(obj, cn) 删除一个元素指定的class属性</a></li>
<li><a href="#toggleclssobj-cn-切换类如果元素具有该类则删除如果没有则添加">toggleClss(obj, cn) 切换类(如果元素具有该类，则删除；如果没有则添加)</a></li>
<li><a href="#getstyleobj-name-获取元素当前可用样式值">getStyle(obj, name) 获取元素当前可用样式值</a></li>
<li><a href="#moveobj-attr-speed-target-callback-元素动画效果">move(obj, attr, speed, target, callback) 元素动画效果</a></li>
<li><a href="#bindobj-eventstr-callback-多事件绑定">bind(obj, eventStr, callback) 多事件绑定</a></li>
</ul>
<!-- /TOC -->
<h3 id="addClass-obj-cn-给元素添加class属性"><a href="#addClass-obj-cn-给元素添加class属性" class="headerlink" title="addClass(obj, cn) 给元素添加class属性"></a>addClass(obj, cn) 给元素添加class属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 给元素添加class属性</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * cn: 类名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!hasClass(obj, cn))&#123;</span><br><span class="line">        obj.className += <span class="string">" "</span> + cn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="hasClass-obj-cn-判断元素是否有某个class属性"><a href="#hasClass-obj-cn-判断元素是否有某个class属性" class="headerlink" title="hasClass(obj, cn) 判断元素是否有某个class属性"></a>hasClass(obj, cn) 判断元素是否有某个class属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 判断元素是否有某个class属性</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * cn: 类名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 判断obj中有没有cn这个类</span></span><br><span class="line">    <span class="comment">// 使用构造函数拼接动态正则表达式</span></span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span> + cn + <span class="string">"\\b"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> reg.test(obj.className);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="removeClass-obj-cn-删除一个元素指定的class属性"><a href="#removeClass-obj-cn-删除一个元素指定的class属性" class="headerlink" title="removeClass(obj, cn) 删除一个元素指定的class属性"></a>removeClass(obj, cn) 删除一个元素指定的class属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 删除一个元素指定的class属性</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * cn: 类名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 正则表达式</span></span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span> + cn + <span class="string">"\\b"</span>);</span><br><span class="line">                        </span><br><span class="line">    <span class="comment">// 删除class</span></span><br><span class="line">    obj.className = obj.className.replace(reg, <span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="toggleClss-obj-cn-切换类-如果元素具有该类，则删除；如果没有则添加"><a href="#toggleClss-obj-cn-切换类-如果元素具有该类，则删除；如果没有则添加" class="headerlink" title="toggleClss(obj, cn) 切换类(如果元素具有该类，则删除；如果没有则添加)"></a>toggleClss(obj, cn) 切换类(如果元素具有该类，则删除；如果没有则添加)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 切换类。如果元素中具有该类，则删除；如果没有则添加。</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * cn: 类名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleClss</span>(<span class="params">obj, cn</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断是否有cn</span></span><br><span class="line">    <span class="keyword">if</span> (hasClass(obj, cn)) &#123;</span><br><span class="line">        removeClass(obj, cn)</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        addClass(obj, cn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="getStyle-obj-name-获取元素当前可用样式值"><a href="#getStyle-obj-name-获取元素当前可用样式值" class="headerlink" title="getStyle(obj, name) 获取元素当前可用样式值"></a>getStyle(obj, name) 获取元素当前可用样式值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取元素当前可用样式值。兼容浏览器</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * name：样式名字符串</span></span><br><span class="line"><span class="comment"> * 返回值： 属性值字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</span><br><span class="line">        <span class="comment">// 正常浏览器</span></span><br><span class="line">        <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// IE8</span></span><br><span class="line">        <span class="keyword">return</span> obj.currentStyle[name];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="move-obj-attr-speed-target-callback-元素动画效果"><a href="#move-obj-attr-speed-target-callback-元素动画效果" class="headerlink" title="move(obj, attr, speed, target, callback) 元素动画效果"></a>move(obj, attr, speed, target, callback) 元素动画效果</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 元素动画效果</span></span><br><span class="line"><span class="comment"> *  obj: 要执行动画的对象</span></span><br><span class="line"><span class="comment"> *  attr: 要执行的动画样式字符串。如："left"/"top"/"width"/"height"</span></span><br><span class="line"><span class="comment"> *  speed: 移动速度绝对值</span></span><br><span class="line"><span class="comment"> *  target: 上下限</span></span><br><span class="line"><span class="comment"> *  callback: 回调函数，可以添加默认！回调函数有无限可能^——^</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, speed, target, callback</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 关闭上一个定时器，在对象内部新建的一个定时器</span></span><br><span class="line">    clearInterval(obj.timer);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断速度的正负值,即左右运动方向</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">parseInt</span>(getStyle(obj, attr)) &gt; target)&#123;</span><br><span class="line">        speed = -speed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 开启一个定时器,用来执行动画效果</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 先执行动画的对象中添加一个timer对象，用来保存自己的定时器</span></span><br><span class="line"><span class="comment">     * 避免多个对象同时使用定时器造成混乱</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    obj.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取obj的attr</span></span><br><span class="line">        <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在旧值基础上增加</span></span><br><span class="line">        <span class="keyword">var</span> newValue = oldValue + speed;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断最值</span></span><br><span class="line">        <span class="keyword">if</span>((speed &lt; <span class="number">0</span> &amp;&amp; newValue &lt; target) || (speed &gt; <span class="number">0</span> &amp;&amp; newValue &gt; target))&#123;</span><br><span class="line">            newValue = target;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 新值设置给obj</span></span><br><span class="line">        obj.style[attr] = newValue + <span class="string">"px"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当元素移动到400px时,停止执行动画</span></span><br><span class="line">        <span class="keyword">if</span>(newValue == target)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 关闭定时器</span></span><br><span class="line">            clearInterval(obj.timer);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 动画执行完毕的回调函数,只有有回调函数时候才执行,也就是可以不传回调函数!!!</span></span><br><span class="line">            callback &amp;&amp; callback();</span><br><span class="line">        &#125;</span><br><span class="line">                    </span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="bind-obj-eventStr-callback-多事件绑定"><a href="#bind-obj-eventStr-callback-多事件绑定" class="headerlink" title="bind(obj, eventStr, callback) 多事件绑定"></a>bind(obj, eventStr, callback) 多事件绑定</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 多事件绑定。兼容浏览器，统一this。</span></span><br><span class="line"><span class="comment"> * obj: 要绑定的事件的对象</span></span><br><span class="line"><span class="comment"> * eventStr: 事件的字符串(不要on)</span></span><br><span class="line"><span class="comment"> * callback: 回调函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, eventStr, callback</span>)</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 兼容浏览器</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">if</span>(obj.addEventListener)&#123;</span><br><span class="line">        <span class="comment">// 大部分浏览器</span></span><br><span class="line">        obj.addEventListener(eventStr, callback, <span class="literal">false</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// IE8及以下浏览器，并在匿名函数中使用回调函数，统一this</span></span><br><span class="line">        obj.attachEvent(<span class="string">"on"</span> + eventStr, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">// 在匿名函数中调用回调函数</span></span><br><span class="line">            callback.call(obj);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/12/前端-JavaScript基础-tool工具集合/" data-id="ck1aoo3dd000xj0uttmnt4n5b" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/">tool</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-JavaScript基础-BOM基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/08/前端-JavaScript基础-BOM基础/" class="article-date">
  <time datetime="2019-02-08T15:16:25.000Z" itemprop="datePublished">2019-02-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/08/前端-JavaScript基础-BOM基础/">前端-JavaScript基础-BOM基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：</p>
<!-- TOC -->
<ul>
<li><a href="#什么是bom">什么是BOM</a></li>
<li><a href="#bom对象">BOM对象</a></li>
<li><a href="#window">window</a><ul>
<li><a href="#setinterval定时调动">setInterval()定时调动</a></li>
<li><a href="#settimeout延时调动">setTimeout()延时调动</a></li>
</ul>
</li>
<li><a href="#navigator">Navigator</a><ul>
<li><a href="#useragent">userAgent</a></li>
<li><a href="#内容说明">内容说明</a></li>
<li><a href="#浏览器判断">浏览器判断</a></li>
</ul>
</li>
<li><a href="#location">Location</a></li>
<li><a href="#history">History</a></li>
<li><a href="#screen">Screen</a></li>
<li><a href="#综合案例动画">综合案例——动画</a></li>
<li><a href="#综合案例轮播图">综合案例——轮播图</a></li>
<li><a href="#综合案例二级菜单">综合案例——二级菜单</a></li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="什么是BOM"><a href="#什么是BOM" class="headerlink" title="什么是BOM"></a>什么是BOM</h3><p>BOM全程Browser Object Model，即浏览器对象模型。</p>
<p>BOM提供了独立于内容 而与浏览器窗口进行交互的对象；由于BOM主要用于管理窗口与窗口之间的通讯，因此其核心对象是window；BOM由一系列相关的对象构成，并且每个对象都提供了很多方法与属性；BOM缺乏标准，JavaScript语法的标准化组织是ECMA，DOM的标准化组织是W3C，BOM最初是Netscape浏览器标准的一部分。</p>
<hr>
<h3 id="BOM对象"><a href="#BOM对象" class="headerlink" title="BOM对象"></a>BOM对象</h3><p>更多：<a href="http://www.w3school.com.cn/jsref/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/index.asp</a>  Browser对象</p>
<p>这些BOM对象在浏览器中都是作为window对象的属性保存的，可以通过window对象来使用，也可以直接使用。</p>
<hr>
<h3 id="window"><a href="#window" class="headerlink" title="window"></a>window</h3><p>代表的是整个浏览器的窗口，同时也是网页中的全局对象。</p>
<p>window是最常用的BOM对象。</p>
<p>更多：<a href="http://www.w3school.com.cn/jsref/dom_obj_window.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_window.asp</a></p>
<hr>
<h4 id="setInterval-定时调动"><a href="#setInterval-定时调动" class="headerlink" title="setInterval()定时调动"></a>setInterval()定时调动</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> count = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnOn = <span class="built_in">document</span>.getElementById(<span class="string">"btnOn"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnOff = <span class="built_in">document</span>.getElementById(<span class="string">"btnOff"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 计数器</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num = <span class="number">1</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 定时器对象</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> timer;</span></span><br><span class="line"><span class="undefined">               </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 绑定点击事件，每点击一次开始，就会新建一个定时器！！！</span></span><br><span class="line"><span class="undefined">                 * 关闭定时器是，如果有多个定时器叠加在一起，只会关闭最新的一个。</span></span><br><span class="line"><span class="undefined">                 * 也就是说之前叠加的不会被关闭，仍然继续执行。</span></span><br><span class="line"><span class="undefined">                 * 所以在开启定时器之前，必须关闭同一对象上定时器！！！</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                btnOn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="javascript">                     * 关闭已有的定时器，如果是第一次点击，timer为<span class="literal">undefined</span>，无效值，会被忽略</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    clearInterval(timer);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * setInterval()</span></span><br><span class="line"><span class="undefined">                     *  - 定时调用</span></span><br><span class="line"><span class="undefined">                     *  - 将一个函数，每隔一定时间执行一次</span></span><br><span class="line"><span class="undefined">                     *  - 参数：</span></span><br><span class="line"><span class="undefined">                     *      1. 回调函数</span></span><br><span class="line"><span class="undefined">                     *      2. 间隔时间, 毫秒</span></span><br><span class="line"><span class="javascript">                     *  - 返回值：返回一个<span class="built_in">Number</span>类型的数据作为定时器标识</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                        count.innerHTML = num++;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;, 500);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btnOff.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 使用clearInterval(定时器标识)关闭指定的定时器</span></span><br><span class="line"><span class="undefined">                     * 如果传入的参数有效，则关闭对应的定时器，无效则忽略</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    clearInterval(timer);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnOn"</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnOff"</span>&gt;</span>停止<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在DOM基础中有一节内容按键事件控制div的移动中，浏览器的默认行为导致移动的第一次和第二次之间有卡顿，需要定时器来解决。这里我们来改造当时的代码。</p>
<p>我们将按键控制和移动功能分开，移动功能使用定时器刷新来实现。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 默认叔叔</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> speed = <span class="number">5</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 方向变量</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> dir = <span class="number">0</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 按钮按下只控制方向及速度</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    event = event || event;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(event.ctrlKey)&#123;</span></span><br><span class="line"><span class="undefined">                        speed = 10;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                        speed = 5;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    dir = event.keyCode;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 当按下松开时,div不再移动</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.onkeyup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    dir = 0;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * bug:</span></span><br><span class="line"><span class="undefined">                 * 这里还有一个小问题，就是长按时候的第一次与第二次间隔稍长。</span></span><br><span class="line"><span class="undefined">                 * 这是浏览器默认行为，需要定时器才能取消。见BOM基础！</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 开启一个定时器,来控制div的移动</span></span></span><br><span class="line"><span class="javascript">                setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 37 左</span></span><br><span class="line"><span class="undefined">                     * 38 上</span></span><br><span class="line"><span class="undefined">                     * 39 又</span></span><br><span class="line"><span class="undefined">                     * 40 下</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">switch</span>(dir)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">37</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.left = box1.offsetLeft - speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">38</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.top = box1.offsetTop - speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">39</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.left = box1.offsetLeft + speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">40</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.top = box1.offsetTop + speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;, 30);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="setTimeout-延时调动"><a href="#setTimeout-延时调动" class="headerlink" title="setTimeout()延时调动"></a>setTimeout()延时调动</h4><p>延时调用和定时调用用法完全相同，唯一的区别就是，延时调用只执行一次，定时调用会执行多次。</p>
<p>同样也可以使用关闭延时调用。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clearTimeout(定时器标识);</span><br></pre></td></tr></table></figure></p>
<p>延时调用和定时调用实际上是可以互相代替的，所以使用定时调用更好。</p>
<hr>
<h3 id="Navigator"><a href="#Navigator" class="headerlink" title="Navigator"></a>Navigator</h3><p>代表的是浏览器信息，通过该对象可以来识别不同的浏览器。</p>
<p>由于历史原因，Navigator对象中的大部分属性都已经不能帮助我们识别浏览器了。一般我们只会使用userAgent(等价于浏览器)来判断浏览器的信息，不同的浏览器有不同的userAgent。</p>
<p>更多：<a href="http://www.w3school.com.cn/jsref/dom_obj_navigator.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_navigator.asp</a></p>
<h4 id="userAgent"><a href="#userAgent" class="headerlink" title="userAgent"></a>userAgent</h4><ul>
<li><p>火狐：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; WOW64; rv:65.0) Gecko/20100101 Firefox/65.0</p>
</li>
<li><p>谷歌：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36</p>
</li>
<li><p>IE 11 (已经没有任何微软和IE的标识了)：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; rv:11.0) like Gecko</p>
</li>
<li><p>IE 10：</p>
<p>  Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</p>
</li>
<li><p>IE 9：</p>
<p>  Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</p>
</li>
<li><p>IE 8：</p>
<p>  Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</p>
</li>
<li><p>Edge (内置浏览器，其实也是用内置chrome)：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/18.17763</p>
</li>
</ul>
<h4 id="内容说明"><a href="#内容说明" class="headerlink" title="内容说明"></a>内容说明</h4><ul>
<li><p>Mozilla/5.0 ：Mozilla基金会5.0版本。</p>
</li>
<li><p>Windows NT 10.0 ：Windows版本代号。Windows NT 10.0表示window10；Windows NT 6.1表示window7。</p>
</li>
<li><p>WOW64 ：64位系统。</p>
</li>
<li><p>rv:65.0 ：浏览器版本位65.0。</p>
</li>
<li><p>Gecko ：CSS渲染引擎名。最出名的一种。</p>
</li>
<li><p>Firefox / Chrome / Edge ：浏览器名称，用来判断是什么浏览器，除了缺德的IE11……</p>
</li>
</ul>
<h4 id="浏览器判断"><a href="#浏览器判断" class="headerlink" title="浏览器判断"></a>浏览器判断</h4><p>从userAgent中的浏览器名称可以判断出大部分浏览器，而IE11，因为没有任何标识，除了有“rv:11”浏览器版本标识可以大致判断是IE11，但是这种大致判断不一定可靠！！！此外还可以通过一些浏览器中特有的对象来判断浏览器信息，如ActiveXObject，是IE发送Ajax请求的，是IE特有的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ua = navigator.userAgent;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(ua);</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * - 通过忽略大小写的正则表达式校验userAgent来判断浏览器</span></span><br><span class="line"><span class="undefined">             *</span></span><br><span class="line"><span class="undefined">             * - 无法通过userAgent方式判断时，通过浏览器特有的对象来判断，常用的ActiveXObject。</span></span><br><span class="line"><span class="javascript">             *      - 通过双感叹号来转换成bool值判断是否有该对象。但是！！！IE11会造假！！！把ActiveXObject的改成<span class="literal">false</span>……</span></span><br><span class="line"><span class="javascript">             *      - 通过<span class="keyword">in</span>表达式来判断，这种方式无法造假。</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(<span class="regexp">/firefox/i</span>.test(ua))&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"火狐浏览器！"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="regexp">/chrome/i</span>.test(ua))&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"谷歌浏览器！"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="regexp">/msie/i</span>.test(ua))&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"IE浏览器！"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"ActiveXObject"</span> <span class="keyword">in</span> <span class="built_in">window</span>)&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"IE11浏览器"</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h3><p>代表当前浏览器的地址栏信息，可以获取浏览器地址栏信息，或者操作浏览器跳转。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取location地址</span></span></span><br><span class="line"><span class="undefined">                alert(location);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 修改location</span></span><br><span class="line"><span class="undefined">                 * 和assign()方法效果相同</span></span><br><span class="line"><span class="undefined">                 */ </span></span><br><span class="line"><span class="javascript">                location = <span class="string">"https://www.baidu.com/"</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * reload()</span></span><br><span class="line"><span class="undefined">                 * 重新加载当前页面，刷新当前页面，会有历史记录，可回退</span></span><br><span class="line"><span class="javascript">                 * 如果传递<span class="literal">true</span>，则会强制清空缓存刷新页面，即ctrl+F5效果</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                location.reload(<span class="literal">true</span>);      </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * replace()</span></span><br><span class="line"><span class="undefined">                 * 可以使用一个新的页面替代当前页面，没有历史记录，不能回退</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                location.replace();</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="History"><a href="#History" class="headerlink" title="History"></a>History</h3><p>代表浏览器的历史记录，同时通过该对象来操作浏览器的历史记录。由于隐式原因，该对象不能获取到具体的历史记录，只能操作浏览器向前或向后翻页，并且只在当次访问时有效。</p>
<p>更多：<a href="http://www.w3school.com.cn/jsref/dom_obj_history.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_history.asp</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * length: 获取当前访问数量</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                alert(<span class="built_in">window</span>.history.length);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * back()</span></span><br><span class="line"><span class="undefined">                 * 返回上一个页面，和浏览器回退按钮功能一样</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                history.back();</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * forward()</span></span><br><span class="line"><span class="undefined">                 * 返回下一个页面，和浏览器回前进按钮功能一样</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                history.forward();</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * go(int)</span></span><br><span class="line"><span class="undefined">                 * 跳转到指定的页面</span></span><br><span class="line"><span class="undefined">                 * - 整数：相当于forward()，向前跳n个页面</span></span><br><span class="line"><span class="undefined">                 * - 负数：相当于back()，向后跳n个页面</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                history.go(1);</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>history<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Screen"><a href="#Screen" class="headerlink" title="Screen"></a>Screen</h3><p>代表用户的屏幕信息，通过该对象可以获取到用户的显示器的相关信息。</p>
<p>不常用。</p>
<hr>
<h3 id="综合案例——动画"><a href="#综合案例——动画" class="headerlink" title="综合案例——动画"></a>综合案例——动画</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	*&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">                left: 0px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 获取样式值 </span></span><br><span class="line"><span class="undefined">             * 兼容IE8及常见浏览器</span></span><br><span class="line"><span class="undefined">             * obj：对象</span></span><br><span class="line"><span class="undefined">             * name：样式名字符串</span></span><br><span class="line"><span class="undefined">             * 返回值： 属性值字符串</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 正常浏览器</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// IE8</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> obj.currentStyle[name];</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 参数：</span></span><br><span class="line"><span class="undefined">             *  obj: 要执行动画的对象</span></span><br><span class="line"><span class="undefined">             *  attr: 要执行的动画样式。如：left/top/width/height，string值</span></span><br><span class="line"><span class="undefined">             *  speed: 移动速度绝对值</span></span><br><span class="line"><span class="undefined">             *  target: 上下限</span></span><br><span class="line"><span class="undefined">             *  callback: 回调函数，可以添加默认！回调函数有无限可能^——^</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, speed, target, callback</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 关闭上一个定时器</span></span></span><br><span class="line"><span class="undefined">                clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 判断速度的正负值,即左右运动方向</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(<span class="built_in">parseInt</span>(getStyle(obj, attr)) &gt; target)&#123;</span></span><br><span class="line"><span class="undefined">                    speed = -speed;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 开启一个定时器,用来执行动画效果</span></span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 先执行动画的对象中添加一个timer对象，用来保存自己的定时器</span></span><br><span class="line"><span class="undefined">                 * 避免多个对象同时使用定时器造成混乱</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                obj.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取obj的attr</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 在旧值基础上增加</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> newValue = oldValue + speed;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 判断最值</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>((speed &lt; <span class="number">0</span> &amp;&amp; newValue &lt; target) || (speed &gt; <span class="number">0</span> &amp;&amp; newValue &gt; target))&#123;</span></span><br><span class="line"><span class="undefined">                        newValue = target;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 新值设置给obj</span></span></span><br><span class="line"><span class="javascript">                    obj.style[attr] = newValue + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 当元素移动到400px时,停止执行动画</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(newValue == target)&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 关闭定时器</span></span></span><br><span class="line"><span class="undefined">                        clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 动画执行完毕的回调函数,只有有回调函数时候才执行,也就是可以不传回调函数!!!</span></span></span><br><span class="line"><span class="undefined">                        callback &amp;&amp; callback();</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;, 30);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">//</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnMoveRight = <span class="built_in">document</span>.getElementById(<span class="string">"btnMoveRight"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnMoveLeft = <span class="built_in">document</span>.getElementById(<span class="string">"btnMoveLeft"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnMoveDown = <span class="built_in">document</span>.getElementById(<span class="string">"btnMoveDown"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnMoveUp = <span class="built_in">document</span>.getElementById(<span class="string">"btnMoveUp"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnWidthUp = <span class="built_in">document</span>.getElementById(<span class="string">"btnWidthUp"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnWidthDown = <span class="built_in">document</span>.getElementById(<span class="string">"btnWidthDown"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btnMoveRight.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"left"</span>, <span class="number">10</span>, <span class="number">400</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnMoveLeft.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"left"</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnMoveDown.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"top"</span>, <span class="number">10</span>, <span class="number">400</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnMoveUp.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"top"</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnWidthUp.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"width"</span>, <span class="number">10</span>, <span class="number">400</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnWidthDown.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"width"</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveRight"</span>&gt;</span>向右移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveLeft"</span>&gt;</span>向左移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveDown"</span>&gt;</span>向下移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveUp"</span>&gt;</span>向上移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnWidthUp"</span>&gt;</span>宽度增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnWidthDown"</span>&gt;</span>宽度减少<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="综合案例——轮播图"><a href="#综合案例——轮播图" class="headerlink" title="综合案例——轮播图"></a>综合案例——轮播图</h3><p>结合setInterval()定时调动和动画效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	*&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#outer</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 520px;</span></span><br><span class="line"><span class="undefined">                height: 333px;</span></span><br><span class="line"><span class="undefined">                margin: 50px auto;</span></span><br><span class="line"><span class="undefined">                background-color: greenyellow;</span></span><br><span class="line"><span class="undefined">                padding: 10px 0;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 父元素开启相对定位 */</span></span></span><br><span class="line"><span class="undefined">                position: relative;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 裁剪多余的内容 */</span></span></span><br><span class="line"><span class="undefined">                overflow: hidden;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#imgList</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 去除项目符号 */</span></span></span><br><span class="line"><span class="undefined">                list-style: none;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 子元素开启绝对定位 */</span></span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="comment">/* 设置图片中的li */</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#imgList</span> <span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置浮动，将垂直排列变成水平排列 */</span></span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">                margin: 0 10px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="comment">/* 设置导航按钮 */</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#navDiv</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 开启绝对定位 */</span></span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置位置 */</span></span></span><br><span class="line"><span class="undefined">                bottom: 15px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#navDiv</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置浮动 */</span></span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">                width: 15px;</span></span><br><span class="line"><span class="undefined">                height: 15px;</span></span><br><span class="line"><span class="undefined">                margin: 0 5px;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background-color</span>: <span class="selector-id">#FF0000</span>;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置透明 */</span></span></span><br><span class="line"><span class="css">                <span class="selector-tag">opacity</span>: 0<span class="selector-class">.5</span>;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 兼容IE透明 */</span></span></span><br><span class="line"><span class="undefined">                filter: alpha(opacity = 50);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="comment">/* 鼠标移入效果 */</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#navDiv</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="undefined">                background-color: black;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 获取样式值 </span></span><br><span class="line"><span class="undefined">             * 兼容IE8及常见浏览器</span></span><br><span class="line"><span class="undefined">             * obj：对象</span></span><br><span class="line"><span class="undefined">             * name：样式名字符串</span></span><br><span class="line"><span class="undefined">             * 返回值： 属性值字符串</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 正常浏览器</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// IE8</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> obj.currentStyle[name];</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 参数：</span></span><br><span class="line"><span class="undefined">             *  obj: 要执行动画的对象</span></span><br><span class="line"><span class="undefined">             *  attr: 要执行的动画样式。如：left/top/width/height</span></span><br><span class="line"><span class="undefined">             *  speed: 移动速度绝对值</span></span><br><span class="line"><span class="undefined">             *  target: 上下限</span></span><br><span class="line"><span class="undefined">             *  callback: 回调函数，可以添加默认！回调函数有无限可能^——^</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, speed, target, callback</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 关闭上一个定时器</span></span></span><br><span class="line"><span class="undefined">                clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 判断速度的正负值,即左右运动方向</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(<span class="built_in">parseInt</span>(getStyle(obj, attr)) &gt; target)&#123;</span></span><br><span class="line"><span class="undefined">                    speed = -speed;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 开启一个定时器,用来执行动画效果</span></span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 先执行动画的对象中添加一个timer对象，用来保存自己的定时器</span></span><br><span class="line"><span class="undefined">                 * 避免多个对象同时使用定时器造成混乱</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                obj.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取obj的attr</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 在旧值基础上增加</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> newValue = oldValue + speed;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 判断最值</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>((speed &lt; <span class="number">0</span> &amp;&amp; newValue &lt; target) || (speed &gt; <span class="number">0</span> &amp;&amp; newValue &gt; target))&#123;</span></span><br><span class="line"><span class="undefined">                        newValue = target;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 新值设置给obj</span></span></span><br><span class="line"><span class="javascript">                    obj.style[attr] = newValue + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 当元素移动到400px时,停止执行动画</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(newValue == target)&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 关闭定时器</span></span></span><br><span class="line"><span class="undefined">                        clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 动画执行完毕的回调函数,只有有回调函数时候才执行,也就是可以不传回调函数!!!</span></span></span><br><span class="line"><span class="undefined">                        callback &amp;&amp; callback();</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;, 30);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 设置ul的宽度</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取imgList</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> imgList = <span class="built_in">document</span>.getElementById(<span class="string">"imgList"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取ul中所有img标签</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> imgArr = imgList.getElementsByTagName(<span class="string">"img"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置imgList的宽度</span></span></span><br><span class="line"><span class="javascript">                imgList.style.width = <span class="number">520</span> * imgArr.length + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 设置导航按钮的位置居中</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取navDiv</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> navDiv = <span class="built_in">document</span>.getElementById(<span class="string">"navDiv"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取outer</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> outer = <span class="built_in">document</span>.getElementById(<span class="string">"outer"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置navDiv的left值</span></span></span><br><span class="line"><span class="javascript">                navDiv.style.left = (outer.offsetWidth - navDiv.offsetWidth)/<span class="number">2</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 默认显示图片的索引</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> index = <span class="number">0</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 获取所有的a并设置默认选中效果</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> allA = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置默认选中的效果</span></span></span><br><span class="line"><span class="javascript">                allA[index].style.backgroundColor = <span class="string">"black"</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 点击超链接切换到指定的图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;allA.length; i++) &#123;</span></span><br><span class="line"><span class="undefined">                	</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 为超链接添加索引属性</span></span></span><br><span class="line"><span class="undefined">                    allA[i].num = i;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 为超链接绑定单击响应函数</span></span></span><br><span class="line"><span class="javascript">                    allA[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 关闭自动切换的定时器</span></span></span><br><span class="line"><span class="undefined">                        clearInterval(timer);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 获取点击超链接的索引,并将其设置为index</span></span></span><br><span class="line"><span class="javascript">                        index = <span class="keyword">this</span>.num;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 切换图片</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//imgList.style.left = "-" + 520 * index + "px";</span></span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 使用move函数切换图片</span></span></span><br><span class="line"><span class="javascript">                        move(imgList, <span class="string">"left"</span>, <span class="number">30</span>, <span class="number">-520</span>*index, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">/* 重新开始自动切换图片 */</span></span></span><br><span class="line"><span class="undefined">                            autoChange();</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 修改选中的a</span></span></span><br><span class="line"><span class="undefined">                        setA();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 自动切换图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                autoChange();</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 定时器对象</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> timer;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 开启自动切换</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">autoChange</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 开启定时器</span></span></span><br><span class="line"><span class="javascript">                    timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 索引自增</span></span></span><br><span class="line"><span class="undefined">                        index ++;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        index %= imgArr.length;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        move(imgList, <span class="string">"left"</span>, <span class="number">30</span>, <span class="number">-520</span>*index, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 修改导航按钮</span></span></span><br><span class="line"><span class="undefined">                            setA();</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;, 2000);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 导航按钮的颜色改变的方法</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">setA</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                     </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 判断当前索引是否是最后一张额外的图片</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(index &gt;= imgArr.length - <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 修改index</span></span></span><br><span class="line"><span class="undefined">                        index = 0;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 通过css将最后一张切换成第一张,通过瞬移实现流畅</span></span></span><br><span class="line"><span class="javascript">                        imgList.style.left = <span class="number">0</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 清空a的内联背景样式,会露出css中的样式</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;allA.length; i++)&#123;</span></span><br><span class="line"><span class="javascript">                        allA[i].style.backgroundColor = <span class="string">""</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 将选中的a设置为黑色</span></span></span><br><span class="line"><span class="javascript">                    allA[index].style.backgroundColor = <span class="string">"black"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"imgList"</span>&gt;</span></span><br><span class="line">        		<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/2.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/3.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/4.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/5.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 最后一张和第一张重复，为了动画效果流畅 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 导航按钮 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"navDiv"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>轮播图演示效果：</p>
<p><img src="/2019/02/08/前端-JavaScript基础-BOM基础/轮播图效果.gif" alt="前端-JavaScript基础-BOM基础/轮播图效果.gif"></p>
<p>轮播图原理演示：</p>
<p><img src="/2019/02/08/前端-JavaScript基础-BOM基础/轮播图原理演示.gif" alt="前端-JavaScript基础-BOM基础/轮播图原理演示.gif"></p>
<hr>
<h3 id="综合案例——二级菜单"><a href="#综合案例——二级菜单" class="headerlink" title="综合案例——二级菜单"></a>综合案例——二级菜单</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/08/前端-JavaScript基础-BOM基础/" data-id="ck1aoo3qi005yj0utdjszz33h" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BOM/">BOM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-浏览器兼容" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/01/前端-浏览器兼容/" class="article-date">
  <time datetime="2019-02-01T07:06:44.000Z" itemprop="datePublished">2019-02-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/01/前端-浏览器兼容/">前端-浏览器兼容</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：</p>
<!-- TOC -->
<ul>
<li><a href="#css透明">CSS透明</a></li>
<li><a href="#html父容器高度塌陷问题">HTML父容器高度塌陷问题</a></li>
<li><a href="#dom操作css获取当前有效样式">DOM操作Css获取当前有效样式</a></li>
<li><a href="#dom事件对象event">DOM事件对象event</a></li>
<li><a href="#dom多事件绑定">DOM多事件绑定</a><ul>
<li><a href="#addeventlistener">addEventListener()</a></li>
<li><a href="#attachevent">attachEvent()</a></li>
<li><a href="#浏览器兼容并统一this">浏览器兼容并统一this</a></li>
</ul>
</li>
<li><a href="#浏览器默认拖拽行为">浏览器默认拖拽行为</a></li>
<li><a href="#dom滚轮事件">DOM滚轮事件</a></li>
</ul>
<!-- /TOC -->
<pre><code>- addEventListener()
- attachEvent()
- 浏览器兼容并统一this
</code></pre><ul>
<li>浏览器默认拖拽行为</li>
<li>DOM滚轮事件</li>
</ul>
<h3 id="CSS透明"><a href="#CSS透明" class="headerlink" title="CSS透明"></a>CSS透明</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在css中设置透明：</span><br><span class="line"></span><br><span class="line">/* 设置透明 */</span><br><span class="line">opacity: 0.5;</span><br><span class="line"></span><br><span class="line">/* 兼容IE透明 */</span><br><span class="line">filter: alpha(opacity = 50);</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="HTML父容器高度塌陷问题"><a href="#HTML父容器高度塌陷问题" class="headerlink" title="HTML父容器高度塌陷问题"></a>HTML父容器高度塌陷问题</h3><p>详细见博客《Html_Css常见问题解决》</p>
<p>即不添加多余的div结构，又要解决高度塌陷问题。使用CSS的方法，通过after伪类，向元素后添加一个空白的块元素，然后清除浮动，实现html方法添加div并设置clear的效果。</p>
<p>关键代码如下，只需要在出现高度塌陷的元素中使用这个类就能实现高度缺陷问题。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.clearfix:after&#123;</span><br><span class="line">    /* 添加一个空的内容 */</span><br><span class="line">    content: "";</span><br><span class="line">    /* 转换为一个块元素，block、table都行 */</span><br><span class="line">    display: block;</span><br><span class="line">    /* 清除浮动 */</span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 兼容IE6 */</span><br><span class="line">.clearfix&#123;</span><br><span class="line">    zoom: 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="DOM操作Css获取当前有效样式"><a href="#DOM操作Css获取当前有效样式" class="headerlink" title="DOM操作Css获取当前有效样式"></a>DOM操作Css获取当前有效样式</h3><p>获取当前有效样式：（只读，不可通过这种方式修改）</p>
<ul>
<li><p>IE8及以上：getComputedStyle(元素, 伪元素(null)).样式名;</p>
<ul>
<li>该方法返回一个对象，对象中封装了当前元素对应的样式，通过.样式名来读取样式。如果获取的样式没有设置，则返回获取到真实的值，而不是auto。</li>
<li>颜色值返回的是rgb值。</li>
</ul>
</li>
<li><p>IE8及以下：元素.currentStyle.样式名;</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/* </span><br><span class="line"> * 兼容IE8及常见浏览器</span><br><span class="line"> * obj：对象</span><br><span class="line"> * name：样式名字符串</span><br><span class="line"> * 返回值： 属性值字符串</span><br><span class="line"> */</span><br><span class="line">function getStyle(obj, name)&#123;</span><br><span class="line">    // 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span><br><span class="line">    if(window.getComputedStyle)&#123;</span><br><span class="line">        // 正常浏览器</span><br><span class="line">        return getComputedStyle(obj, null)[name];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // IE8</span><br><span class="line">        return obj.currentStyle[name];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IE中如果是默认值，会返回auto，所以最好是显示指定默认值。</p>
<hr>
<h3 id="DOM事件对象event"><a href="#DOM事件对象event" class="headerlink" title="DOM事件对象event"></a>DOM事件对象event</h3><p>在IE8中，响应函数被触发时，浏览器不会传递事件对象。在IE8及以下的浏览器中，是将事件对象作为window对象的属性保存的。火狐传递事件对象，不将事件对象保存到window中，所以，IE8与火狐之间发生冲突。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/* 兼容一： */</span><br><span class="line">if(!event)&#123;</span><br><span class="line">    event = window.event;</span><br><span class="line">&#125; </span><br><span class="line">/* 兼容二： */</span><br><span class="line">event = event || window.event;</span><br><span class="line"></span><br><span class="line">var x = event.clientX;</span><br><span class="line">var y = event.clientY;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="DOM多事件绑定"><a href="#DOM多事件绑定" class="headerlink" title="DOM多事件绑定"></a>DOM多事件绑定</h3><p>使用 “对象.事件 = 函数” 的形式绑定响应函数，它只能同时为一个元素的一个事件绑定一个响应函数，如果绑定多个，则后面的会覆盖前面的。</p>
<p>有些时候元素需要一个绑定事件有多个响应函数，可以通过addEventListener()来绑定响应函数。</p>
<p>但是addEventListener()不支持IE8及以下。可以使用attachEvent()来绑定。</p>
<h4 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener()"></a>addEventListener()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素.addEventListener(string，function()&#123;&#125;, false);</span><br></pre></td></tr></table></figure>
<p>addEventListener()中的this，是绑定事件的对象。</p>
<p>效果：元素就能同时绑定多个响应函数，响应函数依次执行，且不会被覆盖。</p>
<p>参数：</p>
<ul>
<li>事件字符串：对应的事件，不要on。如果onclick事件，只填”click”即可。</li>
<li>回调函数：事件触发时该函数会被调用。</li>
<li>是否捕获阶段触发事件，一般都是false。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'1'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'2'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>弹出对话框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="attachEvent"><a href="#attachEvent" class="headerlink" title="attachEvent()"></a>attachEvent()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素.attachEvent(string, function()&#123;&#125;);</span><br></pre></td></tr></table></figure>
<p>attachEvent()中的this，是window。</p>
<p>效果：元素就能同时绑定多个响应函数，响应函数倒序执行，且不会被覆盖。</p>
<p>参数：</p>
<ul>
<li>事件字符串：对应的事件，必须要on。如果onclick事件，填”onclick”。</li>
<li>回调函数：事件触发时该函数会被调用。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.attachEvent(<span class="string">"onlick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'1'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'2'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>弹出对话框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="浏览器兼容并统一this"><a href="#浏览器兼容并统一this" class="headerlink" title="浏览器兼容并统一this"></a>浏览器兼容并统一this</h4><p>这里需要兼容的地方有两个，一个浏览器，一个this。自定义了一bind()函数来兼容。this的兼容需要重点理解。</p>
<html><br>    <head><br>        <meta charset="utf-8"><br>        <title></title><br><br>        <script type="text/javascript"><br><br>            /<em>
             </em> 参数：<br>             <em> obj: 要绑定的事件的对象
             </em> eventStr: 事件的字符串(不要on)<br>             <em> callback: 回调函数
             </em>/<br>            function bind(obj, eventStr, callback){<br>                /*<em>
                 </em> 兼容浏览器<br>                 */<br>                if(obj.addEventListener){<br>                    // 大部分浏览器<br>                    obj.addEventListener(eventStr, callback, false);<br>                } else {<br>                    // IE8及以下浏览器，并在匿名函数中使用回调函数，统一this<br>                    obj.attachEvent(“on” + eventStr, function(){<br>                        // 在匿名函数中调用回调函数<br>                        callback.call(obj);<br>                    });<br>                }<br>            };<br><br>            window.onload = function(){<br>                var btn = document.getElementById(“btn”);<br>                bind(btn, “click”, function(){<br>                    alert(‘1’);<br>                });<br>                bind(btn, “click”, function(){<br>                    alert(‘2’);<br>                })<br><br>            };<br><br>        </script><br>    </head><br>    <body><br>        <button id="btn">弹出对话框</button><br>    </body><br></html>

<h3 id="浏览器默认拖拽行为"><a href="#浏览器默认拖拽行为" class="headerlink" title="浏览器默认拖拽行为"></a>浏览器默认拖拽行为</h3><p>我们拖拽一个网页中的内容时，浏览器会默认去搜索引擎中搜索内容，此时会导致拖拽功能异常。</p>
<ul>
<li>大部分浏览器中，通过return false取消浏览器默认行为。</li>
<li>IE8及以下，通过 “元素.setCapture(); ”事件捕获来实现，需要取消捕获。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">    // 为obj绑定按下事件</span><br><span class="line">    obj.onmousedown = function(event)&#123;</span><br><span class="line"></span><br><span class="line">    //设置obj捕获所有按下事件事件</span><br><span class="line">    /**</span><br><span class="line">     * setCapture()只在IE8及以下支持</span><br><span class="line">     */</span><br><span class="line">    obj.setCapture &amp;&amp; obj.setCapture();</span><br><span class="line"></span><br><span class="line">    // 为document绑定onmousemove事件</span><br><span class="line">    document.onmousemove = function(event)&#123;</span><br><span class="line">        ......</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    // 当鼠标松开时,被拖拽元素固定在当前位置</span><br><span class="line">    // 为document绑定抬起事件,不能给obj</span><br><span class="line">    document.onmouseup = function()&#123;</span><br><span class="line"></span><br><span class="line">        // 取消onmousemove事件</span><br><span class="line">        document.onmousemove = null;</span><br><span class="line">        // 取消onmouseup事件</span><br><span class="line">        document.onmouseup = null;</span><br><span class="line"></span><br><span class="line">        // 取消obj的事件捕获</span><br><span class="line">        obj.releaseCapture &amp;&amp; obj.releaseCapture();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 当我们拖拽一个网页中的内容时，浏览器会默认去搜索引擎中搜索内容，此时会导致拖拽功能异常</span><br><span class="line">     * </span><br><span class="line">     * IE9及以上，通过return false取消浏览器默认行为</span><br><span class="line">     * IE8及以下，通过 元素.setCapture(); 事件捕获来实现，需要取消捕获</span><br><span class="line">     */</span><br><span class="line">    return false;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="DOM滚轮事件"><a href="#DOM滚轮事件" class="headerlink" title="DOM滚轮事件"></a>DOM滚轮事件</h3><p>onmousewheel鼠标滚轮滚动的事件，但是火狐不支持；在火狐中有一个DOMMouseScroll事件，并通过addEventListener()来绑定滚动事件。</p>
<p>判断鼠标滚轮方向：</p>
<ul>
<li>非火狐：event.wheelDelta，向上120,向下-120</li>
<li>火狐：event.detail，向上-3,向下3</li>
</ul>
<p>当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动，取消浏览器滚轮默认行为：</p>
<ul>
<li>使用return false;取消默认行为。</li>
<li>使用addEventListener()方法绑定响应函数，需要使用event.preventDefault();来取消默认行为</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	#box1&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 多事件绑定，浏览器兼容</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, eventStr, callback</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 兼容浏览器</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(obj.addEventListener)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 大部分浏览器</span></span></span><br><span class="line"><span class="javascript">                    obj.addEventListener(eventStr, callback, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// IE8及以下浏览器，并在匿名函数中使用回调函数，统一this</span></span></span><br><span class="line"><span class="javascript">                    obj.attachEvent(<span class="string">"on"</span> + eventStr, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 在匿名函数中调用回调函数</span></span></span><br><span class="line"><span class="undefined">                        callback.call(obj);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 当鼠标滚轮向下滚动时，box1变长，反之变短</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 判断鼠标滚轮方向</span></span><br><span class="line"><span class="undefined">                 * 非火狐：event.wheelDelta，向上120,向下-120</span></span><br><span class="line"><span class="undefined">                 * 火狐：event.detail，向上-3,向下3</span></span><br><span class="line"><span class="undefined">                 */ </span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(event.wheelDelta &gt; <span class="number">0</span> || event.detail &lt; <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    box1.style.height = box1.clientHeight - <span class="number">10</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    box1.style.height = box1.clientHeight + <span class="number">10</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 取消event默认行为</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动</span></span><br><span class="line"><span class="javascript">                 * 使用<span class="keyword">return</span> <span class="literal">false</span>;取消默认行为。</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 但是使用addEventListener()方法绑定响应函数，需要使用event来取消默认行为。</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(event.preventDefault)&#123;</span></span><br><span class="line"><span class="undefined">                    event.preventDefault();</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取box</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为box1绑定一个鼠标滚轮的事件,兼容非火狐浏览器</span></span></span><br><span class="line"><span class="undefined">                box1.onmousewheel = fun;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * onmousewheel鼠标滚轮滚动的事件，但是火狐不支持</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 在火狐中有一个DOMMouseScroll事件，并通过addEventListener()来绑定滚动事件</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                bind(box1, <span class="string">"DOMMouseScroll"</span>, fun);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"height: 2000px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/01/前端-浏览器兼容/" data-id="ck1aoo3hz002zj0uty1unbnv3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/浏览器兼容/">浏览器兼容</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/移动端/">移动端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-JavaScript基础-DOM基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/19/前端-JavaScript基础-DOM基础/" class="article-date">
  <time datetime="2019-01-19T08:21:26.000Z" itemprop="datePublished">2019-01-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/19/前端-JavaScript基础-DOM基础/">JavaScript基础_DOM基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：<br><!-- TOC --></p>
<ul>
<li><a href="#什么是dom">什么是DOM</a></li>
<li><a href="#节点node">节点Node</a></li>
<li><a href="#document对象">document对象</a></li>
<li><a href="#dom对象方法实现增删改查">DOM对象方法实现增删改查</a><ul>
<li><a href="#appendchild-添加子节点">appendChild() 添加子节点</a></li>
<li><a href="#insertbefore-添加子节点">insertbefore() 添加子节点</a></li>
<li><a href="#replacechild-替换子节点">replaceChild() 替换子节点</a></li>
<li><a href="#removechild-删除子节点">removeChild() 删除子节点</a></li>
<li><a href="#parennode-获取父节点">parenNode() 获取父节点</a></li>
<li><a href="#innerhtml-查看修改节点内容">innerHTML() 查看/修改节点内容</a></li>
<li><a href="#折中innerhtmlappendchild添加子节点">折中innerHTML()+appendChild()添加子节点。</a></li>
<li><a href="#综合案例">综合案例</a></li>
</ul>
</li>
<li><a href="#dom操作css">DOM操作Css</a><ul>
<li><a href="#兼容浏览器">兼容浏览器</a></li>
</ul>
</li>
<li><a href="#事件">事件</a><ul>
<li><a href="#常见的事件">常见的事件</a></li>
<li><a href="#事件对象event">事件对象event</a></li>
<li><a href="#event对象常见属性">event对象常见属性</a></li>
<li><a href="#浏览器兼容事件对象event">浏览器兼容事件对象event</a></li>
<li><a href="#事件冒泡bubble">事件冒泡(Bubble)</a></li>
<li><a href="#事件的委派">事件的委派</a></li>
<li><a href="#多个事件的绑定">多个事件的绑定</a><ul>
<li><a href="#addeventlistener">addEventListener()</a></li>
<li><a href="#attachevent">attachEvent()</a></li>
<li><a href="#浏览器兼容并统一this">浏览器兼容并统一this</a></li>
</ul>
</li>
<li><a href="#事件的传播">事件的传播</a></li>
<li><a href="#综合案例鼠标事件之鼠标移动">综合案例——鼠标事件之鼠标移动</a></li>
<li><a href="#综合案例鼠标事件之拖拽">综合案例——鼠标事件之拖拽</a></li>
<li><a href="#综合案例鼠标事件之滚轮">综合案例——鼠标事件之滚轮</a></li>
<li><a href="#综合案例键盘事件">综合案例——键盘事件</a></li>
</ul>
</li>
<li><a href="#类的操作">类的操作</a></li>
<li><a href="#综合案例二级菜单">综合案例——二级菜单</a></li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="什么是DOM"><a href="#什么是DOM" class="headerlink" title="什么是DOM"></a>什么是DOM</h3><p>DOM，由三个字符组成，全称Document Object Model文档对象模型。</p>
<p>JS中通过DOM来对HTML文档进行操作，只要理解了DOM就可以随心所欲的操作WEB页面。</p>
<ul>
<li>文档：文档表示的就是整个HTML网页文档</li>
<li>对象：表示网页中的每一个部分都转换为一个对象</li>
<li>模型：使用模型来表示对象之间的关系，这样方便我们获取对象</li>
</ul>
<p>DOM的模型树：</p>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/DOM-Tree.gif" alt="DOM文档树"></p>
<hr>
<h3 id="节点Node"><a href="#节点Node" class="headerlink" title="节点Node"></a>节点Node</h3><p>节点Node，是否城网页的最基本的组成部分，网页中的每一个部分都称为一个节点，如：html标签、属性、文本、注释、整个文档等。</p>
<p>常用节点分为四类：</p>
<ul>
<li>文档节点：整个HTML文档</li>
<li>元素节点：HTML文档中的标签</li>
<li>属性节点：元素的属性</li>
<li>文本节点：HTML标签中的文本内容</li>
</ul>
<hr>
<h3 id="document对象"><a href="#document对象" class="headerlink" title="document对象"></a>document对象</h3><p>浏览器已经为我们提供文档节点对象，这个对象时window属性，可以在页面中直接使用，文档节点代表的是整个网页。document对象就是我们的文档节点，就是整个网页。</p>
<p>我们可以通过document方法来获取整个网页，然后使用document的方法来控制网页。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">            btn.innerHTML = <span class="string">"I'm button"</span>;       <span class="comment">// 修改btn的内部代码</span></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<font color="red"><br>注意此处的script写的地方，是在body中，button之后。由于浏览器在加载一个页面时，它是按代码自上而下的顺序加载的，如果此处的script写在button之前，script中的代码对象为空，无法加载，会报错。<br><br>如果非要将此处的script代码写在head中，也可以！！！不过需要将这部分代码在onload事件加载整个页面之后再执行。这样，虽然这部分代码被加载了，但是并没有执行，整个页面加载完成之后再执行，此时其中对应的对象就能正常获取了。<br><br>如果是独立的方法则无所谓，因为方法是在<br></font>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;     <span class="comment">// 整个页面加载完成之后执行的代码</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">                btn.innerHTML = <span class="string">"I'm button"</span>;       <span class="comment">// 修改btn的内部代码</span></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="DOM对象方法实现增删改查"><a href="#DOM对象方法实现增删改查" class="headerlink" title="DOM对象方法实现增删改查"></a>DOM对象方法实现增删改查</h3><p>document对象包含的方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>具体描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>getElementById()</td>
<td>根据指定id属性值得到一个元素节点对象</td>
</tr>
<tr>
<td>getElementByName()</td>
<td>根据指定的Name属性值得到一组元素节点对象</td>
</tr>
<tr>
<td>getElementByTagName()</td>
<td>根据指定的标签名得到一组元素节点的对象</td>
</tr>
<tr>
<td>querySelector()</td>
<td>根据css选择器得到一个元素节点对象，支持IE8</td>
</tr>
<tr>
<td>querySelectorAll()</td>
<td>根据css选择器得到一组元素节点对象，支持IE8</td>
</tr>
<tr>
<td>appendChild()</td>
<td>把新的子节点添加到指定节点中</td>
</tr>
<tr>
<td>removeChild()</td>
<td>删除子节点</td>
</tr>
<tr>
<td>replaceChild()</td>
<td>替换子节点</td>
</tr>
<tr>
<td>insertBefore()</td>
<td>在指定的子节点前面插入新的子节点</td>
</tr>
<tr>
<td>createAttribute()</td>
<td>创建属性节点</td>
</tr>
<tr>
<td>createElement()</td>
<td>创建元素节点</td>
</tr>
<tr>
<td>createTextNode()</td>
<td>创建文本节点</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="appendChild-添加子节点"><a href="#appendChild-添加子节点" class="headerlink" title="appendChild() 添加子节点"></a>appendChild() 添加子节点</h4><p>向父节点中添加一个新的子节点。首先必须创建该元素，然后把它追加到已有的元素上，放在最后。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父节点.appendChild(子节点);</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建p标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementP = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建Text文本标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementText = <span class="built_in">document</span>.createTextNode(<span class="string">"123"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将Text文本标签添加到p标签中 */</span></span></span><br><span class="line"><span class="undefined">                newElementP.appendChild(newElementText);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为div1的标签节点 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父节点.appendChild(新节点); */</span></span></span><br><span class="line"><span class="undefined">                div1.appendChild(newElementP);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="insertbefore-添加子节点"><a href="#insertbefore-添加子节点" class="headerlink" title="insertbefore() 添加子节点"></a>insertbefore() 添加子节点</h4><p>在指定的子节点前面插入新的子节点。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建p标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementP = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建Text文本标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementText = <span class="built_in">document</span>.createTextNode(<span class="string">"New paragraph."</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将Text文本标签添加到p标签中 */</span></span></span><br><span class="line"><span class="undefined">                newElementP.appendChild(newElementText);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为p1的标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父容器.insertBrfor(新节点, 指定节点); */</span></span></span><br><span class="line"><span class="undefined">                div1.insertBefore(newElementP, p1);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is first paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is second paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">This is first paragraph.</span><br><span class="line">New paragraph.</span><br><span class="line">This is second paragraph.</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="replaceChild-替换子节点"><a href="#replaceChild-替换子节点" class="headerlink" title="replaceChild() 替换子节点"></a>replaceChild() 替换子节点</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建p标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementP = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建Text文本标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementText = <span class="built_in">document</span>.createTextNode(<span class="string">"New paragraph."</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将Text文本标签添加到p标签中 */</span></span></span><br><span class="line"><span class="undefined">                newElementP.appendChild(newElementText);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为p1的标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父容器.replaceChild(新节点, 旧节点); */</span></span></span><br><span class="line"><span class="undefined">                div1.replaceChild(newElementP, p1);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is first paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is second paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="removeChild-删除子节点"><a href="#removeChild-删除子节点" class="headerlink" title="removeChild() 删除子节点"></a>removeChild() 删除子节点</h4><p>删除指定子节点。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为p1的标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父节点.removeChild(子节点) */</span></span></span><br><span class="line"><span class="undefined">                div1.removeChild(p1);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is first paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is second paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="parenNode-获取父节点"><a href="#parenNode-获取父节点" class="headerlink" title="parenNode() 获取父节点"></a>parenNode() 获取父节点</h4><p>因为节点的增删改都是父节点的属性，因此，为了方便获取某个节点的父节点，就有了通过子节点来查询父节点的操作。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">子节点.parentNode.xxxChild(子节点);</span><br></pre></td></tr></table></figure>
<p>这样要对某个节点进行删除之类的操作，就不同再单独获取它的父节点，就能进行了。</p>
<hr>
<h4 id="innerHTML-查看-修改节点内容"><a href="#innerHTML-查看-修改节点内容" class="headerlink" title="innerHTML() 查看/修改节点内容"></a>innerHTML() 查看/修改节点内容</h4><p>innerHTML()方法可以查看节点的内容，也可以给节点.innerHTML赋值修改内容。所以这种方式也可以实现添加删除的功能，但是动作比较大，有弊端，但是写法比较方便。所以，建议和上面的方法结合使用，而不是全部使用innerHTML方式添加内容。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为p1的标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 查看p1节点的内容 */</span></span></span><br><span class="line"><span class="undefined">                alert(p1.innerHTML);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 修改p1内容 */</span></span></span><br><span class="line"><span class="javascript">                p1.innerHTML = <span class="string">"New paragraph."</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is first paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is second paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="折中innerHTML-appendChild-添加子节点。"><a href="#折中innerHTML-appendChild-添加子节点。" class="headerlink" title="折中innerHTML()+appendChild()添加子节点。"></a>折中innerHTML()+appendChild()添加子节点。</h4><p>使用这种折中的方式实现添加节点，可以减少代码使用量，同时也不会大幅度改变代码。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建p标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementP = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 方法一： */</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建Text文本标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementText = <span class="built_in">document</span>.createTextNode(<span class="string">"New paragraph."</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将Text文本标签添加到p标签中 */</span></span></span><br><span class="line"><span class="undefined">                newElementP.appendChild(newElementText);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 方法二： */</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将新建完的p标签直接使用innerHTML添加文本内容。 */</span></span></span><br><span class="line"><span class="javascript">                newElementP.innerHTML = <span class="string">"New paragraph."</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为div1的标签节点 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父节点.appendChild(新节点); */</span></span></span><br><span class="line"><span class="undefined">                div1.appendChild(newElementP);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h4><p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/综合案例.jpg" alt="综合案例"><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>添加删除记录练习<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css/css.css"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 删除一行的响应函数 */</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">Del</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 删除对应行</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取当前tr，这里只能用this，获取当前的a</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> tr = <span class="keyword">this</span>.parentNode.parentNode;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取名字</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = tr.getElementsByTagName(<span class="string">"td"</span>)[<span class="number">0</span>].innerHTML;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 确认弹出框</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> flag = confirm(<span class="string">"是否确认删除"</span> + name);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 删除</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="undefined">                    tr.parentNode.removeChild(tr);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 取消超链接默认行为</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 添加员工信息 */</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">Add</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取信息</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = <span class="built_in">document</span>.getElementById(<span class="string">"empName"</span>).value;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> email = <span class="built_in">document</span>.getElementById(<span class="string">"email"</span>).value;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> salary = <span class="built_in">document</span>.getElementById(<span class="string">"salary"</span>).value;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// alert(name + "," + email + "," + salary);</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /* 纯DOM方法拼tr，复杂！！！</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 创建四个td</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTdName = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTdEmail = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTdSalary = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newA = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 创建一个a</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 添加td和a中的文本内容</span></span></span><br><span class="line"><span class="undefined">                newTdName.innerHTML = name;</span></span><br><span class="line"><span class="undefined">                newTdEmail.innerHTML = email;</span></span><br><span class="line"><span class="undefined">                newTdSalary.innerHTML = salary;</span></span><br><span class="line"><span class="javascript">                a.innerHTML = <span class="string">"Delete"</span>;</span></span><br><span class="line"><span class="javascript">                a.href = <span class="string">"javascript:;"</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为新加的a绑定删除事件</span></span></span><br><span class="line"><span class="undefined">                a.onclick = Del;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 将a添加到td中</span></span></span><br><span class="line"><span class="undefined">                newA.appendChild(a);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 创建tr，并将td添加到tr中</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTr = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="undefined">                newTr.appendChild(newTdName);</span></span><br><span class="line"><span class="undefined">                newTr.appendChild(newTdEmail);</span></span><br><span class="line"><span class="undefined">                newTr.appendChild(newTdSalary);</span></span><br><span class="line"><span class="undefined">                newTr.appendChild(newA);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">//alert(newTr.innerHTML);</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 结合innerHTML,拼tr字符串,简单</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTr = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">                newTr.innerHTML = <span class="string">"&lt;td&gt;"</span> + name + <span class="string">"&lt;/td&gt;"</span></span></span><br><span class="line"><span class="javascript">                                    + <span class="string">"&lt;td&gt;"</span> + email + <span class="string">"&lt;/td&gt;"</span></span></span><br><span class="line"><span class="javascript">                                    + <span class="string">"&lt;td&gt;"</span> + salary + <span class="string">"&lt;/td&gt;"</span></span></span><br><span class="line"><span class="xml">                                    + "<span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'javascript:;'</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>";</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 给a绑定单击响应函数</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> a = newTr.getElementsByTagName(<span class="string">"a"</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="undefined">                a.onclick = Del;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取table</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> table = <span class="built_in">document</span>.getElementById(<span class="string">"employeeTable"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取tbody</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> tbody = table.getElementsByTagName(<span class="string">"tbody"</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="undefined">                tbody.appendChild(newTr);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> allA = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 给当前的每一个a添加绑定事件 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; allA.length; i++)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 注意for循环的执行和响应函数的执行顺序</span></span></span><br><span class="line"><span class="undefined">                    allA[i].onclick = Del;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 添加员工的功能 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> botton = <span class="built_in">document</span>.getElementById(<span class="string">"addEmpButton"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 绑定点击事件</span></span></span><br><span class="line"><span class="undefined">                botton.onclick = Add;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">"employeeTable"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Salary<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Tom<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>tom@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>5000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Jerry<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>jerry@sohu.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>8000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Bob<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>bob@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>10000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"formDiv"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h4</span>&gt;</span>添加新员工<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>name: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"empName"</span> <span class="attr">id</span>=<span class="string">"empName"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>email: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>salary: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"salary"</span> <span class="attr">id</span>=<span class="string">"salary"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"addEmpButton"</span>&gt;</span></span><br><span class="line">                            Submit</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>可以使用事件委派来完善删除的监听函数。</p>
<hr>
<h3 id="DOM操作Css"><a href="#DOM操作Css" class="headerlink" title="DOM操作Css"></a>DOM操作Css</h3><p>DOM中操作Css规则如下：</p>
<ul>
<li><p>设置内联样式CSS：元素.style.样式名 = “样式值”; </p>
</li>
<li><p>读取内联样式CSS：var a = 元素.style.样式名;       // 如：a = 200px；无法读取style样式表中的样式</p>
</li>
<li><p>获取当前有效样式：（只读，不可通过这种方式修改）</p>
<ul>
<li><p>IE8及以上：getComputedStyle(元素, 伪元素(null)).样式名;<br>  该方法返回一个对象，对象中封装了当前元素对应的样式，通过.样式名来读取样式。如果获取的样式没有设置，则返回获取到真实的值，而不是auto。<br>  颜色值返回的是rgb值。</p>
</li>
<li><p>IE8及以下：元素.currentStyle.样式名;</p>
</li>
</ul>
</li>
<li><p>如果CSS样式名中含有’-‘，如background-color，此时需要将这种有样式名改为驼峰命名法。</p>
</li>
</ul>
<p>我们通过这个方式设置的样式都是内联样式，有较高的优先级，通过JS修改的有样式会立即修改。但是如果在style样式表中写了’!important’，此时JS修改无效。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 200px;</span></span><br><span class="line"><span class="undefined">                height: 200px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /*</span></span><br><span class="line"><span class="undefined">                 * 点击按钮修改box1大小</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取box1</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 绑定单击响应函数</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">"btn01"</span>);</span></span><br><span class="line"><span class="javascript">                btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 修改box1的宽度</span></span></span><br><span class="line"><span class="javascript">                    box1.style.width = <span class="string">"400px"</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    box1.style.backgroundColor = <span class="string">"aqua"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn01"</span>&gt;</span>修改<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>更多详见CSS手册：<a href="http://www.w3school.com.cn/cssref/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/cssref/index.asp</a></p>
<h4 id="兼容浏览器"><a href="#兼容浏览器" class="headerlink" title="兼容浏览器"></a>兼容浏览器</h4><p>从上可以知道，不同浏览器之间不兼容。而且，都写也会报错！！！所以要做到兼容，最好还是自己写。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/* </span><br><span class="line"> * 兼容IE8及常见浏览器</span><br><span class="line"> * obj：对象</span><br><span class="line"> * name：样式名字符串</span><br><span class="line"> * 返回值： 属性值字符串</span><br><span class="line"> */</span><br><span class="line">function getStyle(obj, name)&#123;</span><br><span class="line">    // 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span><br><span class="line">    if(window.getComputedStyle)&#123;</span><br><span class="line">        // 正常浏览器</span><br><span class="line">        return getComputedStyle(obj, null)[name];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // IE8</span><br><span class="line">        return obj.currentStyle[name];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><p>参考文档：<a href="http://www.w3school.com.cn/jsref/dom_obj_event.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_event.asp</a></p>
<p>事件，就是文档或浏览器窗口中发生的一些特定的交互瞬间。JavaScript和HTML之间的交互式通过事件实现的。如，鼠标点击、鼠标移动、关闭窗口等。</p>
<p>我们可以在事件对应的属性中设置一些js代码，这样当事件触发时，这些代码将会执行。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"alert('讨厌,点我干嘛')"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>为了解决结构和行为耦合，可以为按钮的对应事件绑定处理函数来响应事件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>"&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"讨厌,点我干嘛"</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">script|</span> &gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">bod|</span> <span class="attr">y</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="常见的事件"><a href="#常见的事件" class="headerlink" title="常见的事件"></a>常见的事件</h4><table>
<thead>
<tr>
<th>属性</th>
<th>事件发生时间</th>
</tr>
</thead>
<tbody>
<tr>
<td>onabort</td>
<td>图像的加载被中断。</td>
</tr>
<tr>
<td>onblur</td>
<td>元素失去焦点。</td>
</tr>
<tr>
<td>onchange</td>
<td>域的内容被改变。</td>
</tr>
<tr>
<td>onclick</td>
<td>当用户点击某个对象时调用的事件句柄。</td>
</tr>
<tr>
<td>ondblclick</td>
<td>当用户双击某个对象时调用的事件句柄。</td>
</tr>
<tr>
<td>onerror</td>
<td>在加载文档或图像时发生错误。</td>
</tr>
<tr>
<td>onfocus</td>
<td>元素获得焦点。</td>
</tr>
<tr>
<td>onkeydown</td>
<td>某个键盘按键被按下。</td>
</tr>
<tr>
<td>onkeypress</td>
<td>某个键盘按键被按下并松开。</td>
</tr>
<tr>
<td>onkeyup</td>
<td>某个键盘按键被松开。</td>
</tr>
<tr>
<td>onload</td>
<td>一张页面或一幅图像完成加载。</td>
</tr>
<tr>
<td>onmousedown</td>
<td>鼠标按钮被按下。</td>
</tr>
<tr>
<td>onmousemove</td>
<td>鼠标被移动。</td>
</tr>
<tr>
<td>onmouseout</td>
<td>鼠标从某元素移开。</td>
</tr>
<tr>
<td>onmouseover</td>
<td>鼠标移到某元素之上。</td>
</tr>
<tr>
<td>onmouseup</td>
<td>鼠标按键被松开。</td>
</tr>
<tr>
<td>onreset</td>
<td>重置按钮被点击。</td>
<td></td>
</tr>
<tr>
<td>onresize</td>
<td>窗口或框架被重新调整大小。</td>
</tr>
<tr>
<td>onselect</td>
<td>文本被选中。</td>
</tr>
<tr>
<td>onsubmit</td>
<td>确认按钮被点击。</td>
</tr>
<tr>
<td>onunload</td>
<td>用户退出页面。</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="事件对象event"><a href="#事件对象event" class="headerlink" title="事件对象event"></a>事件对象event</h4><p>当事件的响应函数被触发时，浏览器每次都会将一个事件对象作为实参传递进响应函数。在事件对象中封装了当前事件相关的一切信息，如，鼠标坐标、键盘按下、鼠标滚轮滚动方向……</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* 其中event就是事件对象，也可以自命名 */</span><br><span class="line">对象.事件 = function(event)&#123;</span><br><span class="line">    x = event.clientX;      // 通过事件对象中的属性来获取值</span><br><span class="line">    y = event.clientY;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="event对象常见属性"><a href="#event对象常见属性" class="headerlink" title="event对象常见属性"></a>event对象常见属性</h4><table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>altKey</td>
<td>返回当事件被触发时，”ALT” 是否被按下。</td>
</tr>
<tr>
<td>button</td>
<td>返回当事件被触发时，哪个鼠标按钮被点击。</td>
</tr>
<tr>
<td>clientX</td>
<td>返回当事件被触发时，鼠标指针的水平坐标。</td>
</tr>
<tr>
<td>clientY</td>
<td>返回当事件被触发时，鼠标指针的垂直坐标。</td>
</tr>
<tr>
<td>ctrlKey</td>
<td>返回当事件被触发时，”CTRL” 键是否被按下。</td>
</tr>
<tr>
<td>metaKey</td>
<td>返回当事件被触发时，”meta” 键是否被按下。</td>
</tr>
<tr>
<td>relatedTarget</td>
<td>返回与事件的目标节点相关的节点。</td>
</tr>
<tr>
<td>screenX</td>
<td>返回当某个事件被触发时，鼠标指针的水平坐标。</td>
</tr>
<tr>
<td>screenY</td>
<td>返回当某个事件被触发时，鼠标指针的垂直坐标。</td>
</tr>
<tr>
<td>shiftKey</td>
<td>返回当事件被触发时，”SHIFT” 键是否被按下。</td>
</tr>
<tr>
<td>cancelBubble</td>
<td>如果事件句柄想阻止事件传播到包容对象，必须把该属性设为 true。</td>
</tr>
<tr>
<td>fromElement</td>
<td>对于 mouseover 和 mouseout 事件，fromElement 引用移出鼠标的元素。</td>
</tr>
<tr>
<td>keyCode</td>
<td>对于 keypress 事件，该属性声明了被敲击的键生成的 Unicode 字符码.对于 keydown 和 keyup 事件，它指定了被敲击的键的虚拟键盘码。虚拟键盘码可能和使用的键盘的布局相关。</td>
</tr>
<tr>
<td>offsetX,offsetY</td>
<td>发生事件的地点在事件源元素的坐标系统中的 x 坐标和 y 坐标。</td>
</tr>
<tr>
<td>returnValue</td>
<td>如果设置了该属性，它的值比事件句柄的返回值优先级高。把这个属性设置为 fasle，可以取消发生事件的源元素的默认动作。</td>
</tr>
<tr>
<td>srcElement</td>
<td>对于生成事件的 Window 对象、Document 对象或 Element 对象的引用。</td>
</tr>
<tr>
<td>toElement</td>
<td>对于 mouseover 和 mouseout 事件，该属性引用移入鼠标的元素。</td>
</tr>
<tr>
<td>x,y</td>
<td>事件发生的位置的 x 坐标和 y 坐标，它们相对于用CSS动态定位的最内。</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="浏览器兼容事件对象event"><a href="#浏览器兼容事件对象event" class="headerlink" title="浏览器兼容事件对象event"></a>浏览器兼容事件对象event</h4><p>在IE8中，响应函数被触发时，浏览器不会传递事件对象。在IE8及以下的浏览器中，是将事件对象作为window对象的属性保存的。火狐传递事件对象，不将事件对象保存到window中，所以，IE8与火狐之间发生冲突。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/* 兼容一： */</span><br><span class="line">if(!event)&#123;</span><br><span class="line">    event = window.event;</span><br><span class="line">&#125; </span><br><span class="line">/* 兼容二：推荐 */</span><br><span class="line">event = event || window.event;</span><br><span class="line"></span><br><span class="line">var x = event.clientX;</span><br><span class="line">var y = event.clientY;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="事件冒泡-Bubble"><a href="#事件冒泡-Bubble" class="headerlink" title="事件冒泡(Bubble)"></a>事件冒泡(Bubble)</h4><p>所谓的事件冒泡，就是值子元素的向上传导，当后代元素上的事件被触发时，其祖先元素的相同事件也会被触发。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    		<span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">    	        width: 200px;</span></span><br><span class="line"><span class="undefined">    	        height: 200px;</span></span><br><span class="line"><span class="undefined">    	        background-color: yellowgreen;</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#s1</span>&#123;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> s1 = <span class="built_in">document</span>.getElementById(<span class="string">"s1"</span>);</span></span><br><span class="line"><span class="javascript">                s1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'我是span的单击函数'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="javascript">                box1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'我是box的单击函数'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> body = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"body"</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">                body.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'我是body的单击函数'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">    	    &#125;;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line">            我是box1</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"s1"</span>&gt;</span>我是span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 依次弹出span、box、body对话框，其上html和document也会有事件冒泡 --&gt;</span></span><br></pre></td></tr></table></figure>
<p>在开发中，事件冒泡往往是有用的，而小部分时候有无用的或者有害的！这时候就要取消事件冒泡。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> s1 = <span class="built_in">document</span>.getElementById(<span class="string">"s1"</span>);</span></span><br><span class="line"><span class="javascript">            s1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 浏览器兼容</span></span></span><br><span class="line"><span class="javascript">                event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                alert(<span class="string">'我是span的单击函数'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 取消冒泡</span></span></span><br><span class="line"><span class="javascript">                event.cancelBubble = <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 依次弹出span、box、body对话框，其上html和document也会有事件冒泡 --&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="事件的委派"><a href="#事件的委派" class="headerlink" title="事件的委派"></a>事件的委派</h4><p>事件的委派：指将事件统一绑定给元素的共同的祖先元素，这样当后代元素上的事件触发时，会一直冒泡到祖先元素，从而通过祖先元素的响应函数来处理事件。事件委派是利用了冒泡，通过委派可以减少事件绑定的次数，提高程序的性能。</p>
<p>在以前的代码中，点击按钮添加超链接并绑定点击相应函数，当时的那种绑定方法比较麻烦，且性能不佳，这里我们使用事件的委派来实现相同的效果，使得代码效率提升。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                /* </span></span><br><span class="line"><span class="undefined">                 * 为所有超链接保定单击响应函数，这种方法比较麻烦，且性能不好</span></span><br><span class="line"><span class="undefined">                 * 只能绑定当前有的超链接</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> allA = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;allA.length; i++)&#123;</span></span><br><span class="line"><span class="javascript">                    allA[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'a的单击响应函数'</span>)</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                */</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                /* </span></span><br><span class="line"><span class="undefined">                 * 只绑定一次事件，即可应用到多个元素上，即时是后添加的</span></span><br><span class="line"><span class="undefined">                 * 可以尝试将其绑定给元素的共同祖先元素</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                ul.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 如果触发事件的对象是我们期望的元素,则执行</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(event.target.className == <span class="string">"link"</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'我是ul的单击响应函数'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取ul</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> u1 = <span class="built_in">document</span>.getElementById(<span class="string">"ul"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">                btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 创建li </span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> newLi = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span></span><br><span class="line"><span class="xml">                    newLi.innerHTML = "<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'javascript:;'</span> <span class="attr">class</span>=<span class="string">'link'</span>&gt;</span>新建的超链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span>";</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 将li添加到ul中</span></span></span><br><span class="line"><span class="undefined">                    ul.appendChild(newLi);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"link"</span>&gt;</span>超链接一<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"link"</span>&gt;</span>超链接二<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"link"</span>&gt;</span>超链接三<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>添加超链接<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="多个事件的绑定"><a href="#多个事件的绑定" class="headerlink" title="多个事件的绑定"></a>多个事件的绑定</h4><p>使用 “对象.事件 = 函数” 的形式绑定响应函数，它只能同时为一个元素的一个事件绑定一个响应函数，如果绑定多个，则后面的会覆盖前面的。</p>
<p>有些时候元素需要一个绑定事件有多个响应函数，可以通过addEventListener()来绑定响应函数。</p>
<p>但是addEventListener()不支持IE8及以下。可以使用attachEvent()来绑定。</p>
<h5 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener()"></a>addEventListener()</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素.addEventListener(string，function()&#123;&#125;, false);</span><br></pre></td></tr></table></figure>
<p>addEventListener()中的this，是绑定事件的对象。</p>
<p>效果：元素就能同时绑定多个响应函数，响应函数依次执行，且不会被覆盖。</p>
<p>参数：</p>
<ul>
<li>事件字符串：对应的事件，不要on。如果onclick事件，只填”click”即可。</li>
<li>回调函数：事件触发时该函数会被调用。</li>
<li>是否捕获阶段触发事件，一般都是false。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'1'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'2'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>弹出对话框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="attachEvent"><a href="#attachEvent" class="headerlink" title="attachEvent()"></a>attachEvent()</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素.attachEvent(string, function()&#123;&#125;);</span><br></pre></td></tr></table></figure>
<p>attachEvent()中的this，是window。</p>
<p>效果：元素就能同时绑定多个响应函数，响应函数倒序执行，且不会被覆盖。</p>
<p>参数：</p>
<ul>
<li>事件字符串：对应的事件，必须要on。如果onclick事件，填”onclick”。</li>
<li>回调函数：事件触发时该函数会被调用。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.attachEvent(<span class="string">"onlick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'1'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'2'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>弹出对话框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="浏览器兼容并统一this"><a href="#浏览器兼容并统一this" class="headerlink" title="浏览器兼容并统一this"></a>浏览器兼容并统一this</h5><p>这里需要兼容的地方有两个，一个浏览器，一个this。自定义了一bind()函数来兼容。this的兼容需要重点理解。</p>
<html><br>    <head><br>        <meta charset="utf-8"><br>        <title></title><br><br>        <script type="text/javascript"><br><br>            /<em>
             </em> 参数：<br>             <em> obj: 要绑定的事件的对象
             </em> eventStr: 事件的字符串(不要on)<br>             <em> callback: 回调函数
             </em>/<br>            function bind(obj, eventStr, callback){<br>                /*<em>
                 </em> 兼容浏览器<br>                 */<br>                if(obj.addEventListener){<br>                    // 大部分浏览器<br>                    obj.addEventListener(eventStr, callback, false);<br>                } else {<br>                    // IE8及以下浏览器，并在匿名函数中使用回调函数，统一this<br>                    obj.attachEvent(“on” + eventStr, function(){<br>                        // 在匿名函数中调用回调函数<br>                        callback.call(obj);<br>                    });<br>                }<br>            };<br><br>            window.onload = function(){<br>                var btn = document.getElementById(“btn”);<br>                bind(btn, “click”, function(){<br>                    alert(‘1’);<br>                });<br>                bind(btn, “click”, function(){<br>                    alert(‘2’);<br>                })<br><br>            };<br><br>        </script><br>    </head><br>    <body><br>        <button id="btn">弹出对话框</button><br>    </body><br></html>

<hr>
<h4 id="事件的传播"><a href="#事件的传播" class="headerlink" title="事件的传播"></a>事件的传播</h4><p>W3C将事件的传播分成三个阶段：</p>
<ul>
<li>捕获阶段：在捕获阶段时从最外层的祖先元素，向目标元素进行事件的捕获，但是默认此时不会触发事件。</li>
<li>目标阶段：事件捕获到目标元素，捕获结束开始在目标元素上触发事件。</li>
<li>冒泡阶段：事件从目标元素向他的祖先元素传递，依次触发祖先元素上的事件。</li>
</ul>
<p>在IE9之上浏览器中，如果希望在捕获阶段就执行事件，可以将addEventListener()的第三个参数设置为true。一般情况下，我们不会希望在捕获阶段触发事件，所以这个参数一般为false。而在IE8及以下，没有捕获阶段。</p>
<hr>
<h4 id="综合案例——鼠标事件之鼠标移动"><a href="#综合案例——鼠标事件之鼠标移动" class="headerlink" title="综合案例——鼠标事件之鼠标移动"></a>综合案例——鼠标事件之鼠标移动</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        	<span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                height: 200px;</span></span><br><span class="line"><span class="undefined">                width: 200px;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background-color</span>: <span class="selector-id">#87CEEB</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 获取鼠标在box1中的坐标，并在box2中显示出来</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box2 = <span class="built_in">document</span>.getElementById(<span class="string">"box2"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                box1.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 浏览器兼容</span></span></span><br><span class="line"><span class="javascript">                    event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 通过event事件对象获取鼠标坐标</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> x = event.clientX;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> y = event.clientY;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    box2.innerHTML = <span class="string">"x="</span> + x + <span class="string">", y="</span> + y;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>此处忽略鼠标，gif没有弄进去</p>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/move.gif" alt="JavaScript基础-DOM基础/move.gif"></p>
<h4 id="综合案例——鼠标事件之拖拽"><a href="#综合案例——鼠标事件之拖拽" class="headerlink" title="综合案例——鼠标事件之拖拽"></a>综合案例——鼠标事件之拖拽</h4><p>拖拽事件的理解点在于事件对象选用哪个。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        	<span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#box2</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置偏移量 */</span></span></span><br><span class="line"><span class="undefined">                top: 200px;</span></span><br><span class="line"><span class="undefined">                left: 200px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            body&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0px;</span></span><br><span class="line"><span class="undefined">                padding: 0px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 拖拽方法</span></span><br><span class="line"><span class="undefined">             * obj: 要开启拖拽的元素</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">drag</span>(<span class="params">obj</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 拖拽obj元素</span></span><br><span class="line"><span class="undefined">                 * - 拖拽流程</span></span><br><span class="line"><span class="undefined">                 *      1. 当鼠标在被拖拽元素上按下时，开始拖拽</span></span><br><span class="line"><span class="undefined">                 *      2. 当鼠标移动时，被拖拽元素跟随鼠标移动</span></span><br><span class="line"><span class="undefined">                 *      3. 当鼠标松开时，被拖拽元素固定在当前位置</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为obj绑定按下事件</span></span></span><br><span class="line"><span class="javascript">                obj.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">//设置obj捕获所有按下事件事件</span></span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * setCapture()只在IE8及以下支持</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    obj.setCapture &amp;&amp; obj.setCapture();</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 获取div的偏移量</span></span><br><span class="line"><span class="undefined">                     * offsetLeft: 获取的是当前对象左侧距离父对象左侧的值(均不包含border);</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> outLeft = event.clientX - obj.offsetLeft;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> outTop = event.clientY - obj.offsetTop;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 为document绑定onmousemove事件</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 获取鼠标的坐标</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> x = event.clientX;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> y = event.clientY;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 修改obj的位置,需要减去偏移量</span></span></span><br><span class="line"><span class="javascript">                        obj.style.left = x - outLeft + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                        obj.style.top = y - outTop + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 当鼠标松开时,被拖拽元素固定在当前位置</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 为document绑定抬起事件,不能给obj</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.onmouseup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 取消onmousemove事件</span></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 取消onmouseup事件</span></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 取消obj的事件捕获</span></span></span><br><span class="line"><span class="undefined">                        obj.releaseCapture &amp;&amp; obj.releaseCapture();</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 当我们拖拽一个网页中的内容时，浏览器会默认去搜索引擎中搜索内容，此时会导致拖拽功能异常</span></span><br><span class="line"><span class="undefined">                     * </span></span><br><span class="line"><span class="javascript">                     * IE9及以上，通过<span class="keyword">return</span> <span class="literal">false</span>取消浏览器默认行为</span></span><br><span class="line"><span class="undefined">                     * IE8及以下，通过 元素.setCapture(); 事件捕获来实现，需要取消捕获</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取box</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box2 = <span class="built_in">document</span>.getElementById(<span class="string">"box2"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                drag(box1);</span></span><br><span class="line"><span class="undefined">                drag(box2);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/drag.gif" alt="JavaScript基础-DOM基础/drag.gif"></p>
<hr>
<h4 id="综合案例——鼠标事件之滚轮"><a href="#综合案例——鼠标事件之滚轮" class="headerlink" title="综合案例——鼠标事件之滚轮"></a>综合案例——鼠标事件之滚轮</h4><p>onmousewheel鼠标滚轮滚动的事件，但是火狐不支持；在火狐中有一个DOMMouseScroll事件，并通过addEventListener()来绑定滚动事件。</p>
<p>判断鼠标滚轮方向：</p>
<ul>
<li>非火狐：event.wheelDelta，向上120,向下-120</li>
<li>火狐：event.detail，向上-3,向下3</li>
</ul>
<p>当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动，取消浏览器滚轮默认行为：</p>
<ul>
<li>使用return false;取消默认行为。</li>
<li>使用addEventListener()方法绑定响应函数，需要使用event.preventDefault();来取消默认行为</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        	<span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 多事件绑定，浏览器兼容</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, eventStr, callback</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 兼容浏览器</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(obj.addEventListener)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 大部分浏览器</span></span></span><br><span class="line"><span class="javascript">                    obj.addEventListener(eventStr, callback, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// IE8及以下浏览器，并在匿名函数中使用回调函数，统一this</span></span></span><br><span class="line"><span class="javascript">                    obj.attachEvent(<span class="string">"on"</span> + eventStr, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 在匿名函数中调用回调函数</span></span></span><br><span class="line"><span class="undefined">                        callback.call(obj);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 当鼠标滚轮向下滚动时，box1变长，反之变短</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 判断鼠标滚轮方向</span></span><br><span class="line"><span class="undefined">                 * 非火狐：event.wheelDelta，向上120,向下-120</span></span><br><span class="line"><span class="undefined">                 * 火狐：event.detail，向上-3,向下3</span></span><br><span class="line"><span class="undefined">                 */ </span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(event.wheelDelta &gt; <span class="number">0</span> || event.detail &lt; <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    box1.style.height = box1.clientHeight - <span class="number">10</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    box1.style.height = box1.clientHeight + <span class="number">10</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 取消event默认行为</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动</span></span><br><span class="line"><span class="javascript">                 * 使用<span class="keyword">return</span> <span class="literal">false</span>;取消默认行为。</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 但是使用addEventListener()方法绑定响应函数，需要使用event来取消默认行为。</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(event.preventDefault)&#123;</span></span><br><span class="line"><span class="undefined">                    event.preventDefault();</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取box</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为box1绑定一个鼠标滚轮的事件,兼容非火狐浏览器</span></span></span><br><span class="line"><span class="undefined">                box1.onmousewheel = fun;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * onmousewheel鼠标滚轮滚动的事件，但是火狐不支持</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 在火狐中有一个DOMMouseScroll事件，并通过addEventListener()来绑定滚动事件</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                bind(box1, <span class="string">"DOMMouseScroll"</span>, fun);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"height: 2000px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/scroll.gif" alt="JavaScript基础-DOM基础/scroll.gif"></p>
<hr>
<h4 id="综合案例——键盘事件"><a href="#综合案例——键盘事件" class="headerlink" title="综合案例——键盘事件"></a>综合案例——键盘事件</h4><p>键盘事件一般都会绑定给一些可以<font color="red">获取到焦点的对象</font>或者<font color="red">document</font>。给div之类的对象绑定毫无意义，且没有响应！</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 键盘事件：</span></span><br><span class="line"><span class="undefined">                 *  onkeydown：键盘被按下。</span></span><br><span class="line"><span class="undefined">                 *      如果长按，事件会被连续触发。连续触发时，第一次与第二次之间会间隔稍长，之后会非常快，这是为了防止长按误操作！</span></span><br><span class="line"><span class="undefined">                 *  onkeyup：键盘被松开。</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    event = event || event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 通过keyCode属性获取按下的键的unicode编码</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(event.keyCode);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 功能键：</span></span><br><span class="line"><span class="javascript">                     *  altKey: <span class="string">"ALT"</span> 是否被按下，返回boolean值。</span></span><br><span class="line"><span class="javascript">                     *  ctrlKey：<span class="string">"CTRL"</span> 键是否被按下，返回boolean值。</span></span><br><span class="line"><span class="javascript">                     *  shiftKey：<span class="string">"SHIFT"</span> 键是否被按下，返回boolean值。</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(event.keyCode == <span class="number">65</span> &amp;&amp; event.altKey)&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'同时按下a和alt'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>使用键盘按键控制div移动：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    event = event || event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> speed = <span class="number">5</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(event.ctrlKey)&#123;</span></span><br><span class="line"><span class="undefined">                        speed = 10;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 37 左</span></span><br><span class="line"><span class="undefined">                     * 38 上</span></span><br><span class="line"><span class="undefined">                     * 39 又</span></span><br><span class="line"><span class="undefined">                     * 40 下</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">switch</span>(event.keyCode)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">37</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.left = box1.offsetLeft - speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">38</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.top = box1.offsetTop - speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">39</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.left = box1.offsetLeft + speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">40</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.top = box1.offsetTop + speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * bug:</span></span><br><span class="line"><span class="undefined">                     * 这里还有一个小问题，就是长按时候的第一次与第二次间隔稍长。</span></span><br><span class="line"><span class="undefined">                     * 这是浏览器默认行为，需要定时器才能取消。见BOM基础！</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="类的操作"><a href="#类的操作" class="headerlink" title="类的操作"></a>类的操作</h3><p>类的操作，通过修改或者叠加类，可以修改样式，降低代码耦合，提高性能。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        	<span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* height: 200px; */</span></span></span><br><span class="line"><span class="undefined">                width: 200px;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">"btn01"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 有以下两种方式修改box的样式</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 第一种：</span></span><br><span class="line"><span class="undefined">                     *      通过style属性来修改元素的样式，每修改一个样式，浏览器就需要重新渲染一次页面。</span></span><br><span class="line"><span class="undefined">                     *  这样的执行性能比较差，而且这种形式修改多个样式时，不太方便。并且会导致行为与表现的耦合。</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript"><span class="comment">//                     box.style.width = "200px";</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//                     box.style.height = "200px";</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//                     box.style.backgroundColor = "yellow";</span></span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 第二种：</span></span><br><span class="line"><span class="javascript">                     *      修改<span class="class"><span class="keyword">class</span>属性来修改样式，这样一来，只需要修改一次即可修改多个样式，浏览器只需要重新渲染一次页面即可，性能较高。</span></span></span><br><span class="line"><span class="undefined">                     *  并且这种方式可以使表现和行为进一步分离。</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 在类中添加一个类</span></span></span><br><span class="line"><span class="javascript">                    addClass(box, <span class="string">"box2"</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 移除一个类</span></span></span><br><span class="line"><span class="javascript">                    removeClass(box, <span class="string">"box2"</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 切换类</span></span></span><br><span class="line"><span class="javascript">                    toggleClss(box, <span class="string">"box2"</span>);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 添加类</span></span><br><span class="line"><span class="undefined">                     * 参数：</span></span><br><span class="line"><span class="undefined">                     *  obj：对象</span></span><br><span class="line"><span class="undefined">                     *  cn: 类名</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(!hasClass(obj, cn))&#123;</span></span><br><span class="line"><span class="javascript">                            obj.className += <span class="string">" "</span> + cn;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 类去重</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 判断obj中有没有cn这个类</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 使用构造函数拼接动态正则表达式</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span> + cn + <span class="string">"\\b"</span>);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span> reg.test(obj.className);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="javascript">                     * 删除一个元素中指定的<span class="class"><span class="keyword">class</span>属性</span></span></span><br><span class="line"><span class="undefined">                     * 参数：</span></span><br><span class="line"><span class="undefined">                     *  obj：对象</span></span><br><span class="line"><span class="undefined">                     *  cn: 类名</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="keyword">function</span> <span class="title">removeClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 正则表达式</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span> + cn + <span class="string">"\\b"</span>);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 删除class</span></span></span><br><span class="line"><span class="javascript">                        obj.className = obj.className.replace(reg, <span class="string">""</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 切换类</span></span><br><span class="line"><span class="undefined">                     *  如果元素中具有该类，则删除；如果没有则添加</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="keyword">function</span> <span class="title">toggleClss</span>(<span class="params">obj, cn</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 判断是否有cn</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (hasClass(obj, cn)) &#123;</span></span><br><span class="line"><span class="undefined">                        	removeClass(obj, cn)</span></span><br><span class="line"><span class="javascript">                        &#125; <span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="undefined">                        	addClass(obj, cn)</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn01"</span>&gt;</span>点击按钮以后修改box的样式<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="综合案例——二级菜单"><a href="#综合案例——二级菜单" class="headerlink" title="综合案例——二级菜单"></a>综合案例——二级菜单</h3><p>此案例结合类的操作、动画、延时操作等实现。动画、延时操作可见博客“前端-JavaScript基础-BOM基础”，tool工具类见“前端-JavaScript基础-tool工具”。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	* &#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">                list-style-type: none;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            a, img&#123;</span></span><br><span class="line"><span class="undefined">                border: 0;</span></span><br><span class="line"><span class="undefined">                text-decoration: none;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            body&#123;</span></span><br><span class="line"><span class="undefined">                font: 12px/180% "arial, helvetica, sans-serif", "新宋体";</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span>&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0 auto;</span></span><br><span class="line"><span class="undefined">                width: 150px;</span></span><br><span class="line"><span class="undefined">                font-family: Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">                font-size: 12px;</span></span><br><span class="line"><span class="undefined">                background: url(css/bottom.gif) no-repeat right bottom;</span></span><br><span class="line"><span class="undefined">                padding-bottom: 10px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: url(css/title.gif);</span></span><br><span class="line"><span class="undefined">                overflow: hidden;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span><span class="selector-pseudo">:first-child</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: url(css/toptitle.gif) no-repeat;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">span</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">                padding: 5px 10px;</span></span><br><span class="line"><span class="undefined">                font-weight: bold;</span></span><br><span class="line"><span class="undefined">                font-size: 12px;</span></span><br><span class="line"><span class="undefined">                background: url(css/expanded.gif) no-repeat 10px center;</span></span><br><span class="line"><span class="undefined">                padding: 5px 25px;</span></span><br><span class="line"><span class="undefined">                height: 15px;</span></span><br><span class="line"><span class="undefined">                cursor: pointer;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;</span></span><br><span class="line"><span class="undefined">                display: block;</span></span><br><span class="line"><span class="undefined">                line-height: 15px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span><span class="selector-class">.collapsed</span> <span class="selector-tag">span</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: url(css/collapsed.gif) no-repeat 10px center;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line"><span class="undefined">                display: block;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-id">#eee</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;</span></span><br><span class="line"><span class="undefined">                padding: 5px 10px;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#066</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: #066 url(css/linkarrow.gif) no-repeat right center;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span><span class="selector-class">.collapsed</span>&#123;</span></span><br><span class="line"><span class="undefined">                height: 25px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span>   </span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"tool.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 每一个菜单都是一个div</span></span><br><span class="line"><span class="undefined">                 * 当div有collapsed类时，折叠，反之展开</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 点击菜单，切换菜单的显示状态</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取class为menuSpan的元素</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> menuSpan = <span class="built_in">document</span>.querySelectorAll(<span class="string">".menuSpan"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 保存当前打开的菜单</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> openDiv = menuSpan[<span class="number">0</span>].parentNode;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为span绑定菜单点击函数</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;menuSpan.length; i++)&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    menuSpan[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// this代表当前点击的span,获取span的父元素</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> parentDiv = <span class="keyword">this</span>.parentNode;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 切换菜单显示状态</span></span></span><br><span class="line"><span class="undefined">                        toggleMenu(parentDiv);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 为了可以和之前的toggleClass可以使用同一个动画效果,这里不使用用addClass</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 只让toggleClass执行添加的作用,只要不进判断就行了</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(openDiv != parentDiv &amp;&amp; !hasClass(openDiv, <span class="string">"collapsed"</span>))&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 关闭之前打开的菜单</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// addClass(openDiv, "collapsed");</span></span></span><br><span class="line"><span class="undefined">                            toggleMenu(openDiv);</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 更新openDiv</span></span></span><br><span class="line"><span class="undefined">                        openDiv = parentDiv;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 切换菜单的折叠和显示状态</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">toggleMenu</span>(<span class="params">obj</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 切换之前获取元素的高度</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> begin = obj.offsetHeight;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 开/关div</span></span></span><br><span class="line"><span class="javascript">                toggleClass(obj, <span class="string">"collapsed"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 切换之后获取一个高度</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> end = obj.offsetHeight;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// alert(begin + " " + end);</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 动画效果就是从begin到end过度</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 将元素的高度重置到begin,然后添加动画效果</span></span></span><br><span class="line"><span class="javascript">                obj.style.height = begin + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                move(obj, <span class="string">"height"</span>, <span class="number">30</span>, end, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 动画执行完毕，清除内联样式</span></span></span><br><span class="line"><span class="javascript">                    obj.style.height = <span class="string">""</span>;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"my_menu"</span> <span class="attr">class</span>=<span class="string">"sdmenu"</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        		<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第一个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">            	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第二个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">            	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第三个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">            	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第四个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">            	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第五个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>图片资源如下：</p>
<p>bottom.gif：<br><img src="/2019/01/19/前端-JavaScript基础-DOM基础/bottom.gif" alt="JavaScript基础-DOM基础/bottom.gif"></p>
<p>collapsed.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/collapsed.gif" alt="JavaScript基础-DOM基础/collapsed.gif"></p>
<p>expanded.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/expanded.gif" alt="JavaScript基础-DOM基础/expanded.gif"></p>
<p>linkarrow.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/linkarrow.gif" alt="JavaScript基础-DOM基础/linkarrow.gif"></p>
<p>title.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/title.gif" alt="JavaScript基础-DOM基础/title.gif"></p>
<p>toptitle.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/toptitle.gif" alt="JavaScript基础-DOM基础/toptitle.gif"></p>
<p>二级菜单：</p>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/二级菜单.gif" alt="JavaScript基础-DOM基础/二级菜单.gif"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/19/前端-JavaScript基础-DOM基础/" data-id="ck1aoo3vr006uj0utox4eyy87" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DOM/">DOM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端面经" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/01/前端面经/" class="article-date">
  <time datetime="2018-12-31T16:00:00.000Z" itemprop="datePublished">2019-01-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/01/前端面经/">前端面经</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍"></a>自我介绍</h2><p>我叫艾俊豪，21 岁，浙江衢州人，是浙江工业大学之江学院新一届的大四学生。我在大学里的主要以自学和参加比赛为主。大一打基础，我自学 c 、c++、算法，代表学校参加过校级市级省级的编程竞赛。大二以 Java 、安卓方向为主，和同学一起组建了学校的物联网与人工智能协会，并且是学校物联网实验室第一批成员，之后有幸成为项目组长之一，和其他成员组队参加大学生物联网竞赛。大三时候因为个人兴趣我转修 web 前后端，并以前端 vue.js 框架为主，对于 ECharts 、ElementUI 之类的组件库有一定的了解，后端的话有对 node.js 、mysql 和 mongodb 有比较浅薄的认识。到现在我在 web 前端后方面的学习只有十个月左右的时间，算是比较短暂的。大四的话，我希望能找个比较优秀的公司实习来锻炼自己，并且以这种方式提高在 web 方向上的能力。好的，我的自我介绍到此结束。</p>
<h2 id="HTTP-HTML-浏览器"><a href="#HTTP-HTML-浏览器" class="headerlink" title="HTTP/HTML/浏览器"></a>HTTP/HTML/浏览器</h2><h3 id="http和https"><a href="#http和https" class="headerlink" title="http和https"></a>http和https</h3><p><strong>http和https基本概念</strong></p>
<p>​    HTTP：超文本传输协议，是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（TCP），用于从WWW服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。</p>
<p>​    HTTPS：是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL(安全套接层协议)，因此加密的详细内容就需要SSL。</p>
<p>　　HTTPS协议的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。</p>
<p><strong>http和https的区别</strong></p>
<ol>
<li><p>https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。</p>
</li>
<li><p>http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。</p>
</li>
<li><p>http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。</p>
</li>
<li><p>http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。</p>
</li>
</ol>
<h3 id="常见状态码"><a href="#常见状态码" class="headerlink" title="常见状态码"></a>常见状态码</h3><table>
<thead>
<tr>
<th>状态码</th>
<th>响应类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>2xx（3种）</strong></td>
<td>成功状态码</td>
<td>服务器正常处理</td>
</tr>
<tr>
<td>200 OK</td>
<td></td>
<td>请求处理成功并返回</td>
</tr>
<tr>
<td>204 No Content</td>
<td></td>
<td>请求处理成功，但是没有内容返回</td>
</tr>
<tr>
<td>206 Partial Content</td>
<td></td>
<td>客户端进行了范围请求，服务器完成这部分请求</td>
</tr>
<tr>
<td><strong>3xx（5种）</strong></td>
<td>重定向状态码</td>
<td>需要进行额外操作以完成请求</td>
</tr>
<tr>
<td>301 Moved Permanently</td>
<td>永久重定向</td>
<td>表示请求的资源被分配了新的URL，之后应使用更改的URL</td>
</tr>
<tr>
<td>302 Found</td>
<td>临时重定向</td>
<td>表示请求的资源被分配了新的URL，希望本次访问使用新的URL</td>
</tr>
<tr>
<td>303 See Other</td>
<td>临时重定向</td>
<td>与 302 相同，并明确表示客户端应当采用GET方式获取资源</td>
</tr>
<tr>
<td>304 Not Modified</td>
<td>客户端发送附带条件的请求</td>
<td>表示客户端发送附带条件的请求时，服务器端允许访问资源，但是请求为满足条件的情况下返回改状态码</td>
</tr>
<tr>
<td>307 Temporary Redirect</td>
<td>临时重定向</td>
<td>与 302 相同，不会从POST变成GET</td>
</tr>
<tr>
<td><strong>4xx（4种）</strong></td>
<td>客户端错误状态码</td>
<td>客户端原因导致服务器无法处理请求</td>
</tr>
<tr>
<td>400 Bad Request</td>
<td>语法错误</td>
<td>表示请求报文中存在语法或参数错误，服务器不理解</td>
</tr>
<tr>
<td>401 Unanthorized</td>
<td>未经许可</td>
<td>未经许可，需要通过HTTP认证</td>
</tr>
<tr>
<td>403 Forbidden</td>
<td>服务器拒绝</td>
<td>服务器拒绝该次访问（访问权限出现问题）</td>
</tr>
<tr>
<td>404 Not Found</td>
<td>无请求资源</td>
<td>表示服务器上无法找到请求的资源，除此之外，也可以在服务器拒绝请求但不想给拒绝原因</td>
</tr>
<tr>
<td><strong>5xx（2种）</strong></td>
<td>服务器错误状态码</td>
<td>服务器原因导致处理请求出错</td>
</tr>
<tr>
<td>500 Inter Server Error</td>
<td>服务器错误</td>
<td>表示服务器在执行请求时发生了错误，也有可能是web应用存在的bug或某些临时的错误时</td>
</tr>
<tr>
<td>503 Server Unavailable</td>
<td>服务器不可用</td>
<td>表示服务器暂时处于超负载或正在进行停机维护，无法处理请求</td>
</tr>
</tbody>
</table>
<h3 id="web-Storage"><a href="#web-Storage" class="headerlink" title="web Storage"></a>web Storage</h3><p><strong>Web Storage</strong> 提供一种方式，可以让 web 页面实现在客户端浏览器中以键值对的形式在本地保存数据。<code>html5</code> 的 <code>web Storage</code> 提供两种客户端存储方式，即<strong>sessionStorage 和 localStorage</strong> ，其目的是为了克服 <code>Cookie</code> 带来的一些限制。</p>
<h4 id="Cookie-（html4）"><a href="#Cookie-（html4）" class="headerlink" title="Cookie （html4）"></a>Cookie （html4）</h4><p>优点：</p>
<ol>
<li>简单易用。</li>
<li>浏览器负责发送数据。</li>
<li>浏览器自动管理不同站点的 <code>Cookie</code> 。</li>
</ol>
<p>缺点：</p>
<ol>
<li>使用简单的文本存储数据，安全性能差，存储在本地，容易被黑客窃取。</li>
<li>存储大小有限，上限为4kb。</li>
<li>存储 <code>Cookie</code> 的数量有限，多数上限为30到50个，部分可以高达300个。</li>
<li>如果浏览器的安全配置为最高级别，使用 <code>Cookie</code> 会失败。</li>
<li><code>Cookie</code> 会在浏览器和服务器之间来回传递，数据量过大会导致效率低下，并且传输存在安全隐患。</li>
<li>生命周期为当前浏览器关闭之前所有窗口有效。</li>
</ol>
<h4 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h4><p>优点：</p>
<ol>
<li>存储空间大，一般是5MB，不同浏览器会有不同。</li>
<li>有更为丰富的接口，操作更简介。</li>
<li>生命周期为当前浏览器关闭之前所有窗口有效。</li>
<li>保存在客户端，不与服务器进行交互，节省流量，安全性相对较高。</li>
</ol>
<h4 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h4><p>优点：</p>
<ol>
<li>存储空间大，一般是5MB，不同浏览器会有不同。</li>
<li>有更为丰富的接口，操作更简介。</li>
<li>存储在本地单独文件，永久有效，除非主动删除，同源窗口有效。</li>
<li>保存在客户端，不与服务器进行交互，节省流量，安全性相对较高。</li>
</ol>
<h3 id="DOCTYPE-作用"><a href="#DOCTYPE-作用" class="headerlink" title="DOCTYPE 作用"></a>DOCTYPE 作用</h3><p>DOCTYPE声明在文档最前面，告诉浏览器用何种方式来渲染页面。</p>
<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><h3 id="CSS的盒子模型（标准与-IE-）"><a href="#CSS的盒子模型（标准与-IE-）" class="headerlink" title="CSS的盒子模型（标准与 IE ）"></a>CSS的盒子模型（标准与 IE ）</h3><p>标准盒子模型：宽度=内容的宽度（content），border + padding + margin</p>
<p>低版本IE盒子模型：宽度=内容宽度（content+border+padding），margin</p>
<h3 id="box-sizing属性"><a href="#box-sizing属性" class="headerlink" title="box-sizing属性"></a>box-sizing属性</h3><p>用来控制元素的盒子模型的解析模式，默认为 <code>content-box</code></p>
<p><code>content-box</code>：W3C的标准盒子模型，设置元素的 height/width 属性指的是content部分的高/宽。</p>
<p><code>border-box</code>：IE传统盒子模型。设置元素的height/width属性指的是border + padding + content部分的高/宽。</p>
<h3 id="CSS选择器有哪些？哪些属性可以继承？"><a href="#CSS选择器有哪些？哪些属性可以继承？" class="headerlink" title="CSS选择器有哪些？哪些属性可以继承？"></a>CSS选择器有哪些？哪些属性可以继承？</h3><p>CSS选择符：id选择器(#myid)、类选择器(.myclassname)、标签选择器(div,  h1, p)、相邻选择器(h1 + p)、子选择器（ul &gt; li）、后代选择器（li  a）、通配符选择器（*）、属性选择器（a[rel=”external”]）、伪类选择器（a:hover, li:nth-child）</p>
<p>可继承的属性：font-size, font-family, color</p>
<p>不可继承的样式：border, padding, margin, width, height</p>
<h3 id="CSS优先级算法如何计算？"><a href="#CSS优先级算法如何计算？" class="headerlink" title="CSS优先级算法如何计算？"></a>CSS优先级算法如何计算？</h3><p>元素选择符： 1</p>
<p>class选择符： 10</p>
<p>id选择符：100</p>
<p>内联样式：1000</p>
<ol>
<li>!important声明的样式优先级最高，如果冲突再进行计算。</li>
<li>如果优先级相同，则选择最后出现的样式，之前的会被覆盖。</li>
<li>继承得到的样式的优先级最低。</li>
</ol>
<h3 id="CSS3新增伪类有那些"><a href="#CSS3新增伪类有那些" class="headerlink" title="CSS3新增伪类有那些?"></a>CSS3新增伪类有那些?</h3><p>p:first-of-type 选择属于其父元素的首个 <code>p</code> 元素</p>
<p>p:last-of-type 选择属于其父元素的最后一个 <code>p</code> 元素</p>
<p>p:only-of-type 选择属于其父元素唯一的元</p>
<p>p:only-child 选择属于其父元素的唯一子元素</p>
<p>p:nth-child(2) 选择属于其父元素的第二个子元素</p>
<p>:enabled :disabled 表单控件的禁用状态。</p>
<p>:checked 单选框或复选框被选中。</p>
<h3 id="行内元素与块级元素的区别是什么？inline-block-是什么？如何解决-inline-block-的间隔？"><a href="#行内元素与块级元素的区别是什么？inline-block-是什么？如何解决-inline-block-的间隔？" class="headerlink" title="行内元素与块级元素的区别是什么？inline-block 是什么？如何解决 inline-block 的间隔？"></a>行内元素与块级元素的区别是什么？inline-block 是什么？如何解决 inline-block 的间隔？</h3><ol>
<li>行内元素会在一条直线上排列（默认宽度只与内容有关），都是同一行的，水平方向排列；块级元素各占据一行（默认宽度是它本身父容器的100%（和父元素的宽度一致），与内容无关），垂直方向排列。块级元素从新行开始，结束接着一个断行。</li>
</ol>
<p>​    块级元素各占据一行（默认宽度是它本身父容器的100%（和父元素的宽度一致），与内容无关），垂直方向排列。块级元素从新行开始，结束接着一个断行。</p>
<ol start="2">
<li><p>块级元素可以包含行内元素和块级元素。行内元素不能包含块级元素，只能包含文本或者其它行内元素。</p>
</li>
<li><p>行内元素与块级元素属性的不同，主要是盒模型属性上：行内元素设置width无效，height无效(可以设置line-height)，margin上下无效，padding上下无效</p>
</li>
</ol>
<p><strong>inline-block</strong>：行内块元素，（如input、img）既具有 <code>block</code> 块元素可以设置宽高的特性，同时又具有 <code>inline</code> 元素默认不换行的特性。当然不仅仅是这些特性，比如 <code>inline-block</code> 元素也可以设置 vertical-align（因为这个垂直对齐属性只对设置了<strong>inline-block</strong>的元素有效） 属性。<br>HTML 中的换行符、空格符、制表符等合并为空白符，字体大小不为 0 的情况下，空白符自然占据一定的宽度，使用inline-block 会产生元素间的空隙。</p>
<p><code>inline-block</code> 间距解决方法见 <a href="https://www.zhangxinxu.com/wordpress/2012/04/inline-block-space-remove-%e5%8e%bb%e9%99%a4%e9%97%b4%e8%b7%9d/" target="_blank" rel="noopener">张鑫旭幽灵空白节点</a> 。</p>
<h3 id="如何居中div"><a href="#如何居中div" class="headerlink" title="如何居中div"></a>如何居中div</h3><p><a href="https://segmentfault.com/a/1190000016389031" target="_blank" rel="noopener">https://segmentfault.com/a/1190000016389031</a></p>
<h4 id="设置行高"><a href="#设置行高" class="headerlink" title="设置行高"></a>设置行高</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: skyblue;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">text-align</span>: left; <span class="comment">/* 修正文字 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="css-table"><a href="#css-table" class="headerlink" title="css-table"></a>css-table</h4><p>css新增的table属性，可以让我们把普通元素，变为table元素的现实效果，通过这个特性也可以实现水平垂直居中</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: skyblue;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 转化为 table，并设置水平垂直居中 */</span></span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 需要设置子元素为行内块元素 */</span></span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="float-浮动"><a href="#float-浮动" class="headerlink" title="float 浮动"></a>float 浮动</h4><p>浮动只能设置左右浮动，可以在它外面加一层 div 并设置其居中，这样浮动的 div 就会随着外层居中。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: skyblue;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center-box</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">    </span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="absolute-绝对定位"><a href="#absolute-绝对定位" class="headerlink" title="absolute 绝对定位"></a>absolute 绝对定位</h4><p>绝对定位是相对于上一个非 <code>static</code> 的偏移。只要能实现偏移量即可。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: skyblue;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 方法一：absolute + margin auto */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">    </span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 方法二：absolute + 负margin，居中元素定宽高适用  */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">    </span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 方法三：absolute + transform */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">  </span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, -50%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 方法四：absolute + calc()，居中元素定宽高适用 */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">    </span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="built_in">calc</span>(50% - 100px);</span><br><span class="line">  <span class="attribute">top</span>: <span class="built_in">calc</span>(50% - 100px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="flex-弹性盒子"><a href="#flex-弹性盒子" class="headerlink" title="flex 弹性盒子"></a>flex 弹性盒子</h4><p>最简单方便。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">background</span>: skyblue;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="设置行内元素居中"><a href="#设置行内元素居中" class="headerlink" title="设置行内元素居中"></a>设置行内元素居中</h3><p>行内元素不能设置宽高和上下外边距。</p>
<h4 id="一般方法"><a href="#一般方法" class="headerlink" title="一般方法"></a>一般方法</h4><p>设置外部容器，文本居中，行高等于高度。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">  height: <span class="number">200</span>px;</span><br><span class="line">  border: <span class="number">2</span>px solid red;</span><br><span class="line">  text-align: center;</span><br><span class="line">  line-height: <span class="number">200</span>px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.text &#123;</span><br><span class="line">  background: skyblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="转为块元素"><a href="#转为块元素" class="headerlink" title="转为块元素"></a>转为块元素</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: skyblue;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="display-值及作用"><a href="#display-值及作用" class="headerlink" title="display 值及作用?"></a>display 值及作用?</h3><p>inline（默认）–内联</p>
<p>none–隐藏</p>
<p>block–块显示</p>
<p>table–表格显示</p>
<p>list-item–项目列表</p>
<p>inline-block 行内块</p>
<h3 id="position的值？"><a href="#position的值？" class="headerlink" title="position的值？"></a>position的值？</h3><p>static（默认）：按照正常文档流进行排列；</p>
<p>relative（相对定位）：不脱离文档流，参考自身静态位置通过 top, bottom, left, right 定位；</p>
<p>absolute(绝对定位)：参考距其最近一个不为static的父级元素通过top, bottom, left, right 定位；</p>
<p>fixed(固定定位)：所固定的参照对像是可视窗口。</p>
<h3 id="CSS3新特性？"><a href="#CSS3新特性？" class="headerlink" title="CSS3新特性？"></a>CSS3新特性？</h3><ol>
<li>RGBA和透明度</li>
<li>background-image background-origin(content-box/padding-box/border-box) background-size background-repeat</li>
<li>word-wrap（对长的不可分割单词换行）word-wrap：break-word</li>
<li>文字阴影：text-shadow： 5px 5px 5px #FF0000;（水平阴影，垂直阴影，模糊距离，阴影颜色）</li>
<li>font-face属性：定义自己的字体</li>
<li>圆角（边框半径）：border-radius 属性用于创建圆角</li>
<li>边框图片：border-image: url(border.png) 30 30 round</li>
<li>盒阴影：box-shadow: 10px 10px 5px #888888</li>
<li>媒体查询：定义两套css，当浏览器的尺寸变化时会采用不同的属性</li>
</ol>
<h3 id="flexbox（弹性盒布局模型）"><a href="#flexbox（弹性盒布局模型）" class="headerlink" title="flexbox（弹性盒布局模型）"></a>flexbox（弹性盒布局模型）</h3><p><code>Flex Box</code> 弹性盒子，是一种当页面需要适应不同的屏幕大小以及设备类型时确保元素拥有恰当的行为的布局方式。该布局模型的目的是提供一种更加高效的方式来对容器中的条目进行布局、对齐和分配空间。</p>
<p>弹性盒子由弹性容器(Flex container)和弹性子元素(Flex item)组成。弹性容器通过设置 display 属性的值为 flex 或 inline-flex将其定义为弹性容器。弹性容器内包含了一个或多个弹性子元素。</p>
<p><a href="https://www.cnblogs.com/cq-0715/p/10173905.html" target="_blank" rel="noopener">https://www.cnblogs.com/cq-0715/p/10173905.html</a></p>
<h3 id="css-画一个三角形及其原理"><a href="#css-画一个三角形及其原理" class="headerlink" title="css 画一个三角形及其原理"></a>css 画一个三角形及其原理</h3><p>利用 div 边框及设置一边有颜色，其他边透明。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.trianger</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">border-color</span>: transparent <span class="number">#ff0000</span> transparent transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多行元素的文本省略号"><a href="#多行元素的文本省略号" class="headerlink" title="多行元素的文本省略号"></a>多行元素的文本省略号</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">-webkit-box</span>;</span><br><span class="line"><span class="selector-tag">-webkit-box-orient</span>: <span class="selector-tag">vertical</span>;</span><br><span class="line"><span class="selector-tag">-webkit-line-clamp</span>: 3;</span><br><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br></pre></td></tr></table></figure>
<h3 id="设计一个品字布局"><a href="#设计一个品字布局" class="headerlink" title="设计一个品字布局"></a>设计一个品字布局</h3><p>品字布局涉及两个内容，第一行 div 居中，第二行 div 为同一行。</p>
<p>直接使用 flex 布局，设置弹性子元素在主轴线上的排列方式为居中即可。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="undefined">  display: flex;</span></span><br><span class="line"><span class="undefined">  display: -webkit-flex;</span></span><br><span class="line"><span class="undefined">  justify-content: center;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="undefined">  width: 200px;</span></span><br><span class="line"><span class="undefined">  height: 200px;</span></span><br><span class="line"><span class="undefined">  background: skyblue;</span></span><br><span class="line"><span class="undefined">  border: 1px solid;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 第一行 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 第二行 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="常见的浏览器兼容性问题"><a href="#常见的浏览器兼容性问题" class="headerlink" title="常见的浏览器兼容性问题"></a>常见的浏览器兼容性问题</h3><ol>
<li><p>不同浏览器的标签默认的margin和padding不一样。*{margin:0;padding:0;}</p>
</li>
<li><p>IE6双边距bug：块属性标签float后，又有横行的margin情况下，在IE6显示margin比设置的大。hack：display:inline;将其转化为行内属性。</p>
</li>
<li><p>渐进识别的方式，从总体中逐渐排除局部。首先，巧妙的使用“9”这一标记，将IE浏览器从所有情况中分离出来。接着，再次使用“+”将IE8和IE7、IE6分离开来，这样IE8已经独立识别。</p>
 <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="attribute">background-color</span>:<span class="number">#f1ee18</span>;<span class="comment">/*所有识别*/</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">.background-color</span>:<span class="number">#00deff</span>\<span class="number">9</span>; <span class="comment">/*IE6、7、8识别*/</span></span><br><span class="line"></span><br><span class="line">+background-color:#a200ff;/*IE6、7识别*/</span><br><span class="line"></span><br><span class="line">_<span class="selector-tag">background-color</span>:<span class="selector-id">#1e0bd1</span>;<span class="comment">/*IE6识别*/</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置较小高度标签（一般小于10px），在IE6，IE7中高度超出自己设置高度。hack：给超出高度的标签设置overflow:hidden;或者设置行高line-height 小于你设置的高度。</p>
</li>
<li><p>IE下，可以使用获取常规属性的方法来获取自定义属性,也可以使用getAttribute()获取自定义属性；Firefox下，只能使用getAttribute()获取自定义属性。解决方法:统一通过getAttribute()获取自定义属性。</p>
</li>
<li><p>Chrome 中文界面下默认会将小于 12px 的文本强制按照 12px 显示,可通过加入 CSS 属性 -webkit-text-size-adjust: none; 解决。</p>
</li>
<li><p>超链接访问过后hover样式就不出现了，被点击访问过的超链接样式不再具有hover和active了。解决方法是改变CSS属性的排列顺序:L-V-H-A  ( love hate ): a:link {} a:visited {} a:hover {} a:active {}</p>
</li>
</ol>
<h3 id="为什么要初始化CSS样式"><a href="#为什么要初始化CSS样式" class="headerlink" title="为什么要初始化CSS样式"></a>为什么要初始化CSS样式</h3><p>因为浏览器的兼容问题，不同浏览器对有些标签的默认值是不同的，如果没对CSS初始化往往会出现浏览器之间的页面显示差异。</p>
<h3 id="display-none-与-visibility-hidden-与-opacity-0"><a href="#display-none-与-visibility-hidden-与-opacity-0" class="headerlink" title="display: none 与 visibility: hidden 与 opacity: 0"></a>display: none 与 visibility: hidden 与 opacity: 0</h3><p>只影响显示效果，不影响 DOM 节点。</p>
<table>
<thead>
<tr>
<th>样式</th>
<th></th>
<th>是否占据空间</th>
<th>点击事件是否有效</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>display: none</code></td>
<td>改变页面布局，基本相当于删除元素</td>
<td>不占据空间</td>
<td>无效</td>
</tr>
<tr>
<td><code>visibility: hidden</code></td>
<td>隐藏元素，不改变页面布局</td>
<td>仍然占据空间</td>
<td>无效</td>
</tr>
<tr>
<td><code>opacity: 0</code></td>
<td>透明度为 0 的不可见，不改变页面布局</td>
<td>仍然占据空间</td>
<td>仍然有效</td>
</tr>
</tbody>
</table>
<h3 id="16-position跟display、overflow、float这些特性相互叠加后会怎么样？"><a href="#16-position跟display、overflow、float这些特性相互叠加后会怎么样？" class="headerlink" title="16. position跟display、overflow、float这些特性相互叠加后会怎么样？"></a>16. position跟display、overflow、float这些特性相互叠加后会怎么样？</h3><p>display属性规定元素应该生成的框的类型；position属性规定元素的定位类型；float属性是一种布局方式，定义元素在哪个方向浮动。<br>类似于优先级机制：position：absolute/fixed优先级最高，有他们在时，float不起作用，display值需要调整。float 或者absolute定位的元素，只能是块元素或表格。</p>
<h3 id="BFC规范"><a href="#BFC规范" class="headerlink" title="BFC规范"></a>BFC规范</h3><p><a href="https://www.cnblogs.com/chengzp/p/cssbox.html" target="_blank" rel="noopener">https://www.cnblogs.com/chengzp/p/cssbox.html</a></p>
<p>块级格式化上下文：block formatting context</p>
<p>BFC规定了内部的Block Box如何布局。</p>
<p><strong>定位方案</strong>：</p>
<ol>
<li>内部的Box会在垂直方向上一个接一个放置。</li>
<li>Box垂直方向的距离由margin决定，属于同一个BFC的两个相邻Box的margin会发生重叠。</li>
<li>每个元素的margin box 的左边，与包含块border box的左边相接触。</li>
<li>BFC的区域不会与float box重叠。</li>
<li>BFC是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。</li>
<li>计算BFC的高度时，浮动元素也会参与计算。</li>
</ol>
<p><strong>满足下列条件之一就可触发BFC</strong></p>
<ol>
<li>根元素，即html</li>
<li>float的值不为none（默认）</li>
<li>overflow的值不为visible（默认）</li>
<li>display的值为inline-block、table-cell、table-caption</li>
<li>position的值为absolute或fixed</li>
</ol>
<p><strong>当开启元素的BFC以后，元素将会具有如下的特性：</strong></p>
<ol>
<li>父元素的垂直外边距不会和子元素重叠</li>
<li>开启BFC的元素不会被浮动元素所覆盖</li>
<li>开启BFC的元素可以包含浮动的子元素</li>
</ol>
<p><strong>应用场景</strong></p>
<h4 id="浮动造成的父元素高度塌陷"><a href="#浮动造成的父元素高度塌陷" class="headerlink" title="浮动造成的父元素高度塌陷"></a>浮动造成的父元素高度塌陷</h4><p>由于浮动元素不在文档流中，所以文档流的块框表现得就像浮动框不存在一样。浮动元素会漂浮在文档流的块框上。<br>浮动带来的问题：</p>
<ol>
<li>父元素的高度无法被撑开，影响与父元素同级的元素</li>
<li>与浮动元素同级的非浮动元素（内联元素）会跟随其后</li>
<li>若非第一个元素浮动，则该元素之前的元素也需要浮动，否则会影响页面显示的结构。</li>
</ol>
<p>清除浮动的方式：</p>
<ol>
<li>父级div定义height</li>
<li>（BFC）最后一个浮动元素后加空div标签 并添加样式clear:both。</li>
<li>包含浮动元素的父标签添加样式overflow为hidden或auto。</li>
<li>（IE6 只有 hasLayout，沒有 BFC）父级div定义zoom</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">      * &#123;</span></span><br><span class="line"><span class="undefined">        margin: 0;</span></span><br><span class="line"><span class="undefined">        padding: 0;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="undefined">        border: 10px solid red;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="undefined">        width: 500px;</span></span><br><span class="line"><span class="undefined">        height: 200px;</span></span><br><span class="line"><span class="undefined">        background-color: skyblue;</span></span><br><span class="line"><span class="undefined">        float: left;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.clear</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line"><span class="undefined">        content: '';</span></span><br><span class="line"><span class="undefined">        display: block;</span></span><br><span class="line"><span class="undefined">        clear: both;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container clear"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="防止垂直margin重叠"><a href="#防止垂直margin重叠" class="headerlink" title="防止垂直margin重叠"></a>防止垂直margin重叠</h4><p>兄弟元素边距重合。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">      * &#123;</span></span><br><span class="line"><span class="undefined">        margin: 0;</span></span><br><span class="line"><span class="undefined">        padding: 0;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.box1</span> &#123;</span></span><br><span class="line"><span class="undefined">        background: yellow;</span></span><br><span class="line"><span class="undefined">        height: 200px;</span></span><br><span class="line"><span class="undefined">        margin: 20px 0;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.box2</span> &#123;</span></span><br><span class="line"><span class="undefined">        height: 200px;</span></span><br><span class="line"><span class="undefined">        width: 500px;</span></span><br><span class="line"><span class="undefined">        background: skyblue;</span></span><br><span class="line"><span class="undefined">        margin: 20px 0;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 方法一：设置 float 不为 auto */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* float: left; */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* 方法二：设置 position 为 absolute 或者 fixed */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* position: absolute; */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* 方法三：设置 display 为 inline-block、table-cell、table-caption */</span></span></span><br><span class="line"><span class="undefined">        display: inline-block;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>父元素占用子元素边距或者重叠。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">      * &#123;</span></span><br><span class="line"><span class="undefined">        margin: 0;</span></span><br><span class="line"><span class="undefined">        padding: 0;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="undefined">        height: 200px;</span></span><br><span class="line"><span class="undefined">        background-color: skyblue;</span></span><br><span class="line"><span class="undefined">        margin: 20px 0;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="undefined">        width: 100px;</span></span><br><span class="line"><span class="undefined">        height: 100px;</span></span><br><span class="line"><span class="undefined">        background-color: yellow;</span></span><br><span class="line"><span class="undefined">        margin: 20px;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 方法一：设置 float 不为 auto */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* float: left; */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* 方法二：设置 position 为 absolute 或者 fixed */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* position: absolute; */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* 方法三：设置 display 为 inline-block、table-cell、table-caption */</span></span></span><br><span class="line"><span class="undefined">        display: inline-block;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 边距重合，子元素的边距被父元素使用/重叠 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><p>使用 <code>@media</code> 媒体查询，你可以针对不同的媒体类型定义不同的样式。浏览器会根据不同页面大小响应式加载 <code>css</code> 样式。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 同一个css样式表中设置不同的媒体查询*/</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">300px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">body</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>:lightblue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也可以将不同的样式放在不同的css中，在html中导入时使用媒体查询。此时会根据不同的屏幕大小加载不同的css文件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">media</span>=<span class="string">"mediatype and|not|only (media feature)"</span> <span class="attr">href</span>=<span class="string">"mystylesheet.css"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="css预处理器"><a href="#css预处理器" class="headerlink" title="css预处理器"></a>css预处理器</h3><p><code>less</code> <code>sass</code> <code>stylus</code></p>
<p>Less 的基本语法属于「CSS 风格」</p>
<p>Sass、Stylus 相比之下激进一些，利用缩进、空格和换行来减少需要输入的字符</p>
<p>不过区别在于 Sass、Stylus 同时也兼容「CSS 风格」代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* less */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* sass */</span></span><br><span class="line"><span class="selector-class">.box</span></span><br><span class="line">  <span class="selector-tag">display</span>: <span class="selector-tag">block</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">/* stylus */</span></span><br><span class="line"><span class="selector-class">.box</span></span><br><span class="line">  <span class="selector-tag">display</span> <span class="selector-tag">block</span></span><br></pre></td></tr></table></figure>
<p>嵌套语法 &amp;<br>变量 </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">less</span></span><br><span class="line">@red: #000;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">Sass</span></span><br><span class="line">$red: #000</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">stylus</span></span><br><span class="line">$red = #000</span><br></pre></td></tr></table></figure>
<h3 id="在网页中的应该使用奇数还是偶数的字体？为什么呢？"><a href="#在网页中的应该使用奇数还是偶数的字体？为什么呢？" class="headerlink" title="在网页中的应该使用奇数还是偶数的字体？为什么呢？"></a>在网页中的应该使用奇数还是偶数的字体？为什么呢？</h3><p>使用偶数字体。偶数字号相对更容易和 web 设计的其他部分构成比例关系。Windows 自带的点阵宋体（中易宋体）从 Vista 开始只提供 12、14、16 px 这三个大小的点阵，而 13、15、17 px时用的是小一号的点。（即每个字占的空间大了 1 px，但点阵没变），于是略显稀疏。</p>
<h3 id="元素竖向的百分比设定是相对于容器的高度吗？"><a href="#元素竖向的百分比设定是相对于容器的高度吗？" class="headerlink" title="元素竖向的百分比设定是相对于容器的高度吗？"></a>元素竖向的百分比设定是相对于容器的高度吗？</h3><p>当按百分比设定一个元素的宽度时，它是相对于父容器的宽度计算的，但是，对于一些表示竖向距离的属性，例如 padding-top , padding-bottom , margin-top , margin-bottom 等，当按百分比设定它们时，依据的也是父容器的宽度，而不是高度。</p>
<h3 id="全屏滚动的原理是什么？用到了CSS的哪些属性？"><a href="#全屏滚动的原理是什么？用到了CSS的哪些属性？" class="headerlink" title="全屏滚动的原理是什么？用到了CSS的哪些属性？"></a>全屏滚动的原理是什么？用到了CSS的哪些属性？</h3><h3 id="什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE？"><a href="#什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE？" class="headerlink" title="什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE？"></a>什么是响应式设计？响应式设计的基本原理是什么？如何兼容低版本的IE？</h3><p>响应式网站设计(Responsive Web design)是一个网站能够兼容多个终端，而不是为每一个终端做一个特定的版本。</p>
<p>基本原理是通过媒体查询检测不同的设备屏幕尺寸做处理。</p>
<p>页面头部必须有meta声明的viewport。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="视差滚动效果？"><a href="#视差滚动效果？" class="headerlink" title="视差滚动效果？"></a>视差滚动效果？</h3><h3 id="before-和-after中双冒号和单冒号有什么区别？解释一下这2个伪元素的作用"><a href="#before-和-after中双冒号和单冒号有什么区别？解释一下这2个伪元素的作用" class="headerlink" title="::before 和 :after中双冒号和单冒号有什么区别？解释一下这2个伪元素的作用"></a>::before 和 :after中双冒号和单冒号有什么区别？解释一下这2个伪元素的作用</h3><ol>
<li>单冒号(:)用于CSS3伪类，双冒号(::)用于CSS3伪元素。</li>
<li>::before就是以一个子元素的存在，定义在元素主体内容之前的一个伪元素。并不存在于dom之中，只存在在页面之中。</li>
</ol>
<p><code>:before</code> 和 <code>:after</code> 这两个伪元素，是在CSS2.1里新出现的。起初，伪元素的前缀使用的是单冒号语法，但随着Web的进化，在CSS3的规范里，伪元素的语法被修改成使用双c冒号，成为 <code>::before</code> <code>::after</code>。</p>
<p><strong>伪元素：</strong>顾名思义就是生成虚拟节点，在 DOM 树中不会显示生成的节点。</p>
<p><strong>伪类：</strong> 向 DOM 节点元素中添加特殊的效果。</p>
<h3 id="对于-line-height-的理解"><a href="#对于-line-height-的理解" class="headerlink" title="对于 line-height 的理解"></a>对于 line-height 的理解</h3><p>行高是指一行文字的高度，具体说是两行文字间基线的距离。CSS中起高度作用的是 <code>height</code> 和 <code>line-height</code> ，没有定义 <code>height</code> 属性，最终其表现作用一定是 <code>line-height</code>。</p>
<p><strong>单行文本垂直居中</strong>：把 <code>line-height</code> 值设置为 <code>height</code> 一样大小的值可以实现单行文字的垂直居中，其实也可以把 <code>height</code> 删除。</p>
<p><strong>多行文本垂直居中</strong>：需要设置 <code>display</code> 属性为 <code>inline-block</code> 。</p>
<h3 id="怎么让Chrome支持小于12px-的文字？"><a href="#怎么让Chrome支持小于12px-的文字？" class="headerlink" title="怎么让Chrome支持小于12px 的文字？"></a>怎么让Chrome支持小于12px 的文字？</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">10px</span>;</span><br><span class="line">    -webkit-transform:scale(0.8);	//0.8是缩放比例</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="position-fixed-在android下无效怎么处理？"><a href="#position-fixed-在android下无效怎么处理？" class="headerlink" title="position:fixed;在android下无效怎么处理？"></a>position:fixed;在android下无效怎么处理？</h3><p>添加响应式布局。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="手动写动的最小时间间隔是多久，为什么？"><a href="#手动写动的最小时间间隔是多久，为什么？" class="headerlink" title="手动写动的最小时间间隔是多久，为什么？"></a>手动写动的最小时间间隔是多久，为什么？</h3><p>多数显示器默认频率是60Hz，即1秒刷新60次，所以理论上最小间隔为1/60＊1000ms ＝ 16.7ms。</p>
<p>部分显示器频率可以略有提高，大概在 75Hz - 85Hz 之间。最小间隔在11.7 到 13.3 之间。</p>
<h3 id="有一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度"><a href="#有一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度" class="headerlink" title="有一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度"></a>有一个高度自适应的div，里面有两个div，一个高度100px，希望另一个填满剩下的高度</h3><p>使用 <code>flex</code> 布局，一个 <code>div</code> 设置最小宽度 <code>min-width</code> ，自适应 <code>div</code> 宽度高度都设置百分百就能实现自动填充，并且不存在脱离文档流问题。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">      <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="undefined">        height: 100px;</span></span><br><span class="line"><span class="undefined">        border: 2px solid red;</span></span><br><span class="line"><span class="undefined">        display: flex;</span></span><br><span class="line"><span class="undefined">        display: -webkit-flex;</span></span><br><span class="line"><span class="undefined">        justify-content: space-between;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="undefined">        min-width: 300px;</span></span><br><span class="line"><span class="undefined">        height: 100px;</span></span><br><span class="line"><span class="undefined">        background-color: skyblue;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.box1</span> &#123;</span></span><br><span class="line"><span class="undefined">        height: 100%;</span></span><br><span class="line"><span class="undefined">        width: 100%;</span></span><br><span class="line"><span class="undefined">        background-color: yellow;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container clearfix"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="png、jpg、gif-这些图片格式解释一下，分别什么时候用。有没有了解过webp？"><a href="#png、jpg、gif-这些图片格式解释一下，分别什么时候用。有没有了解过webp？" class="headerlink" title="png、jpg、gif 这些图片格式解释一下，分别什么时候用。有没有了解过webp？"></a>png、jpg、gif 这些图片格式解释一下，分别什么时候用。有没有了解过webp？</h3><ol>
<li><code>png</code> 是便携式网络图片（Portable Network Graphics）是一种<strong>无损数据压缩</strong>位图文件格式.优点是：压缩比高，色彩好。 大多数地方都可以用。</li>
<li><code>jpg</code> 是一种针对相片使用的一种<strong>失真压缩</strong>方法，是一种破坏性的压缩，在色调及颜色平滑变化做的不错。在www上，被用来储存和传输照片的格式。</li>
<li><code>gif</code> 是一种位图文件格式，以8位色重现真色彩的图像。可以实现动画效果.</li>
<li><code>webp</code> 格式是谷歌在2010年推出的图片格式，压缩率只有jpg的2/3，大小比png小了45%。缺点是压缩的时间更久了，兼容性不好，目前谷歌和opera支持。</li>
</ol>
<h3 id="style标签写在body后与body前有什么区别？"><a href="#style标签写在body后与body前有什么区别？" class="headerlink" title="style标签写在body后与body前有什么区别？"></a>style标签写在body后与body前有什么区别？</h3><p>页面加载自上而下 当然是先加载样式。</p>
<p>写在body标签后由于浏览器以逐行方式对HTML文档进行解析，当解析到写在尾部的样式表（外联或写在style标签）会导致浏览器停止之前的渲染，等待加载且解析样式表完成之后重新渲染，在windows的IE下可能会出现FOUC现象（即样式失效导致的页面闪烁问题）</p>
<h3 id="CSS属性overflow属性定义溢出元素内容区的内容会如何处理"><a href="#CSS属性overflow属性定义溢出元素内容区的内容会如何处理" class="headerlink" title="CSS属性overflow属性定义溢出元素内容区的内容会如何处理?"></a>CSS属性overflow属性定义溢出元素内容区的内容会如何处理?</h3><p>参数是scroll时候，必会出现滚动条。</p>
<p>参数是auto时候，子元素内容大于父元素时出现滚动条。</p>
<p>参数是visible时候，溢出的内容出现在父元素之外。</p>
<p>参数是hidden时候，溢出隐藏。</p>
<h3 id="CSS-Sprites-雪碧图"><a href="#CSS-Sprites-雪碧图" class="headerlink" title="CSS Sprites 雪碧图"></a>CSS Sprites 雪碧图</h3><p>将一个页面涉及到的所有图片都包含到一张大图中去，然后利用CSS的  background-image，background- repeat，background-position 的组合进行背景定位。利用CSS  Sprites能很好地减少网页的http请求，从而大大的提高页面的性能；CSS Sprites能减少图片的字节。</p>
<h3 id="矢量图"><a href="#矢量图" class="headerlink" title="矢量图"></a>矢量图</h3><ol>
<li>文件小,图像中保存的是线条和图块的信息，所以矢量图形文件与分辨率和图像大小无关,只与图像的复杂程度有关,图像文件所占的存储空间较小 </li>
<li>图像可以无级缩放，对图形进行缩放,旋转或变形操作时,图形不会产生锯齿效果 </li>
<li>可采取高分辨率印刷，矢量图形文件可以在任何输出设备打印机上以打印或印刷的最高分辨率进行打印输出.   </li>
</ol>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="javascript数据类型"><a href="#javascript数据类型" class="headerlink" title="javascript数据类型"></a>javascript数据类型</h3><p>基本类型（6种）：string，boolean，number，undefined，symbol，null</p>
<p>引用类型（3种）：object，function， array</p>
<p>typeof 返回值（7种）：string，boolean，number，undefined，symbol，object，function</p>
<p>其他类型的 typeof 返回值：null =&gt; object，array =&gt; object</p>
<h3 id="js判断数据类型的方法"><a href="#js判断数据类型的方法" class="headerlink" title="js判断数据类型的方法"></a>js判断数据类型的方法</h3><ol>
<li><p><strong>typeof</strong>：typeof 是一个操作符，其右侧跟一个一元表达式，并返回这个表达式的数据类型。返回的结果用该类型的字符串(全小写字母)形式表示，包括以下 7<br> 种：number、boolean、symbol、string、object、undefined、function 等。</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="string">''</span>; <span class="comment">// string 有效</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">1</span>; <span class="comment">// number 有效</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">Symbol</span>(); <span class="comment">// symbol 有效</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span>; <span class="comment">//boolean 有效</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>; <span class="comment">//undefined 有效</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>; <span class="comment">//object 无效</span></span><br><span class="line"><span class="keyword">typeof</span> [] ; <span class="comment">//object 无效</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Function</span>(); <span class="comment">// function 有效</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Date</span>(); <span class="comment">//object 无效</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>(); <span class="comment">//object 无效</span></span><br></pre></td></tr></table></figure>
<p> 对于基本类型，除 null 以外，均可以返回正确的结果，null ，返回 object 类型。</p>
<p> 对于引用类型，除 function 以外，一律返回 object 类型，function 返回  function 类型。</p>
</li>
<li><p><strong>instanceof</strong>：instanceof 是用来判断 A 是否为 B 的实例，表达式为：A instanceof B，如果 A 是 B 的实例，则返回 true，否则返回 false。 在这里需要特别注意的是：<strong>instanceof 检测的是原型</strong>。</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// true</span></span><br><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Object</span>; <span class="comment">// true</span></span><br><span class="line">&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Object</span>;<span class="comment">// true</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>() <span class="keyword">instanceof</span> <span class="built_in">Date</span>;<span class="comment">// true</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">new</span> Person() <span class="keyword">instanceof</span> Person;<span class="comment">// true</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>() <span class="keyword">instanceof</span> <span class="built_in">Object</span>;<span class="comment">// true</span></span><br><span class="line"><span class="keyword">new</span> Person <span class="keyword">instanceof</span> <span class="built_in">Object</span>;<span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p> <code>[ ].__proto__</code>  指向 <code>Array.prototype</code>，而 <code>Array.prototype.__proto__</code>  又指向了<code>Object.prototype</code> ，最终 <code>Object.prototype.__proto__</code> 指向了 <code>null</code> ，标志着原型链的结束。</p>
</li>
<li><p><strong>constructor</strong>：当一个函数 F 被定义时，JS引擎会为F添加 prototype 原型，然后再在 prototype上添加一个 constructor 属性，并让其指向 F 的引用。可以看出，F 利用原型对象上的 constructor 引用了自身，当 F 作为构造函数来创建对象时，原型上的 constructor<br> 就被遗传到了新创建的对象上， 从原型链角度讲，构造函数 F 就是新对象的类型。这样做的意义是，让新对象在诞生以后，就具有可追溯的数据类型。</p>
</li>
<li><p><strong>toString</strong></p>
<p> toString() 是 Object 的原型方法，调用该方法，默认返回当前对象的 [[Class]] 。这是一个内部属性，其格式为 [object Xxx] ，其中 Xxx 就是对象的类型。</p>
<p> 对于 Object 对象，直接调用 toString()  就能返回 [object Object] 。而对于其他对象，则需要通过 call / apply 来调用才能返回正确的类型信息。</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#125;.toString();	<span class="comment">// [object Object]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="string">''</span>) ;   <span class="comment">// [object String]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="number">1</span>) ;    <span class="comment">// [object Number]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">true</span>) ; <span class="comment">// [object Boolean]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">Symbol</span>()); <span class="comment">//[object Symbol]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">undefined</span>) ; <span class="comment">// [object Undefined]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">null</span>) ; <span class="comment">// [object Null]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Function</span>()) ; <span class="comment">// [object Function]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Date</span>()) ; <span class="comment">// [object Date]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call([]) ; <span class="comment">// [object Array]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">RegExp</span>()) ; <span class="comment">// [object RegExp]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Error</span>()) ; <span class="comment">// [object Error]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">document</span>) ; <span class="comment">// [object HTMLDocument]</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">window</span>) ; <span class="comment">//[object global] window 是全局对象 global 的引用</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="强制类型转换和隐式类型转换"><a href="#强制类型转换和隐式类型转换" class="headerlink" title="强制类型转换和隐式类型转换?"></a>强制类型转换和隐式类型转换?</h3><ol>
<li><p>强制类型转换：类型转换函数或者是构造方法。</p>
<p> parseInt()、parseFloat()、toString()、String()、Number()、Boolean()</p>
</li>
<li><p>隐式类型转换：运算符！！！</p>
<ul>
<li>转成 <code>String</code> 类型：<code>+</code> (字符串连接符)</li>
<li>转成 <code>number</code> 类型：<code>++</code> / <code>--</code> 自增自减运算符、 <code>+</code> /  <code>-</code> / <code>*</code> /  <code>/</code> / <code>%</code> (加减乘除模，算数运算符) 、<code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>&lt;=</code> <code>==</code> <code>!=</code> <code>===</code> <code>!===</code> (关系运算符) <ul>
<li>转成 <code>boolean</code> 类型：<code>!</code>（逻辑非运算符）</li>
</ul>
</li>
</ul>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> + <span class="string">'true'</span>)     <span class="comment">// 1true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> + <span class="literal">true</span>)       <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> + <span class="literal">undefined</span>)  <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> + <span class="literal">null</span>)       <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1'</span> &gt; <span class="number">10</span>)       <span class="comment">// false， 1 &gt; 10 错误</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1'</span> + <span class="string">'10'</span>)     <span class="comment">// true，比较字符串</span></span><br></pre></td></tr></table></figure>
<h3 id="let-var的区别"><a href="#let-var的区别" class="headerlink" title="let,var的区别"></a>let,var的区别</h3><ul>
<li><code>let</code> 有块级作用域，即大括号范围内有效，并且存在暂时性死区。<code>var</code> 只有函数作用域和全局作用域。</li>
<li><code>var</code> 存在变量提升。<code>let</code> 不存在变量提升，只能先声明后使用。</li>
<li><code>let</code> 不允许重复声明，会报错。</li>
</ul>
<h3 id="0-1-0-2-0-3-原因，如何解决浮点误差相等？"><a href="#0-1-0-2-0-3-原因，如何解决浮点误差相等？" class="headerlink" title="0.1 + 0.2 != 0.3 原因，如何解决浮点误差相等？"></a>0.1 + 0.2 != 0.3 原因，如何解决浮点误差相等？</h3><p>原因：计算机采用二进制存储，并且存在长度限制，浮点数的小数部分最多支持 52 位，超过就会舍弃。</p>
<h4 id="浮点数相等判断"><a href="#浮点数相等判断" class="headerlink" title="浮点数相等判断"></a>浮点数相等判断</h4><p>利用 ES6 提供的 <code>Number.EPSILON</code> 极小常量（计算机计算好的无限趋近0的数），如果差值的绝对值小于这个极小常量，那么可以认为是相等的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.abs(<span class="number">0.1</span> + <span class="number">0.2</span> - <span class="number">0.3</span>) &lt; <span class="built_in">Number</span>.EPSILON);		<span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果这个误差小于极小常量，则认为近似相等。</span></span><br></pre></td></tr></table></figure>
<h4 id="浮点数四则运算"><a href="#浮点数四则运算" class="headerlink" title="浮点数四则运算"></a>浮点数四则运算</h4><ol>
<li>把需要计算的数字升级（乘以10的n次幂）成计算机能够精确识别的整数，等计算完毕再降级（除以10的n次幂），这是大部分编程语言处理精度差异的通用方法。 </li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log((<span class="number">0.1</span> * <span class="number">10</span> + <span class="number">0.2</span> * <span class="number">10</span>)/<span class="number">10</span> === <span class="number">0.3</span>);		<span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li><p>使用 <code>toFixed()</code> 进行四舍五入计算并指定要保留的小数位数，这种方法也不是很精准，对于计算金额这种严谨的问题，不推荐使用，而且不通浏览器对toFixed的计算结果也存在差异。</p>
 <font color="red">toFixed() 返回值数据类型是 String ！！！不能用 ‘=== ’全等运算符比较</font>

</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log((<span class="number">0.1</span> + <span class="number">0.2</span>).toFixed(<span class="number">1</span>) == <span class="number">0.3</span>);		<span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="split-join-的区别"><a href="#split-join-的区别" class="headerlink" title="split() join() 的区别"></a>split() join() 的区别</h3><p>前者是将字符串切割成数组的形式，后者是将数组拼接成字符串。</p>
<h3 id="pop-push-unshift-shift"><a href="#pop-push-unshift-shift" class="headerlink" title="pop() push() unshift() shift()"></a>pop() push() unshift() shift()</h3><p>push()尾部添加 、pop()尾部删除<br> 、unshift()头部添加 、shift()头部删除</p>
<h3 id="ajax请求的时候get-和post方式的区别"><a href="#ajax请求的时候get-和post方式的区别" class="headerlink" title="ajax请求的时候get 和post方式的区别"></a>ajax请求的时候get 和post方式的区别</h3><p><code>get</code> 请求参数在 <code>url</code> 后面 ，浏览器或 <code>web</code> 服务器限制 <code>url</code> 长度，所以 <code>get</code> 只能提交少量参数，请求数据。</p>
<p><code>post</code> 请求参数放在虚拟载体里面，较安全，提交数据较多，提交数据。</p>
<h3 id="call-、apply-、bind-异同"><a href="#call-、apply-、bind-异同" class="headerlink" title="call()、apply()、bind() 异同"></a>call()、apply()、bind() 异同</h3><p>同：都是改变 <code>this</code> 指向。</p>
<p>异：</p>
<ul>
<li><code>call()</code> 、<code>apply()</code> 绑定后立即执行函数，<code>bind()</code> 返回一个改变 <code>this</code> 指向后的新函数，不立即执行。</li>
<li><code>call()</code> 、<code>bind()</code> 第一个参数是需要指向的对象，之后是参数列表。<code>apply()</code> 第一个参数是需要指向的对象，第二参数是 arguments 数组。</li>
</ul>
<h3 id="JS-中的各种位置、宽高"><a href="#JS-中的各种位置、宽高" class="headerlink" title="JS 中的各种位置、宽高"></a>JS 中的各种位置、宽高</h3><table>
<thead>
<tr>
<th>属性</th>
<th>简述</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>scrollTop</td>
<td>元素内容垂直滚动的顶部被隐藏高度</td>
<td>可读可写</td>
</tr>
<tr>
<td>scrollHeight</td>
<td>元素内容的完整高度</td>
<td>只读</td>
</tr>
<tr>
<td>clientTop</td>
<td>边框 border 的厚度，必要时需要加滚动条厚度</td>
<td>只读</td>
</tr>
<tr>
<td>clientHeight</td>
<td>元素内容的高度，<code>content</code> + <code>padding</code></td>
<td>只读</td>
</tr>
<tr>
<td>offsetTop</td>
<td></td>
<td>只读</td>
</tr>
<tr>
<td>offsetHeight</td>
<td><code>content</code> 、 <code>padding</code> 、 <code>border</code> 和滚动条高度（火狐、IE下默认为17px），不包括 <code>margin</code>。</td>
<td>只读</td>
</tr>
</tbody>
</table>
<h4 id="Element-scrollTop（同理有-Element-scrollLeft）"><a href="#Element-scrollTop（同理有-Element-scrollLeft）" class="headerlink" title="Element.scrollTop（同理有 Element.scrollLeft）"></a>Element.scrollTop（同理有 Element.scrollLeft）</h4><ul>
<li>读写：可读可写</li>
<li>功能：<code>Element.scrollTop</code> 属性可以设置或者获取一个元素的内容垂直滚动的高度。</li>
<li>描述：一个元素的 <code>scrollTop</code> 值是这个元素的顶部到可视窗口顶部距离的度量。当一个元素的容器没有产生垂直方向的滚动条,那它的 <code>scrollTop</code> 的值默认为0。</li>
<li>经典案例：1. 返回顶部。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">topFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="built_in">document</span>.body.scrollTop = <span class="number">0</span></span><br><span class="line"> <span class="built_in">document</span>.documentElement.scrollTop = <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Element-scrollHeight（同理有-Element-scrollWidth）"><a href="#Element-scrollHeight（同理有-Element-scrollWidth）" class="headerlink" title="Element.scrollHeight（同理有 Element.scrollWidth）"></a>Element.scrollHeight（同理有 Element.scrollWidth）</h4><ul>
<li>读写：只读</li>
<li>功能：<code>Element.scrollHeight</code> 属性可以获取一个元素内容的完整高度，包括溢出导致的视图中不可见内容。</li>
<li>描述：<code>scrollHeight</code> 的值等于该元素在不使用滚动条的情况下为了适应视口中所用内容所需的最小高度。 没有垂直滚动条的情况下，<code>scrollHeight</code> 值与元素视图填充所有内容所需要的最小值 <code>clientHeight</code> 相同。包括元素的 <code>padding</code>，但不包括元素的 <code>border</code> 和 <code>margin</code> 。<code>scrollHeight</code> 也包括 <code>::before</code> 和 <code>::after</code> 这样的伪元素。</li>
<li><strong>备注：</strong>此属性将会对值四舍五入取整。如果需要小数值，使用 <code>Element.getBoundingClientRect()</code> 。</li>
</ul>
<h4 id="Element-clientTop（同理有-Element-clientLeft）"><a href="#Element-clientTop（同理有-Element-clientLeft）" class="headerlink" title="Element.clientTop（同理有 Element.clientLeft）"></a>Element.clientTop（同理有 Element.clientLeft）</h4><ul>
<li>读写：只读</li>
<li>描述：<code>Element.clientTop</code> 属性可以获取一个元素顶部边框的宽度，即盒模型的 <code>border</code> 像素值，如果存在滚动条，则需要加上该边滚动条高度。</li>
</ul>
<h4 id="Element-clientHeight"><a href="#Element-clientHeight" class="headerlink" title="Element.clientHeight"></a>Element.clientHeight</h4><ul>
<li>读写：只读，整数</li>
<li>功能：<code>Element.clientHeight</code> 属性可以获取一个元素内容的高度，<strong>包括</strong> <code>content</code> 和 <code>padding</code> ，<strong>不包括</strong> <code>border</code> 、<code>margin</code> 和滚动条高度（火狐、IE下默认为17px）。</li>
<li>描述：<code>clientHeight</code> 可以通过标准盒模型 <code>contente</code> + <code>padding</code> - <code>滚动条宽高</code> 来计算</li>
<li><strong>备注:</strong> 此属性会将获取的值四舍五入取整数。 如果你需要小数结果, 请使用 <code>element.getBoundingClientRect()</code> 。</li>
</ul>
<h4 id="Element-offsetTop"><a href="#Element-offsetTop" class="headerlink" title="Element.offsetTop"></a>Element.offsetTop</h4><ul>
<li>读写：只读</li>
<li>描述：<code>Element.offsetTop</code> </li>
</ul>
<h4 id="Element-offsetHeight"><a href="#Element-offsetHeight" class="headerlink" title="Element.offsetHeight"></a>Element.offsetHeight</h4><ul>
<li>读写：只读，整数</li>
<li>功能：<code>Element.offsetHeight</code> 属性可以获取一个元素的高度，<strong>包括</strong> <code>content</code> 、 <code>padding</code> 、 <code>border</code> 和滚动条高度（火狐、IE下默认为17px），不包括 <code>margin</code>。</li>
<li>描述：通常，元素的 <code>offsetHeight</code> 是一种元素CSS高度的衡量标准，包括元素的边框、内边距和元素的水平滚动条（如果存在且渲染的话），不包含 <code>:before</code> 或 <code>:after</code> 等伪类元素的高度。</li>
<li><strong>备注：</strong>这个属性值会被四舍五入为整数值，如果你需要一个浮点数值，请用 <code>element.getBoundingClientRect()</code> 。</li>
</ul>
<h3 id="设置滚动条样式"><a href="#设置滚动条样式" class="headerlink" title="设置滚动条样式"></a>设置滚动条样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">垂直滚动条</span><br><span class="line"></span><br><span class="line"><span class="comment">/*定义滚动条样式（高宽及背景）*/</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>; <span class="comment">/* 滚动条宽度， width：对应竖滚动条的宽度  height：对应横滚动条的高度*/</span></span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义滑块样式*/</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/weixin_39003573/article/details/82185671" target="_blank" rel="noopener">https://blog.csdn.net/weixin_39003573/article/details/82185671</a></p>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><p>JSON：JavaScript 对象表示法（JavaScript Object Notation）。是轻量级的文本数据交换格式</p>
<p><code>JSON.parse()</code> 解析 <code>JSON</code> 数据。</p>
<p><code>JSON.stringify()</code> 将其他数据转化为 <code>JSON</code> 数据。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="string">"name"</span>: <span class="string">"Bill Gates"</span>,</span><br><span class="line">	<span class="string">"street"</span>: <span class="string">"Fifth Avenue New York 666"</span>,</span><br><span class="line">	<span class="string">"age"</span>: <span class="number">56</span>,</span><br><span class="line">	<span class="string">"phone"</span>: <span class="string">"555 1234567"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><p>利用事件冒泡的原理，让自己的所触发的事件，让他的父元素代替执行！</p>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>定义：闭包就是能够读取其他函数内部变量的函数。</p>
<p>特性：能够读取其他函数的内部变量；闭包函数的作用域就会一直保存，内部对象不会被垃圾回收机制回收。</p>
<p>影响：如果过多使用闭包，容易导致内存泄露。</p>
<p>为什么要用闭包：1. 异步耗时操作的结果缓存。2. 匿名自执行函数，内部变量无需维护。</p>
<p>如下为闭包实例：简单来说就是函数内部返回一个函数，然后通过内部函数获取外层函数的内部变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span> <span class="comment">// 函数内部变量</span></span><br><span class="line">  <span class="comment">// 这个被返回的函数就是一个闭包函数，他可以访问 outer 的内部变量。</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a <span class="comment">// 返回函数内部变量</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fn = outer()</span><br><span class="line"><span class="built_in">console</span>.log(fn())</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 面试题之循环打印</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;, <span class="number">300</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4 4 4 4</span></span><br><span class="line"><span class="comment">// 原因:js 执行的时候首先会先执行主线程,异步相关的会存到异步队列里,当主线程执行完毕开始执行异步队列, 主线程执行完毕后,此时 i 的值为 4,说以在执行异步队列的时候,打印出来的都是 4(这里需要大家对 event loop 有所了解(js 的事件循环机制))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用闭包来修复打印</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">  setTimeout(</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)(i),</span><br><span class="line">    <span class="number">300</span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0 1 2 3</span></span><br></pre></td></tr></table></figure>
<h3 id="window-onload-和-document-ready-的区别"><a href="#window-onload-和-document-ready-的区别" class="headerlink" title="window.onload 和 $(document).ready 的区别"></a>window.onload 和 $(document).ready 的区别</h3><p>window.onload 是原生 js 操作，在结构/样式/外部js/图片等加载完成才执行。</p>
<p>$(documen).ready 是 jQuery 中的属性，表示文档结构（dom 树）已经加载完成时（不包括图片等非文字媒体文件）。</p>
<h3 id="函数声明和函数表达式"><a href="#函数声明和函数表达式" class="headerlink" title="函数声明和函数表达式"></a>函数声明和函数表达式</h3><p>定义函数有三种方法：函数声明，函数表达式，new Function 构造函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 函数声明 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// some code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 函数表达式 */</span></span><br><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// some code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 构造函数 */</span></span><br></pre></td></tr></table></figure>
<p>函数声明和函数表达式的区别：函数声明有声明提前，而赋值（函数表达式就是一种赋值）是不会被提前的。</p>
<h3 id="JS-深拷贝"><a href="#JS-深拷贝" class="headerlink" title="JS 深拷贝"></a>JS 深拷贝</h3><ol>
<li>递归实现深拷贝</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="built_in">Array</span>.isArray(obj) ? [] : &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[key] === <span class="string">'object'</span> &amp;&amp; obj[key] !== <span class="literal">null</span>) </span><br><span class="line">        result[key] = deepCopy(obj[key])</span><br><span class="line">      <span class="keyword">else</span> result[key] = obj[key]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><p>通过 JSON 对象实现深拷贝</p>
<p> JSON 对象会遍历目标对象，将目标对象转化为字符串类型。然后将字符串重新解析成对象就能实现对象深拷贝。</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="built_in">JSON</span>.stringify(obj)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(obj)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>通过 jQuery 的 extend 方法实现深拷贝</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> newArray = $.extend(<span class="literal">true</span>, [], array)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>lodash 函数库实现深拷贝</li>
</ol>
<p>lodash 是热门的函数库，提供了 lodash.cloneDeep() 实现拷贝。</p>
<h3 id="15-箭头函数"><a href="#15-箭头函数" class="headerlink" title="15. 箭头函数"></a>15. 箭头函数</h3><ul>
<li>箭头函数不绑定this，会捕获其所在的上下文的this值，作为自己的this值。是定义时所在的对象，而不是使用时所在的对象。</li>
<li>箭头函数没有原型属性</li>
<li>箭头函数不能当构造函数，不能使用 new 命令</li>
<li>不可以使用 arguments 对象，可以使用 rest 参数代替</li>
<li>不可以使用 yield 命令，不能作为 generator 函数。</li>
</ul>
<h3 id="16-数组去重"><a href="#16-数组去重" class="headerlink" title="16. 数组去重"></a>16. 数组去重</h3><p><a href="https://www.jianshu.com/p/81041a9b56bc" target="_blank" rel="noopener">https://www.jianshu.com/p/81041a9b56bc</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>
<ol>
<li><p>Set + Array.from() </p>
<p> 利用 <code>Set</code> 数据结构唯一性。</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  arr = <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr))</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  arr = [...new <span class="built_in">Set</span>(arr)]</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>遍历数组法</p>
<p> 利用 <code>includes()</code> 、<code>indexOf()</code> 等查询方法。 新建一个数组，遍历去要重的数组，当值不在新数组的时候就加入该新数组中；</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> hash = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!hash.includes(arr[i]))&#123;</span><br><span class="line">      hash.push(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> hash=[];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(hash.indexOf(arr[i]) == <span class="number">-1</span>)&#123;</span><br><span class="line">      hash.push(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>相邻元素比较法</p>
<p> 先排序。然后当前项不等于前项，就把当前项放入新数组。</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  arr.sort()</span><br><span class="line">  <span class="keyword">var</span> hash = [arr[<span class="number">0</span>]]</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] != arr[i<span class="number">-1</span>])</span><br><span class="line">      hash.push(arr[i])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>优化遍历数组法（推荐）</p>
<p> 实现思路：双层循环，外循环表示从0到arr.length，内循环表示从i+1到arr.length</p>
<p> 第一个等于第二个，splice 删除第二个</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i+<span class="number">1</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span>(arr[i] === arr[j])&#123;</span><br><span class="line">        arr.splice(j, <span class="number">1</span>)</span><br><span class="line">        j--</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>利用对象属性不重复去重</p>
<p> Map 也可以，这种 “值 - 值” 对的方式还可以用于统计出现的次数。</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line">  <span class="keyword">let</span> hash = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!obj[arr[i]]) &#123;</span><br><span class="line">      hash.push(arr[i])</span><br><span class="line">      obj[arr[i]] = <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      obj[arr[i]] ++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Map</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  <span class="keyword">let</span> hash = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!map.has(arr[i])) &#123;</span><br><span class="line">      map.set(arr[i], <span class="number">1</span>)</span><br><span class="line">      hash.push(arr[i])</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      map.set(arr[i], map.get(arr[i]) + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> hash</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>filter() 过滤方法结合 对象、indexOf() 等方法</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.filter(<span class="function">(<span class="params">value, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> arr.indexOf(value) === index</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="17-洗牌算法"><a href="#17-洗牌算法" class="headerlink" title="17. 洗牌算法"></a>17. 洗牌算法</h3><ol>
<li>倒序循环这个数组</li>
<li>取范围从1到n的随机数k</li>
<li>k与n交换</li>
<li>直到循环至数组的首个元素</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> array = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = array.length<span class="number">-1</span>; i &gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">var</span> randomIndex = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*(i+<span class="number">1</span>));</span><br><span class="line">    [array[randomIndex], array[i]] = [array[i], array[randomIndex]]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> array</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.shuffle())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如下写法也不会有问题</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> array = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt;array.length; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> randomIndex = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*array.length);</span><br><span class="line">    [array[randomIndex], array[i]] = [array[i], array[randomIndex]]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> array</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>一段程序代码中所用到的名字并不总是有效/可用的，而限定这个名字的可用性的代码范围就是这个名字的作用域。</p>
<h3 id="继承的几种方法"><a href="#继承的几种方法" class="headerlink" title="继承的几种方法"></a>继承的几种方法</h3><h4 id="ES5-原型链继承"><a href="#ES5-原型链继承" class="headerlink" title="ES5 原型链继承"></a>ES5 原型链继承</h4><p>特点：基于原型链，实例既是父类的实例，又是子类的实例。</p>
<p>缺点：</p>
<ul>
<li>原型链继承多个实例的引用类型属性指向相同，一个实例修改了原型属性，另一个实例的原型属性也会被修改；</li>
<li>不能传递参数；</li>
<li>继承单一，不能多继承。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name, color</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">  <span class="keyword">this</span>.color = color</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">Cat.prototype = <span class="keyword">new</span> Animal()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat()</span><br><span class="line">Cat.prototype.name = <span class="string">'cat'</span></span><br><span class="line">Cat.prototype.color = <span class="string">'black'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat)		<span class="comment">// true	</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal)	<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cat &#123;&#125;</span></span><br><span class="line"><span class="comment">//   __proto__: Animal</span></span><br><span class="line"><span class="comment">//     color: "black"</span></span><br><span class="line"><span class="comment">//     name: "cat"</span></span><br><span class="line"><span class="comment">//     __proto__: Object</span></span><br></pre></td></tr></table></figure>
<h4 id="构造继承"><a href="#构造继承" class="headerlink" title="构造继承"></a>构造继承</h4><p>使用 <code>call()</code> 和 <code>apply()</code> 将父类构造函数引入子类函数，使用父类的构造函数来增强子类实例，等同于复制父类的实例给子类。</p>
<p>缺点：</p>
<ul>
<li>只能继承父类的实例属性和方法，不能继承原型属性/方法；</li>
<li>无法实现构造函数的复用，每个子类都有父类实例函数的副本，影响性能，代码会臃肿。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name, color</span>) </span>&#123;</span><br><span class="line">  Animal.call(<span class="keyword">this</span>, name)</span><br><span class="line">  <span class="keyword">this</span>.color = color</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(<span class="string">'猫'</span>, <span class="string">'balck'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat)		<span class="comment">// true	</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal)	<span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(cat)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cat &#123;name: "猫", color: "balck"&#125;</span></span><br><span class="line"><span class="comment">//  color: "balck"</span></span><br><span class="line"><span class="comment">//  name: "猫"</span></span><br><span class="line"><span class="comment">//  __proto__: Object</span></span><br></pre></td></tr></table></figure>
<h4 id="ES5-组合继承（最常用的继承模式）"><a href="#ES5-组合继承（最常用的继承模式）" class="headerlink" title="ES5 组合继承（最常用的继承模式）"></a>ES5 组合继承（最常用的继承模式）</h4><p>将<strong>原型链继承</strong>和<strong>构造函数继承</strong>这两种模式的优点组合在一起，通过调用父类构造，继承父类的属性并保留传参，然后通过将父类实例作为子类原型，实现函数复用。</p>
<p>其背后的思路是<strong>使用原型链实现对原型属性和方法的继承</strong>，而<strong>通过借用构造函数来实现对实例属性的继承</strong>，这样，既通过在原型上定义方法实现了函数复用，又能保证每个实例都有它自己的属性。</p>
<p>缺点：</p>
<ul>
<li>父类中的实例属性和方法既存在于子类的实例中，又存在于子类的原型中，不过仅是内存占用，因此，在使用子类创建实例对象时，其原型中会存在<strong>两份相同的属性/方法</strong>。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">this</span>.sleep = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'正在睡觉！'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name, color</span>) </span>&#123;</span><br><span class="line">  Animal.call(<span class="keyword">this</span>, name)</span><br><span class="line">  <span class="keyword">this</span>.color = color</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(<span class="string">'猫'</span>, <span class="string">'balck'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat)		<span class="comment">// true	</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal)	<span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(cat)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cat &#123;name: "猫", sleep: ƒ, color: "balck"&#125;</span></span><br><span class="line"><span class="comment">//   color: "balck"</span></span><br><span class="line"><span class="comment">//   name: "猫"</span></span><br><span class="line"><span class="comment">//   sleep: ƒ ()</span></span><br><span class="line"><span class="comment">//   __proto__: Object</span></span><br></pre></td></tr></table></figure>
<h4 id="ES5-寄生式继承"><a href="#ES5-寄生式继承" class="headerlink" title="ES5 寄生式继承"></a>ES5 寄生式继承</h4><p>创建一个仅用于封装继承过程的函数，该函数在内部以某种方式来增强对象，最后返回构造函数。(就像给原型式继承外面套了个壳子，然后return出来)</p>
<p>缺点：</p>
<ul>
<li>原型链继承多个实例的引用类型属性指向相同，存在篡改的可能；</li>
<li>无法传递参数，没用到原型，无法复用。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">this</span>.sleep = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'正在睡觉！'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">middle</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> clone = <span class="built_in">Object</span>(obj)</span><br><span class="line">  clone.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'正在吃饭！'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> clone</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = middle(<span class="keyword">new</span> Animal)</span><br><span class="line"></span><br><span class="line">cat.name = <span class="string">'cat'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal)	<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Animal &#123;name: "cat", sleep: ƒ, eat: ƒ&#125;</span></span><br><span class="line"><span class="comment">//   eat: ƒ ()</span></span><br><span class="line"><span class="comment">//   name: "cat"</span></span><br><span class="line"><span class="comment">//   sleep: ƒ ()</span></span><br><span class="line"><span class="comment">//   __proto__: Object</span></span><br></pre></td></tr></table></figure>
<h4 id="寄生组合式继承（执行效率最高也是应用面最广）"><a href="#寄生组合式继承（执行效率最高也是应用面最广）" class="headerlink" title="寄生组合式继承（执行效率最高也是应用面最广）"></a>寄生组合式继承（执行效率最高也是应用面最广）</h4><p>重点：通过借用构造函数传递参数和寄生模式实现继承属性，通过原型链的形式来继承方法，在函数中用apply或者call引入另一个构造函数，可传参。</p>
<p>寄生组合继承集合了前面几种继承优点，几乎避免了上面继承方式的所有缺陷，是执行效率最高也是应用面最广的。</p>
<p>通过寄生方式，砍掉父类的实例属性，这样在调用两此父类的构造的时候就会初始化两次实例、方法。</p>
<p>缺点：<br>实现的过程相对繁琐。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">this</span>.sleep = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'正在睡觉！'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name, color</span>) </span>&#123;</span><br><span class="line">  Animal.call(<span class="keyword">this</span>, name)</span><br><span class="line">  <span class="keyword">this</span>.color = color</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> Super = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  Super.prototype = Animal.prototype</span><br><span class="line">  Cat.prototype = <span class="keyword">new</span> Super()</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(<span class="string">'cat'</span>, <span class="string">'black'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal)	<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat)     <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cat &#123;name: "cat", sleep: ƒ, color: "black"&#125;</span></span><br><span class="line"><span class="comment">//   color: "black"</span></span><br><span class="line"><span class="comment">//   name: "cat"</span></span><br><span class="line"><span class="comment">//   sleep: ƒ ()</span></span><br><span class="line"><span class="comment">//   __proto__: Animal</span></span><br></pre></td></tr></table></figure>
<h4 id="ES6-object-create-原型式继承"><a href="#ES6-object-create-原型式继承" class="headerlink" title="ES6 object.create() 原型式继承"></a>ES6 object.create() 原型式继承</h4><p>缺点：</p>
<ul>
<li>原型链继承多个实例的引用类型属性指向相同(所有实例都会继承原型上的属性)，存在篡改的可能；</li>
<li>无法传递参数,无法实现复用。（新实例属性都是后面添加的）。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">this</span>.sleep = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">'正在睡觉！'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">Cat.prototype = <span class="built_in">Object</span>.create(Animal.prototype)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat()</span><br><span class="line">cat.name = <span class="string">'cat'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat)		<span class="comment">// true	</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal)	<span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(cat)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cat &#123;name: "cat"&#125;</span></span><br><span class="line"><span class="comment">//   name: "cat"</span></span><br><span class="line"><span class="comment">//   __proto__: Animal</span></span><br></pre></td></tr></table></figure>
<h4 id="ES6-extents-关键字"><a href="#ES6-extents-关键字" class="headerlink" title="ES6 extents 关键字"></a>ES6 extents 关键字</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123; </span><br><span class="line">  <span class="keyword">constructor</span>(name, color) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">    <span class="keyword">this</span>.color = color</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(<span class="string">'cat'</span>, <span class="string">'black'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Cat)		<span class="comment">// true	</span></span><br><span class="line"><span class="built_in">console</span>.log(cat <span class="keyword">instanceof</span> Animal)	<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(cat)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cat &#123;&#125;</span></span><br><span class="line"><span class="comment">//   color: "black"</span></span><br><span class="line"><span class="comment">//   name: "cat"</span></span><br><span class="line"><span class="comment">//   __proto__: Animal</span></span><br></pre></td></tr></table></figure>
<h3 id="json-string-array的互相转换"><a href="#json-string-array的互相转换" class="headerlink" title="json,string,array的互相转换"></a>json,string,array的互相转换</h3><h3 id="js-实现获取对象所有键名-key-的方法"><a href="#js-实现获取对象所有键名-key-的方法" class="headerlink" title="js 实现获取对象所有键名 key 的方法"></a>js 实现获取对象所有键名 key 的方法</h3><p>只获取该对象自身属性需要结合 <code>hasOwnProperty()</code> 方法</p>
<ol>
<li><p>for … in 循环</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'xiaoming'</span>,</span><br><span class="line">  age: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> keys = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj.hasOwnProperty(key))</span><br><span class="line">    keys.push(key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(keys)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Object.keys()</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'xiaoming'</span>,</span><br><span class="line">  age: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> keys = <span class="built_in">Object</span>.keys(obj)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(keys)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="for-…-in-和-for-…-of"><a href="#for-…-in-和-for-…-of" class="headerlink" title="for … in 和 for … of"></a>for … in 和 for … of</h3><p><strong> for…of 循环</strong></p>
<p><code>for … of</code> 循环是ES6引入的新的语法，用 <code>for … of</code> 循环遍历集合。</p>
<p><code>for...of</code>语句在可迭代对象（包括 <code>Array</code>，<code>Map</code>，<code>Set</code>，<code>String</code>，<code>TypedArray</code>，<code>arguments</code> 对象等等）上创建一个迭代循环，调用自定义迭代钩子，并为每个不同属性的值执行语句。</p>
<p><strong>for…in 循环</strong></p>
<p>for…in 语句用于遍历数组或者对象的属性（对数组或者对象的属性进行循环操作）。</p>
<h2 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h2><h3 id="1-mvvm-理解"><a href="#1-mvvm-理解" class="headerlink" title="1. mvvm 理解"></a>1. mvvm 理解</h3><p>MVVM分为Model、View、ViewModel三者。</p>
<p>Model 代表数据模型，数据和业务逻辑都在Model层中定义；</p>
<p>View 代表UI视图，负责数据的展示；</p>
<p>ViewModel ：通过双向数据绑定，将 <code>View</code> 层和 <code>Model</code> 层连接起来。是 <code>MVVM</code> 最核心的部分。</p>
<h3 id="2-vue-生命周期及注意点"><a href="#2-vue-生命周期及注意点" class="headerlink" title="2. vue 生命周期及注意点"></a>2. vue 生命周期及注意点</h3><p><strong>beforeCreate</strong>（创建前） 在数据观测和初始化事件还未开始</p>
<p><strong>created</strong>（创建后） 完成数据观测，属性和方法的运算，初始化事件，$el属性还没有显示出来</p>
<p><strong>beforeMount</strong>（载入前） 在挂载开始之前被调用，相关的render函数首次被调用。实例已完成以下的配置：编译模板，把data里面的数据和模板生成html。注意此时还没有挂载html到页面上。</p>
<p><strong>mounted</strong>（载入后） 在el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用。实例已完成以下的配置：用上面编译好的html内容替换el属性指向的DOM对象。完成模板中的html渲染到html页面中。此过程中进行ajax交互。</p>
<p><strong>beforeUpdate</strong>（更新前） 在数据更新之前调用，发生在虚拟DOM重新渲染和打补丁之前。可以在该钩子中进一步地更改状态，不会触发附加的重渲染过程。</p>
<p><strong>updated</strong>（更新后） 在由于数据更改导致的虚拟DOM重新渲染和打补丁之后调用。调用时，组件DOM已经更新，所以可以执行依赖于DOM的操作。然而在大多数情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环。该钩子在服务器端渲染期间不被调用。</p>
<p><strong>beforeDestroy</strong>（销毁前） 在实例销毁之前调用。实例仍然完全可用。</p>
<p><strong>destroyed</strong>（销毁后） 在实例销毁之后调用。调用后，所有的事件监听器会被移除，所有的子实例也会被销毁。该钩子在服务器端渲染期间不被调用。</p>
<table>
<thead>
<tr>
<th>生命周期钩子</th>
<th>组件状态</th>
<th>最佳实践</th>
</tr>
</thead>
<tbody>
<tr>
<td>beforeCreate</td>
<td>实例初始化之后，this指向创建的实例，不能访问到data、computed、watch、methods上的方法和数据</td>
<td>常用于初始化非响应式变量</td>
</tr>
<tr>
<td>created</td>
<td>实例创建完成，可访问data、computed、watch、methods上的方法和数据，未挂载到DOM，不能访问到$el属性，$ref属性内容为空数组</td>
<td>常用于简单的ajax请求，页面的初始化</td>
</tr>
<tr>
<td>beforeMount</td>
<td>在挂载开始之前被调用，beforeMount之前，会找到对应的template，并编译成render函数</td>
<td>-</td>
</tr>
<tr>
<td>mounted</td>
<td>实例挂载到DOM上，此时可以通过DOM API获取到DOM节点，$ref属性可以访问</td>
<td>常用于获取VNode信息和操作，ajax请求</td>
</tr>
<tr>
<td>beforeupdate</td>
<td>响应式数据更新时调用，发生在虚拟DOM打补丁之前</td>
<td>适合在更新之前访问现有的DOM，比如手动移除已添加的事件监听器</td>
</tr>
<tr>
<td>updated</td>
<td>虚拟 DOM 重新渲染和打补丁之后调用，组件DOM已经更新，可执行依赖于DOM的操作</td>
<td>避免在这个钩子函数中操作数据，可能陷入死循环</td>
</tr>
<tr>
<td>beforeDestroy</td>
<td>实例销毁之前调用。这一步，实例仍然完全可用，this仍能获取到实例</td>
<td>常用于销毁定时器、解绑全局事件、销毁插件对象等操作</td>
</tr>
<tr>
<td>destroyed</td>
<td>实例销毁后调用，调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁</td>
<td>-</td>
</tr>
</tbody>
</table>
<ol>
<li><code>created</code> 阶段的 <code>ajax</code> 请求与 <code>mounted</code> 请求的区别：前者页面视图未出现，如果请求信息过多，页面会长时间处于白屏状态</li>
<li><code>mounted</code> 不会承诺所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染</li>
</ol>
<p>​        完毕，可以用 <code>vm.$nextTick</code></p>
<h3 id="3-vue-双向数据绑定"><a href="#3-vue-双向数据绑定" class="headerlink" title="3. vue 双向数据绑定"></a>3. vue 双向数据绑定</h3><p>vue 使用数据监听结合发布者订阅者模式。</p>
<p>当一个 <code>Vue</code> 实例创建时，<code>Observer</code> 会遍历 <code>data</code> 选项的属性，用 <code>Object.defineProperty</code> 将它们转为 <code>getter/setter</code> 并且在内部追踪相关依赖，在属性被访问和修改时通知变化。</p>
<p>每个组件实例都有相应的 <code>watcher</code> 程序实例，它会在组件渲染的过程中把属性记录为依赖，之后当依赖项的 <code>setter</code> 被调用时，会通知 <code>watcher</code> 重新计算，从而致使它关联的组件得以更新。</p>
<p><strong>具体步骤：</strong></p>
<p><strong>第一步：需要 observe 的数据对象进行递归遍历</strong>，包括子属性对象的属性，都加上 <code>setter</code>和<code>getter</code><br> 这样的话，给这个对象的某个值赋值，就会触发<code>setter</code>，那么就能监听到了数据变化</p>
<p><strong>第二步：compile 解析模板指令</strong>，将模板中的变量替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，更新视图</p>
<p><strong>第三步：Watcher 订阅者是 Observer 和 Compile 之间通信的桥梁</strong>，主要做的事情是:</p>
<p>1、在自身实例化时往属性订阅器(dep)里面添加自己</p>
<p>2、自身必须有一个 update() 方法</p>
<p>3、待属性变动 dep.notice() 通知时，能调用自身的 update() 方法，并触发 Compile 中绑定的回调，则功成身退。</p>
<p><strong>第四步： MVVM 作为数据绑定的入口，整合Observer 、Compile 和 Watcher 三者</strong>，通过Observer 来监听自己的 model 数据变化，通过 Compile来 解析编译模板指令，最终利用 Watcher搭起 Observer 和 Compile 之间的通信桥梁，达到数据变化-&gt;  视图更新；视图交互变化(input) -&gt; 数据model变更的双向绑定效果。 </p>
<h3 id="4-vue-组件传参"><a href="#4-vue-组件传参" class="headerlink" title="4. vue 组件传参"></a>4. vue 组件传参</h3><ol>
<li><p>父子组件传参：</p>
<ul>
<li>父 - 子：父组件使用 <code>&lt;组件名 属性名=&quot;xxx&quot;&gt;</code> 发送数据，子组件使用 <code>props</code> 接收。</li>
<li>子 - 父：子组件使用 <code>$emit(自定义方法名, 子组件属性)</code> 自定义事件传递属性。父组件绑定事件，并在父组件事件方法中接收子组件属性。</li>
</ul>
</li>
<li><p>非父子组件传参：</p>
<p> eventBus、vuex、sessionStore、localStore</p>
</li>
</ol>
<h3 id="5-Vue的路由实现：hash模式-和-history模式"><a href="#5-Vue的路由实现：hash模式-和-history模式" class="headerlink" title="5. Vue的路由实现：hash模式 和 history模式"></a>5. Vue的路由实现：hash模式 和 history模式</h3><p><strong>hash模式：</strong>在浏览器中符号“#”，#以及#后面的字符称之为hash，用window.location.hash读取；<br> 特点：hash虽然在URL中，但不被包括在HTTP请求中；用来指导浏览器动作，对服务端安全无用，hash不会重加载页面。</p>
<p><strong>history模式：</strong>history采用HTML5的新特性；且提供了两个新方法：pushState（），replaceState（）可以对浏览器历史记录栈进行修改，以及popState事件的监听到状态变更。</p>
<h3 id="5-vuex"><a href="#5-vuex" class="headerlink" title="5. vuex"></a>5. vuex</h3><p>Vuex 是一个专为 Vue.js 应用程序开发的<strong>状态管理模式</strong>。</p>
<p><strong>state</strong><br>Vuex 使用单一状态树,即每个应用将仅仅包含一个store 实例，但单一状态树和模块化并不冲突。存放的数据状态，不可以直接修改里面的数据。</p>
<p><strong>mutations</strong><br>mutations定义的方法动态修改Vuex 的 store 中的状态或数据。</p>
<p><strong>getters</strong><br>类似vue的计算属性，主要用来过滤一些数据。</p>
<p><strong>action</strong><br>actions可以理解为通过将mutations里面处里数据的方法变成可异步的处理数据的方法，简单的说就是异步操作数据。view 层通过 store.dispath 来分发 action。</p>
<h3 id="6-v-if-和-v-show-区别"><a href="#6-v-if-和-v-show-区别" class="headerlink" title="6. v-if 和 v-show 区别"></a>6. <strong>v-if 和 v-show 区别</strong></h3><p>相同点： 两者都是在判断DOM节点是否要显示</p>
<p>不同点：</p>
<p> a.实现方式： v-if是根据后面数据的真假值判断直接从Dom树上删除或重建元素节点。  v-show只是在修改元素的css样式，也就是display的属性值（none、原来属性），元素始终在Dom树上。</p>
<p>b.编译过程：v-if切换有一个局部编译/卸载的过程，切换过程中合适地销毁和重建内部的事件监听和子组件；  v-show只是简单的基于css切换；</p>
<p>c.编译条件：v-if是惰性的，如果初始条件为假，则什么也不做；只有在条件第一次变为真时才开始局部编译； v-show是在任何条件下（首次条件是否为真）都被编译，然后被缓存，而且DOM元素始终被保留； </p>
<p>d.性能消耗：v-if有更高的切换消耗，不适合做频繁的切换；  v-show有更高的初始渲染消耗，适合做频繁的额切换；</p>
<h3 id="7-watch-和-computed-和-methods"><a href="#7-watch-和-computed-和-methods" class="headerlink" title="7. watch 和 computed 和 methods"></a>7. watch 和 computed 和 methods</h3><h4 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h4><ol>
<li><strong>原理：</strong>监听若干个 <code>data</code> 属性数据，返回最终数据给 <code>computed</code> 计算属性，使用时与  <code>data</code> 中其他属性无异。默认只有 <code>get</code> 方法，<code>set</code> 方法需要手动添加。 </li>
<li><strong>擅长方面：</strong>擅长监听多个数据改变一个数据。侧重简单的数据计算。</li>
<li><strong>调用情况：</strong>有缓存值，是基于<strong>响应式依赖</strong>的。只在相关响应式依赖发生改变时才会重新求值。也就是说当被监听值发生变化时，触发函数，否则，直接返回之前的计算结果，而不是再执行一遍函数方法。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  <span class="comment">// 监听 firstName 和 lastName，返回 fullName</span></span><br><span class="line">  fullName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h4><ol>
<li><strong>原理：</strong>监听 <code>data</code> 中的某个数据，数据变化时触发相应的函数，类似于事件监听。</li>
<li><strong>擅长方面：</strong>擅长监听一个数据变化改变多个数据。当需要在数据变化时执行异步操作或者开销比较大的操作时最为有效。</li>
<li><strong>调用情况：</strong>没有缓存，当数据变化时会重新执行函数。</li>
</ol>
<h4 id="methods"><a href="#methods" class="headerlink" title="methods"></a>methods</h4><p>方法，需要手动调用，每次调用都会再次执行函数。</p>
<h3 id="8-vue等单页面应用及其优缺点"><a href="#8-vue等单页面应用及其优缺点" class="headerlink" title="8. vue等单页面应用及其优缺点"></a>8. vue等单页面应用及其优缺点</h3><table>
<thead>
<tr>
<th></th>
<th>单页面应用</th>
<th>多页面应用</th>
</tr>
</thead>
<tbody>
<tr>
<td>组成</td>
<td>一个外壳和多个页面片段</td>
<td>多个完整页面</td>
</tr>
<tr>
<td>资源共用(css.js)</td>
<td>共用，只需要在外壳部分加载</td>
<td>不共用，每个页面都需要加载</td>
</tr>
<tr>
<td>刷新方式</td>
<td>页面局部刷新或更改</td>
<td>整页刷新</td>
</tr>
<tr>
<td>url 模式</td>
<td>默认 hash 模式</td>
<td>默认 history 模式</td>
</tr>
<tr>
<td>用户体验</td>
<td>页面片段间的模块化，用户体验良好</td>
<td>页面切换缓慢，流畅度不够，用户体验较差</td>
</tr>
<tr>
<td>跳转动画</td>
<td>容易实现</td>
<td>无法实现</td>
</tr>
<tr>
<td>数据传递</td>
<td>容易</td>
<td>依赖 url 传参，或者 cookie、localStorage、sessionStorage</td>
</tr>
<tr>
<td>搜索引擎优化 SEO</td>
<td>需要单独方案，实现困难，不利于SEO检索，可利用服务端渲染SSR优化</td>
<td>实现方法简易</td>
</tr>
<tr>
<td>试用范围</td>
<td>高需求的体验度，追求页面流畅的应用</td>
<td>适用于追求高度支持搜索引擎的应用</td>
</tr>
<tr>
<td>开发成本</td>
<td>较高，常需要借助专业的框架</td>
<td>较低，但页面重复代码多</td>
</tr>
<tr>
<td>维护成本</td>
<td>相对容易</td>
<td>相对复杂</td>
</tr>
</tbody>
</table>
<h3 id="9-vue数组修改、添加属性，渲染失败原因及解决方案。"><a href="#9-vue数组修改、添加属性，渲染失败原因及解决方案。" class="headerlink" title="9. vue数组修改、添加属性，渲染失败原因及解决方案。"></a>9. vue数组修改、添加属性，渲染失败原因及解决方案。</h3><p><a href="https://cn.vuejs.org/v2/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B</a></p>
<p>原因：Observe 阶段 Vue 跳过了对数组每个键设置响应式的过程，而是直接对值进行递归设置响应式。</p>
<p>如下是 vue 监听数组变动的方法（7个）</p>
<ul>
<li><code>push()</code></li>
<li><code>pop()</code></li>
<li><code>shift()</code></li>
<li><code>unshift()</code></li>
<li><code>splice()</code></li>
<li><code>sort()</code></li>
<li><code>reverse()</code></li>
</ul>
<p>由于 JavaScript 的限制，Vue <strong>不能</strong>检测以下数组的变动：</p>
<ol>
<li><p>当你利用索引直接设置一个数组项时，例如：<code>vm.items[indexOfItem] = newValue</code></p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Vue.set</span></span><br><span class="line">Vue.set(vm.items, indexOfItem, newValue)</span><br><span class="line">vm.$set(vm.items, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Array.prototype.splice</span></span><br><span class="line">vm.items.splice(indexOfItem, <span class="number">1</span>, newValue)</span><br></pre></td></tr></table></figure>
</li>
<li><p>当你修改数组的长度时，例如：<code>vm.items.length = newLength</code></p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解决方法</span></span><br><span class="line">vm.items.splice(newLength)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="10-vue-对象添加属性，渲染失败原因及解决方案。"><a href="#10-vue-对象添加属性，渲染失败原因及解决方案。" class="headerlink" title="10. vue 对象添加属性，渲染失败原因及解决方案。"></a>10. vue 对象添加属性，渲染失败原因及解决方案。</h3><p>还是由于 JavaScript 的限制，<strong>Vue 不能检测对象属性的添加或删除</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var vm = new Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    a: 1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">// `vm.a` 现在是响应式的</span><br><span class="line"></span><br><span class="line">vm.b = 2</span><br><span class="line">// `vm.b` 不是响应式的</span><br></pre></td></tr></table></figure>
<p>解决方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// set</span></span><br><span class="line">Vue.set(vm.userProfile, <span class="string">'age'</span>, <span class="number">27</span>)</span><br><span class="line">vm.$set(vm.userProfile, <span class="string">'age'</span>, <span class="number">27</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// watch 深度监听</span></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue( &#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      childrens: &#123;</span><br><span class="line">        name: <span class="string">'小强'</span>,</span><br><span class="line">        age: <span class="number">20</span>,</span><br><span class="line">        sex: <span class="string">'男'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch:&#123;</span><br><span class="line">      children:&#123;</span><br><span class="line">        handler:<span class="function"><span class="keyword">function</span>(<span class="params">val,oldval</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(val.name)</span><br><span class="line">        &#125;,</span><br><span class="line">        deep:<span class="literal">true</span><span class="comment">//对象内部的属性监听，也叫深度监听</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="10-vm-nextTick-callback-使用场景"><a href="#10-vm-nextTick-callback-使用场景" class="headerlink" title="10. vm.$nextTick(callback)使用场景"></a>10. vm.$nextTick(callback)使用场景</h3><h4 id="作用描述"><a href="#作用描述" class="headerlink" title="作用描述"></a>作用描述</h4><p><a href="https://cn.vuejs.org/v2/api/#vm-nextTick" target="_blank" rel="noopener">https://cn.vuejs.org/v2/api/#vm-nextTick</a></p>
<p>$nextTick 是在下次 DOM 更新循环结束之后执行延迟回调，在修改数据之后使用 $nextTick，则可以在回调中获取更新后的 DOM</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    example: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 修改数据</span></span><br><span class="line">      <span class="keyword">this</span>.message = <span class="string">'changed'</span></span><br><span class="line">      <span class="comment">// DOM 还没有更新</span></span><br><span class="line">      <span class="keyword">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// DOM 现在更新了</span></span><br><span class="line">        <span class="comment">// `this` 绑定到当前实例</span></span><br><span class="line">        <span class="keyword">this</span>.doSomethingElse()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h4><ul>
<li><p><code>created()</code> 钩子函数中操作 DOM</p>
<p>  在<code>created()</code>钩子函数执行的时候DOM 其实并未进行任何渲染，而此时进行DOM操作无异于徒劳，所以此处一定要将DOM操作的js代码放进<code>Vue.nextTick()</code>的回调函数中。与之对应的就是<code>mounted()</code>钩子函数，因为该钩子函数执行时所有的DOM挂载和渲染都已完成，此时在该钩子函数中进行任何DOM操作都不会有问题 。</p>
</li>
<li><p>在数据变化后要执行的某个操作，而这个操作需要使用随数据改变而改变的DOM结构的时候，这个操作都应该放进<code>Vue.nextTick()</code>的回调函数中。</p>
<p>  Vue 异步执行 DOM 更新。只要观察到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据改变。如果同一个 watcher 被多次触发，只会被推入到队列中一次。这种在缓冲时去除重复数据对于避免不必要的计算和 DOM 操作上非常重要。</p>
<p>  为了在数据变化之后等待 Vue 完成更新 DOM ，可以在数据变化之后立即使用<code>Vue.nextTick(callback)</code> 。这样回调函数在 DOM 更新完成后就会调用。</p>
</li>
</ul>
<h3 id="11-router、-route、导航守卫"><a href="#11-router、-route、导航守卫" class="headerlink" title="11. $router、$route、导航守卫"></a>11. $router、$route、导航守卫</h3><h4 id="router"><a href="#router" class="headerlink" title="$router"></a>$router</h4><p><code>$router</code> 是 <strong>VueRouter</strong> 实例对象，主要实现路由跳转，是全局对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.push(<span class="string">'/home'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="route"><a href="#route" class="headerlink" title="$route"></a>$route</h4><p><code>$route</code> 是一个跳转的路由对象，是局部对象，包含路由信息。</p>
<p><code>this.$route.path</code> 字符串，当前绝对路径。</p>
<p><code>this.$route.query</code> 对象，路由查询参数键值对。</p>
<p><code>this.$route.params</code> 对象，路由中的动态片段和全匹配全段的键值对。</p>
<p><code>this.$route.name</code> 路由名称。</p>
<h4 id="导航守卫"><a href="#导航守卫" class="headerlink" title="导航守卫"></a>导航守卫</h4><p>控制导航跳转，beforeEach，afterEach等。一般用于页面title的修改，一些需要登录才能调整页面重定向功能。</p>
<p><strong>beforeEach</strong> 主要的3个参数to，from，next。</p>
<p><strong>to</strong> : route即将进入的目标路由对象。</p>
<p><strong>from</strong>： route当前导航正要离开的路由。</p>
<p><strong>next</strong>： function一定要调用该方法resolve这个钩子。执行效果依赖next方法的调用参数。可以控制网页的跳转。</p>
<h3 id="12-keep-alive"><a href="#12-keep-alive" class="headerlink" title="12. keep-alive"></a>12. keep-alive</h3><p><strong>keep-alive</strong>是 Vue 内置的一个组件，可以使被包含的组件保留状态，或避免重新渲染。</p>
<h3 id="13-提升用户体验：v-cloak"><a href="#13-提升用户体验：v-cloak" class="headerlink" title="13. 提升用户体验：v-cloak"></a>13. 提升用户体验：v-cloak</h3><p>这个指令保持在元素上直到关联实例结束编译。和 CSS 规则如 [v-cloak] { display: none } 一起用时，这个指令可以隐藏未编译的 Mustache 标签直到实例准备完毕。</p>
<p>防止刷新页面，网速慢的情况下出现等数据格式</p>
<h3 id="vue-组件的-data-为什么是函数而不是对象"><a href="#vue-组件的-data-为什么是函数而不是对象" class="headerlink" title="vue 组件的 data 为什么是函数而不是对象"></a>vue 组件的 data 为什么是函数而不是对象</h3><p>在 <code>new Vue()</code> 中，<code>data</code> 是可以作为一个对象进行操作的，然而在 <code>component</code> 中，<code>data</code> 只能以函数的形式存在，不能直接将对象赋值给它。</p>
<p>当 data 选项是一个函数的时候，每个实例可以拷贝一份对象数据并单独维护，这样各个子组件实例中的 data 不会相互影响。</p>
<h2 id="你有什么要问我的吗"><a href="#你有什么要问我的吗" class="headerlink" title="你有什么要问我的吗"></a>你有什么要问我的吗</h2><h3 id="技术面答得好"><a href="#技术面答得好" class="headerlink" title="技术面答得好"></a>技术面答得好</h3><h4 id="公司的技术栈"><a href="#公司的技术栈" class="headerlink" title="公司的技术栈"></a>公司的技术栈</h4><p>前端：vue、react、jquery</p>
<p>后端：Java、Node、Python</p>
<p>数据库：mysql、</p>
<h4 id="开发模式"><a href="#开发模式" class="headerlink" title="开发模式"></a>开发模式</h4><p> 您可以给我简单介绍您这边在实际开发的中的情况吗？团队的配置，前端、后端人数；开发前是否有明确的开发计划以及比较完善的开发计划。</p>
<p>是否会开发中经常改需求。</p>
<h3 id="技术面答得不好-（围绕之前的面试题目）"><a href="#技术面答得不好-（围绕之前的面试题目）" class="headerlink" title="技术面答得不好 （围绕之前的面试题目）"></a>技术面答得不好 （围绕之前的面试题目）</h3><h4 id="您觉得我在技术上还有那些薄弱点"><a href="#您觉得我在技术上还有那些薄弱点" class="headerlink" title="您觉得我在技术上还有那些薄弱点"></a>您觉得我在技术上还有那些薄弱点</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/01/前端面经/" data-id="ck1aoo3vs006vj0utqw5ni8md" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/面经/">面经</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-JavaScript基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/18/前端-JavaScript基础/" class="article-date">
  <time datetime="2018-12-18T12:57:31.000Z" itemprop="datePublished">2018-12-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/18/前端-JavaScript基础/">JavaScript基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：</p>
<!-- TOC -->
<ul>
<li><a href="#js简介">JS简介</a></li>
<li><a href="#js的helloworld">JS的HelloWorld</a></li>
<li><a href="#js编写位置">JS编写位置</a></li>
<li><a href="#js基本语法">JS基本语法</a><ul>
<li><a href="#js注释">JS注释</a></li>
<li><a href="#数据类型">数据类型</a></li>
<li><a href="#字面量常量和变量">字面量（常量）和变量</a></li>
<li><a href="#标识符">标识符</a></li>
<li><a href="#强制类型转换">强制类型转换</a></li>
<li><a href="#运算符">运算符</a></li>
</ul>
</li>
<li><a href="#对象">对象</a><ul>
<li><a href="#创建对象">创建对象</a></li>
<li><a href="#对象的-in-运算符">对象的 in 运算符</a></li>
<li><a href="#工厂方法创建对象">工厂方法创建对象</a></li>
<li><a href="#构造函数">构造函数</a></li>
<li><a href="#原型对象">原型对象</a></li>
<li><a href="#查询对象中属性">查询对象中属性</a></li>
</ul>
</li>
<li><a href="#函数">函数</a><ul>
<li><a href="#自定义函数声明">自定义函数声明</a></li>
<li><a href="#函数调用">函数调用</a></li>
<li><a href="#立即执行函数">立即执行函数</a></li>
<li><a href="#函数对象方法call和apply">函数对象方法：call()和apply()</a></li>
</ul>
</li>
<li><a href="#作用域">作用域</a></li>
<li><a href="#声明提前">声明提前</a></li>
<li><a href="#隐含参数this">隐含参数：this</a></li>
<li><a href="#tostring方法">toString方法</a></li>
<li><a href="#垃圾回收gc">垃圾回收(GC)</a></li>
<li><a href="#数组array">数组（Array）</a><ul>
<li><a href="#创建数组">创建数组</a></li>
<li><a href="#数组存取">数组存取</a></li>
<li><a href="#数组长度">数组长度</a></li>
<li><a href="#数组遍历">数组遍历</a></li>
</ul>
</li>
<li><a href="#数组排序sort">数组排序(sort)</a></li>
<li><a href="#隐含参数arguments">隐含参数：arguments</a></li>
<li><a href="#math工具类">Math工具类</a><ul>
<li><a href="#ceil向上取整方法">ceil()向上取整方法</a></li>
<li><a href="#floor向下取整方法">floor()向下取整方法</a></li>
<li><a href="#round四舍五入方法">round()四舍五入方法</a></li>
<li><a href="#random生成0到1随机数方法">random()生成0到1随机数方法</a></li>
<li><a href="#max和min最大最小方法">max()和min()最大最小方法</a></li>
</ul>
</li>
<li><a href="#包装类">包装类</a><ul>
<li><a href="#string对象方法">String对象方法</a><ul>
<li><a href="#charat">charAt()</a></li>
<li><a href="#charcodeat">charCodeAt()</a></li>
<li><a href="#indexof">indexOf()</a></li>
<li><a href="#lastindexof">lastIndexOf()</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#json">JSON</a><ul>
<li><a href="#json转成js对象">JSON转成JS对象</a></li>
<li><a href="#js对象转成json">JS对象转成JSON</a></li>
<li><a href="#兼容ie7不常用">兼容IE7，不常用</a><ul>
<li><a href="#第一种方法不常用不建议用">第一种方法：不常用，不建议用。</a></li>
<li><a href="#第二种方法引入外部js文件进行处理">第二种方法：引入外部js文件进行处理</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="JS简介"><a href="#JS简介" class="headerlink" title="JS简介"></a>JS简介</h3><p>JavaScript诞生于1995年，它的出现主要是用于处理网页中的前端验证。所谓的前端验证，就是指检查用户输入的内容是否符合一定的规则。</p>
<p>时至今日，JS已经不仅仅是前端验证了。还有网页动态效果、后端NodeJS等。</p>
<p>一个完整的JavaScript包括三个部分</p>
<ul>
<li><p>ECMAScript：基本语法</p>
<p>  语法/类型/语句/关键字/保留字/操作符/对象</p>
</li>
<li><p>DOM：Document Object Model 文档对象模型</p>
<p>  提供访问和操作网页内容(html文件)的方法和接口。</p>
</li>
<li><p>BOM：Browser Object Model 浏览器对象模型</p>
<p>  提供与浏览器窗口交互的方法和接口。</p>
</li>
</ul>
<p>JS的特点：</p>
<ol>
<li>解释型语言</li>
<li>类似于C和Java的语法结构</li>
<li>动态语言</li>
<li>基于原型的面向对象</li>
</ol>
<hr>
<h3 id="JS的HelloWorld"><a href="#JS的HelloWorld" class="headerlink" title="JS的HelloWorld"></a>JS的HelloWorld</h3><p>页面中有三条输出指令，JS代码是从上到下一条一条执行的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 控制浏览器弹出一个警告框 */</span></span></span><br><span class="line"><span class="javascript">            alert(<span class="string">"Hello World!"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 向body中添加一个内容 */</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">"Hello World!"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 向控制输出一个内容 */</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"Hello World!"</span>);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>控制浏览器弹出一个警告框：<br><img src="/2018/12/18/前端-JavaScript基础/helloworld.jpg" alt=""></p>
<p>向body中添加一个内容：<br><img src="/2018/12/18/前端-JavaScript基础/helloworld1.jpg" alt=""></p>
<p>向控制输出一个内容：<br><img src="/2018/12/18/前端-JavaScript基础/helloworld2.jpg" alt=""></p>
<hr>
<h3 id="JS编写位置"><a href="#JS编写位置" class="headerlink" title="JS编写位置"></a>JS编写位置</h3><ul>
<li><p>JS代码写在script标签中。<br>  就像上面写hello world一样，在html的head部分添加script标签，将JS代码写到script标签中。</p>
</li>
<li><p>JS代码写在标签的onclick属性中</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 当点击按钮的时候，JS代码才会执行 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"alert('Hello World!');"</span>&gt;</span>你点我一下<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>JS代码卸载超链接的href属性中</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:alert('Hello World!');"</span>&gt;</span>你点我一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>JS写在外部文件中，在html页面中引入</p>
<p>  html页面：</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/myjs.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>  myjs.js:</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="string">"Hello World!"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="JS基本语法"><a href="#JS基本语法" class="headerlink" title="JS基本语法"></a>JS基本语法</h3><h4 id="JS注释"><a href="#JS注释" class="headerlink" title="JS注释"></a>JS注释</h4><p>要养成良好的编写注释的习惯，也可以通过注释来对代码进行一些简单的调试，就是删掉……</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 单行注释</span></span><br></pre></td></tr></table></figure>
<h4 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h4><p>JS包含五中基本数据类型和一个引用数据类型Object：</p>
<ol>
<li>Undefined<br> Undefined类型只有一个，就是undefined。</li>
<li>Null<br> 空值，如果引用一个没有定义的变量，则返回空值，只有一个值，就是null。</li>
<li>Boolean<br> 布尔类型，包含true和false，或者1和0。</li>
<li>String<br> 字符串类型，由单引号或者双引号括起来的字符。</li>
<li>Number<br> 数值类型，可以是32位、64位整数或浮点数。Number.MAX_VALUE表示最大值，Number.MIN_VALUE表示最小值。</li>
</ol>
<p>基本数据类型的值直接在栈内存中存储。</p>
<p>对象是保存在堆内存中的，每创建一个新的对象，就会在堆内存中开辟出一个新的空间，而栈内存中保存的是对象值在堆中的内存地址。</p>
<h4 id="字面量（常量）和变量"><a href="#字面量（常量）和变量" class="headerlink" title="字面量（常量）和变量"></a>字面量（常量）和变量</h4><p>常量是不可改变的值，可以直接使用，但是一般我们不会直接使用，因为有一些比较麻烦。</p>
<p>变量是内存中命名的存储位置，可以在程序中设置和修改变量的值。在开发中都是通过变量去保存一个常量。</p>
<p>声明变量：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在JS中使用var关键字来声明变量</span></span><br><span class="line"><span class="keyword">var</span> x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为变量赋值常量</span></span><br><span class="line">x = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用变量</span></span><br><span class="line"><span class="built_in">document</span>.write(y);</span><br></pre></td></tr></table></figure></p>
<p>可以使用变量来描述常量。</p>
<h4 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h4><p>在JS中所有可以由我们自主命名的都可以成为标识符，例如：变量名、函数名、属性名都属于标识符。</p>
<p>命名一个标识符时需要遵守如下的规则：</p>
<ul>
<li>标识符中可以含有字母、数字、下划线和$符。</li>
<li>标识符不能以数字开头</li>
<li>标识符不能是ES中的关键字或保留字</li>
<li>标识符一般采用驼峰命名法</li>
<li>JS底层保存标识符时实际上采用的是Unicode编码，所以理论上讲，所有的utf-8中含有的内容都可以作为标识符，比如中文，但是一般不会这样用</li>
</ul>
<h4 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h4><ol>
<li><p>将其他类型转换为String</p>
<ul>
<li>方法一：调用被转换数据类型的toString()方法，该方法将返回转换的结果，其本身不变。null和undefinded没有toString()方法。</li>
<li>方法二：调用String()函数，并将被转换的数据作为参数传递给函数。对于Number和Boolean实际上就是调用toString()方法，对于null和undefinded，直接转换。  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用a的toString()方法，并重置a，a为null或undefinded时报错</span></span><br><span class="line">a = a.toString();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用String()方法，并重置a</span></span><br><span class="line">a = <span class="built_in">String</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);      <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(a);             <span class="comment">// "123"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>将其他的数据类型转换为Number</p>
<ul>
<li><p>方法一：使用Number()函数。</p>
<ul>
<li>字符串 -&gt; 数字：<ul>
<li>如果是纯数字的字符串，则直接转换为数字；</li>
<li>如果有非数字的字符串，则准换为NaN；</li>
<li>如果是空字符串或者空格字符串，则转换为0。</li>
</ul>
</li>
<li>布尔值 -&gt; 数字：<ul>
<li>true 转 1</li>
<li>false 转 0</li>
</ul>
</li>
<li>Null -&gt; 数字：0</li>
<li><p>undefined -&gt; 数字：NaN</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"123"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用String()方法，并重置a</span></span><br><span class="line">a = <span class="built_in">Number</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);      <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);             <span class="comment">// "123"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>方法二：专门对付字符串。</p>
<ul>
<li>parseInt() 把一个字符串转换为整数，将字符串中的有效的整数内容取出来（当出现非数字就停止），然后转换为Number。</li>
<li>parseFrom() 把一个字符串转换为浮点数，将字符串中的有效的小数内容取出来（当出现非数字和小数点就停止），然后转换为Number。</li>
<li><p>以上两种方法，对于非String类型，会先转换为String，然后再操作。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"123a234px"</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="built_in">parseInt</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);      <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);             <span class="comment">// 123</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">"12.345px"</span>;</span><br><span class="line"></span><br><span class="line">b = <span class="built_in">parseFloat</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b);      <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(b);             <span class="comment">// 12.345</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>将其他的数据类型转换为Boolean</p>
<ul>
<li>方法一：使用Boolean()函数。<ul>
<li>数字 -&gt; 布尔：除了0和NaN，其余的都是true。</li>
<li>字符串 -&gt; 布尔：除了空串，其余的都是true。</li>
<li>null和undefined -&gt; 布尔：false。</li>
<li>对象 -&gt; 布尔：true。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><p>运算符也叫操作符，通过运算符可以对一个或多个值进行运算，并获取运算结果。</p>
<ul>
<li><p>typeof</p>
<p>  可以用来获得一个值的类型，它会将该值的类型以字符串的形式返回。</p>
<p>  number、string、boolean、undefined、object</p>
</li>
<li><p>“+”、”-“</p>
<p>  正号不会对数字产生任何影响，符号可以对数字进行负号的取反。</p>
<p>  在运算时，对于非number类型的值，它会将值先转换为number，然后再运算。可以对一个其他的数据类型使用“+”，来将其转换为number类型。其原理和Number()函数一样。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = <span class="number">1</span> + +<span class="string">"2"</span> + <span class="number">3</span>;</span><br><span class="line">        </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result = "</span> + result);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>……</p>
<hr>
<h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p>对象的分类：</p>
<ol>
<li><p>内建对象</p>
<ul>
<li>由ES标准中定义的对象，在任何的ES的实现中都可以使用。如：Math、String、Number、Boolean、Function、Object…</li>
</ul>
</li>
<li><p>宿主对象</p>
<ul>
<li>由JS的运行环境提供的对象，目前来讲主要是指浏览器提供的对象。如BOM、DOM…</li>
</ul>
</li>
<li><p>自定义对象</p>
<ul>
<li>由开发人员自己创建的对象。内建对象和宿主对象时浏览器开发人员定义的自定义对象。</li>
</ul>
</li>
</ol>
<hr>
<h4 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 创建对象 */</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj);        <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(obj);           <span class="comment">// Object&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 在对象中保存的值称为属性</span></span><br><span class="line"><span class="comment"> * 向对象中添加属性：</span></span><br><span class="line"><span class="comment"> *      语法： 对象.属性名 = 属性值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">obj.name = <span class="string">"名字"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);       <span class="comment">// Object&#123; name="孙悟空"&#125;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="对象的-in-运算符"><a href="#对象的-in-运算符" class="headerlink" title="对象的 in 运算符"></a>对象的 in 运算符</h4><p>可以通过in运算符检查一个对象中是否含有指定的属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 查询对象obj中是否有test属性 */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"test"</span> <span class="keyword">in</span> obj);</span><br></pre></td></tr></table></figure>
<p>枚举对象中的属性：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* for...in语句，对象中有几个属性就遍历几次 */</span><br><span class="line">for(var n in obj)&#123;</span><br><span class="line">    console.log(n);     // 输出属性的名字n</span><br><span class="line">    console.log(obj[n]);        // 输出属性对应的值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="工厂方法创建对象"><a href="#工厂方法创建对象" class="headerlink" title="工厂方法创建对象"></a>工厂方法创建对象</h4><p>使用工厂方法创建的对象，使用的构造函数都是Object，所以创建的都是Object这个类型，所以就导致我们无法区分出多种不同类型的对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 创建工厂方法 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, gender</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line">    obj.name = name;</span><br><span class="line">    obj.age = age;</span><br><span class="line">    obj.gender = gender;</span><br><span class="line">    obj.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 使用工厂方法创建对象 */</span></span><br><span class="line"><span class="keyword">var</span> obj = createPerson(<span class="string">"孙悟空"</span>, <span class="number">20</span>, <span class="string">"男"</span>);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>构造函数就是一个普通函数，创建方式和普通函数没有区别。不同的是构造函数习惯上首字母大写。</p>
<p>构造函数需要使用<font color="red">new关键字</font>来调用。</p>
<p>比如使用工厂函数是候创建Object类一样，Object()就是一个构造函数            ：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure></p>
<p>构造函数的执行流程：</p>
<ol>
<li>立刻创建一个新的对象</li>
<li>将新建的对象设置为函数中的this，在构造函数中可以使用this来引用新建的对象</li>
<li>逐行执行函数中的代码</li>
<li>将新建的对象作为返回值返回</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> per = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">20</span>, <span class="string">"男"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(per);</span><br></pre></td></tr></table></figure>
<p>使用同一个构造函数创建的对象，我们称为一类对象，也将一个构造函数称为一个类，我们将通过同一个构造函数创建的对象称为是该类的实例。</p>
<p>使用instanceof可以检查一个对象是否是一个类的实例。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 判断per是否是Person类 */</span></span><br><span class="line"><span class="built_in">console</span>.log(per <span class="keyword">instanceof</span> Person);</span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="原型对象"><a href="#原型对象" class="headerlink" title="原型对象"></a>原型对象</h4><p>原型prototype，我们创建的每一个函数，解析器都会想函数中添加一个属性prototype，这个属性对应着一个对象，这个对象就是我们所谓的原型对象。</p>
<p>如果函数作为普通函数调用，prototype没有任何作用。</p>
<p>如果函数作为构造函数调用，它所创建爱你的对象都忽悠一个隐含的属性，指向构造函数的原型对象，可以通过<strong>proto</strong>来访问属性。</p>
<p>原型对象就相当于一个公共的区域，所有同一个类的实例都可以访问到这个原型对象，因此我们可以将对象中共有的内容，统一设置到原型对象中。比如之前的sayName()方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyClass</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">"name"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 向MyClass的原型中添加属性a */</span></span><br><span class="line">MyClass.prototype.a = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 向MyClass的原型中添加一个方法 */</span></span><br><span class="line">MyClass.prototype.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"hello"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mc = <span class="keyword">new</span> MyClass();</span><br><span class="line"><span class="keyword">var</span> mc2 = <span class="keyword">new</span> MyClass();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(mc.a)</span><br><span class="line"><span class="built_in">console</span>.log(mc.sayHello());</span><br><span class="line"><span class="built_in">console</span>.log(mc.a == mc2.a);      <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.sayHello == mc2.sayHello);      <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.sayName == mc2.sayName);    <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>任何对象都有原型对象，包括原型对象，但是Object对象没有原型，已经到底了。</p>
<hr>
<h4 id="查询对象中属性"><a href="#查询对象中属性" class="headerlink" title="查询对象中属性"></a>查询对象中属性</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* in运算符，检查对象中是否含有某个属性，原型中的属性也算 */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> mc);      <span class="comment">// 有就返回true，没有返回false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 用 对象原型的原型......中的hasOwnProperty()方法来检查对象自身中是否有某个属性，原型中的不算 */</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.hasOwnProperty(<span class="string">"name"</span>));     <span class="comment">// 只有当对象自身中含有属性时，才会返回true</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>函数 function 由若干条语句组成，用于实现特定的功能。</p>
<p>函数也是一个对象，函数汇总可以封装一些功能，在调用时执行这些功能代码。</p>
<p>每个函数中创建的内容都是独立的。</p>
<hr>
<h4 id="自定义函数声明"><a href="#自定义函数声明" class="headerlink" title="自定义函数声明"></a>自定义函数声明</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 函数声明 */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> 函数名(<span class="params">[形参<span class="number">1</span>，形参<span class="number">2</span>……]</span>)</span>&#123;</span><br><span class="line">        语句……</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 函数表达式创建匿名函数 */</span></span><br><span class="line">    <span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; 语句…… &#125;;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h4><ul>
<li><p>在JS代码中调用函数</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> &gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 函数声明 */</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1, num2</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> num1 + num2;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* JS中调用函数 */</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(sum(<span class="number">1</span>, <span class="number">2</span>));</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在Html中调用函数</p>
<p>  使用”javascript:”方式调用JavaScript函数。</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> &gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 函数声明 */</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1, num2</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.write(num1 + num2);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:sum(1, 2)"</span>&gt;</span>计算<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h4 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h4><p>顾名思义，立即执行函数就是函数定义完就立即被调用。立即执行往往只执行一次，所以常是用匿名函数作为立即执行函数。</p>
<p>之前我们说匿名函数语法如下，需要将匿名函数赋值给变量，然后调用变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 函数表达式创建匿名函数 */</span></span><br><span class="line">    <span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; 语句…… &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 调用 */</span></span><br><span class="line">    fun();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>立即执行函数只需要稍微变一下就是。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 立即执行函数 */</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * function语句单独使用会保存，但是如果将它用括号括起来，它就是一个整体，将不再报错，然后后面一个括号是函数的标志，加上之后就相当于调用了之前的一个function代码块，括号就是这个立即执行函数的形参域。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; 语句…… &#125;)();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="函数对象方法：call-和apply"><a href="#函数对象方法：call-和apply" class="headerlink" title="函数对象方法：call()和apply()"></a>函数对象方法：call()和apply()</h4><p>call()和apply()这两个方法都是函数对象的方法，需要通过函数对象来调用，当函数调用call()和apply()都会调用函数执行。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"我是fun函数！"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 效果相同 */</span></span><br><span class="line">fun.call();</span><br><span class="line">fun.apply();</span><br><span class="line">fun();</span><br></pre></td></tr></table></figure>
<p>函数的默认this是window，调用call()和apply()可以将一个对象指定为第一个参数，此时这个对象将会成为函数执行时的this。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">"obj"</span>&#125;;</span><br><span class="line"></span><br><span class="line">fun();              <span class="comment">// fun函数的this是window</span></span><br><span class="line">fun.call(obj);</span><br><span class="line">fun.apply(obj);        <span class="comment">// 此时fun函数的this就是obj了。</span></span><br></pre></td></tr></table></figure>
<p>传递参数。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">"obj"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* call()可以将实参在对象之后依次传递。 */</span></span><br><span class="line">fun.call(obj, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">/* apply()可以将实参封装到一个数组中统一传递 */</span></span><br><span class="line">fun.apply(obj, [<span class="number">1</span>, <span class="number">2</span>]);</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>作用域指一个变量的作用范围。</p>
<ul>
<li><p>全局作用域：</p>
<ul>
<li>直接编写在script标签中的JS代码，都在全局作用域中。</li>
<li>全局作用域在页面打开时创建，在页面关闭时销毁</li>
<li>全局作用域中有一个全局对象windows，它代表一个浏览器的窗口，由浏览器创建，可以直接使用。</li>
<li>在全局作用域中，创建的变量都会作为windows对象的属性保存；创建的函数都会作为windows对象的方法保存。</li>
<li>全局作用域中的变量都是全局变量，在页面的任意位置都能访问。</li>
</ul>
</li>
<li><p>局部作用域/函数作用域：</p>
<ul>
<li>调用函数时创建函数作用域，函数执行完毕以后，函数作用域被销毁。</li>
<li>每调用一次函数就会创建一个新的函数作用域，他们之间是互相独立的。</li>
<li>在函数作用域中可以访问到全局作用域中的变量，但是函数作用域中的变量只能被当前函数作用域中被访问。</li>
<li>当函数作用域中操作一个变量时，会先在自身作用域中寻找，如果有就用，没有就去上一级作用域中找，并不是直接找全局变量。</li>
<li>要在函数中访问全局变量，可以直接使用window对象。</li>
<li>在函数中，不适用var声明的变量都会成为全局变量。</li>
<li>定义形参就相当于在函数作用域中声明了变量。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="声明提前"><a href="#声明提前" class="headerlink" title="声明提前"></a>声明提前</h3><ul>
<li><p>变量的声明提前</p>
<p>  使用var关键字声明的变量，会在所有的代码执行之前被声明（但是不会被赋值）。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>
<p>  上述代码在浏览器中不会报错，但是控制台的输出结果为“a = undefined”，因为a使用var，出现声明提前，a被声明了，但是并没有赋值。就相当于如下的代码：</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> = a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a);</span><br><span class="line">a = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数的声明提前</p>
<p>  使用函数形式声明创建的函数function函数(){}，它会在所有的代码执行之前就被创建（优先级高）。所以我们可以在函数声明之前来调用函数，因为调用函数的的时候函数已经被声明了，不会出现任何问题。</p>
<p>  但是使用函数表达式创建的函数不会被声明提前，所以不能在声明前调用。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/* 函数声明会被提前 */</span></span><br><span class="line">fun()；</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我是一个fun函数"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 函数表达式不会被声明提前 */</span></span><br><span class="line"><span class="keyword">var</span> fun2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我是fun2函数"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun2();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="隐含参数：this"><a href="#隐含参数：this" class="headerlink" title="隐含参数：this"></a>隐含参数：this</h3><p>解析器在调用函数每次都会向函数内部传递进一个隐含参数，这个隐含参数就是this，指向的是一个对象，这个对象我们成为函数执行的上下文对象。很久函数的调用方式不同，this会指向不同的对象。</p>
<p>以函数的形式调用时，this永远都是window；以方法的形式调用时，this就是调用方法的那个对象。</p>
<hr>
<h3 id="toString方法"><a href="#toString方法" class="headerlink" title="toString方法"></a>toString方法</h3><p>toString()方法是Object对象中的方法，如果需要重写某个类的toString()方法，需要在类的原型中重写toString()方法。</p>
<hr>
<h3 id="垃圾回收-GC"><a href="#垃圾回收-GC" class="headerlink" title="垃圾回收(GC)"></a>垃圾回收(GC)</h3><p>程序运行过程中会产生垃圾，这些垃圾积攒过多后，会导致程序运行速度过慢，因此需要一个垃圾回收的机制，来处理程序运行中产生的垃圾。</p>
<p>当一个对象没有任何的变量或属性对它进行引用，此时我们将永远无法操作该对象，这种对象就是一个垃圾，这种对象过多会占用大量的内存空间，导致程序运行变慢，这种垃圾必须进行清理。</p>
<p>在JS中拥有自动的垃圾回收机制，会自动将这些垃圾对象从内存中销毁，我们不需要也不能进行垃圾回收的操作，不同浏览器清理方式不同。只需要将对象置null，浏览器就会自动清理，否则，浏览器无法判断。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象进行各种操作......</span></span><br><span class="line"></span><br><span class="line">obj = <span class="literal">null</span>;     <span class="comment">// 对象置空，将无法使用，产生垃圾。浏览器自动清理垃圾。</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="数组（Array）"><a href="#数组（Array）" class="headerlink" title="数组（Array）"></a>数组（Array）</h3><p>数组中的元素可以是任意类型的数据。</p>
<p><a href="http://www.w3school.com.cn/js/js_obj_array.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/js/js_obj_array.asp</a></p>
<p><a href="http://www.w3school.com.cn/jsref/jsref_obj_array.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/jsref_obj_array.asp</a></p>
<hr>
<h4 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h4><p>创建数组并赋值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 方法一：创建数组对象，并赋值 */</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 方法二：使用字面量来创建数组，并赋值 */</span></span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure>
<p>创建指定长度的数组，在JS中不常用，因为arr长度可以变化：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 如果使用Array对象来创建数组，当参数为单个值时，就表示创建该长度的数组 */</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="数组存取"><a href="#数组存取" class="headerlink" title="数组存取"></a>数组存取</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 向数组中添加元素</span></span><br><span class="line"><span class="comment"> * 语法：数组[索引] = 值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">33</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr);       <span class="comment">// "10,33"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 读取数组中的元素</span></span><br><span class="line"><span class="comment"> * 语法：数组[索引]</span></span><br><span class="line"><span class="comment"> * 数组越界，不会报错，返回undefined</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">0</span>]);        <span class="comment">// "10"</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="数组长度"><a href="#数组长度" class="headerlink" title="数组长度"></a>数组长度</h4><p>使用length属性可以进行数组长度操作。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 使用length属性获取数组的长度</span></span><br><span class="line"><span class="comment"> * 对于连续的数组，获取数组的长度，此时就是元素的个数</span></span><br><span class="line"><span class="comment"> * 对于非连续的数组，获取数组的最大索引+1，不一定等于元素的个数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">len = arr.length;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 使用length修改数组的长度</span></span><br><span class="line"><span class="comment"> * 如果修改的length大于数组的长度，则多出部分会空出来</span></span><br><span class="line"><span class="comment"> * 如果修改的length小鱼数组的长度，则多处的部分会被删除</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr.length = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);       <span class="comment">// "10,33,,,"</span></span><br></pre></td></tr></table></figure></p>
<p>可以用length属性向数组末尾添加元素。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line">i = <span class="number">0</span>;</span><br><span class="line">arr[arr.length] = i++;</span><br><span class="line">arr[arr.length] = i++;</span><br><span class="line">arr[arr.length] = i++;</span><br><span class="line">arr[arr.length] = i++;</span><br><span class="line"><span class="built_in">console</span>.log(arr);       <span class="comment">// "0,1,2,3"</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="数组遍历"><a href="#数组遍历" class="headerlink" title="数组遍历"></a>数组遍历</h4><p>方法一：普通for循环结合length属性即可。</p>
<p>方法二：for与in运算符。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i <span class="keyword">in</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>方法三：还有forEach方法遍历数组。这个方法只支持IE8以上的浏览器。可以在移动端浏览器运行。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * forEach()方法需要一个函数作为参数</span></span><br><span class="line"><span class="comment"> * 函数有我们创建但是不由我们调用，称为回调函数</span></span><br><span class="line"><span class="comment"> * 数组中有几个元素就会执行几次，每次执行时，浏览器会将遍历到的元素以实参的形式传递进来，我们可以来定义参数，来读取这些内容</span></span><br><span class="line"><span class="comment"> * 浏览器会在回调函数中传递三个参数：当前元素值、当前索引、正在遍历的数组全部值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, object</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="数组排序-sort"><a href="#数组排序-sort" class="headerlink" title="数组排序(sort)"></a>数组排序(sort)</h3><p>sort()方法用于排序，可以传入参数，自定义排序方法。不传参数，默认升序。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.sort());        <span class="comment">// 1,2,3,4,5</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 自定义排序函数，从大到小 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNumber</span>(<span class="params">a,b</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b-a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.sort(sortNumber));</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="隐含参数：arguments"><a href="#隐含参数：arguments" class="headerlink" title="隐含参数：arguments"></a>隐含参数：arguments</h3><p>在调用函数时，浏览器每次都会传递隐含的参数，除了this，还有arguments，是一个<font color="red">类数组</font>对象，arguments有数组效果但是不是数组。</p>
<p>在调用函数时，我们传递的实参都会在arguments中保存。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);      <span class="comment">// 获取arguments的长度</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun(<span class="string">"hello"</span>, <span class="literal">false</span>);        <span class="comment">// 控制台输出 2</span></span><br></pre></td></tr></table></figure>
<p>如上，函数并没有定义形参，仍然可以使用arguments来获取传入的实参。</p>
<p>arguments还有一个属性叫callee，对应当前正在指向的函数对象。</p>
<hr>
<h3 id="Math工具类"><a href="#Math工具类" class="headerlink" title="Math工具类"></a>Math工具类</h3><p>Math和其他的对象不同，它不是一个构造函数，它属于一个工具类，不用创建对象，它里边封装了数学运算相关的属性和方法。</p>
<p><a href="http://www.w3school.com.cn/jsref/jsref_obj_math.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/jsref_obj_math.asp</a></p>
<h4 id="ceil-向上取整方法"><a href="#ceil-向上取整方法" class="headerlink" title="ceil()向上取整方法"></a>ceil()向上取整方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.1</span>));        <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<h4 id="floor-向下取整方法"><a href="#floor-向下取整方法" class="headerlink" title="floor()向下取整方法"></a>floor()向下取整方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">1.1</span>));        <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h4 id="round-四舍五入方法"><a href="#round-四舍五入方法" class="headerlink" title="round()四舍五入方法"></a>round()四舍五入方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.1</span>));        <span class="comment">//  1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.6</span>));        <span class="comment">//  2</span></span><br></pre></td></tr></table></figure>
<h4 id="random-生成0到1随机数方法"><a href="#random-生成0到1随机数方法" class="headerlink" title="random()生成0到1随机数方法"></a>random()生成0到1随机数方法</h4><p>这个数在0到1之间，但是不包括0和1，可以通过其他的Math方法来实现包括0和1，然后乘一个倍数和加减法操作实现任意范围内的随机数。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.random());        <span class="comment">//  0.7679936159463725</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成x-y之间的随机数方法：</span></span><br><span class="line"><span class="comment">// Math.round(Math.random()*(y-x)+x);</span></span><br></pre></td></tr></table></figure></p>
<h4 id="max-和min-最大最小方法"><a href="#max-和min-最大最小方法" class="headerlink" title="max()和min()最大最小方法"></a>max()和min()最大最小方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> max = <span class="built_in">Math</span>.max(<span class="number">10</span>, <span class="number">45</span>, <span class="number">30</span>, <span class="number">100</span>);        <span class="comment">// 100</span></span><br><span class="line"><span class="keyword">var</span> min = <span class="built_in">Math</span>.min(<span class="number">10</span>, <span class="number">45</span>, <span class="number">30</span>, <span class="number">100</span>);        <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h3><p>在JS中有三个包装类，这三个包装类可以将基本数据类型的数据转换为对象。</p>
<p>三个包装类：</p>
<ul>
<li><p>String()：可以将基本数据类型的字符串转换为String对象</p>
</li>
<li><p>Number()：可以将基本数据类型的数字转换为Number对象</p>
</li>
<li><p>Boolean()：可以加个基本数据类型的布尔值转换为Boolean对象</p>
</li>
</ul>
<font color="red">但是注意，我们再实际应用中不会使用基本数据类型的对象，如果使用基本客户数据类型的对象，在做一些比较时可能会带来一些不可预期的结果。</font>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(num);       <span class="comment">// Number &#123; 2 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> num);        <span class="comment">// object</span></span><br><span class="line"></span><br><span class="line">------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello"</span>);      </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str);       <span class="comment">// String &#123; "hello" &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str);        <span class="comment">// object</span></span><br><span class="line"></span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">num.hello = <span class="string">"abc"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(num.hello);     <span class="comment">// abc</span></span><br><span class="line"></span><br><span class="line">-------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num2 = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(num == num2);         <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>当我们对一些基本数据类型的值去调用属性和方法时，浏览器会临时使用包装类将其转换成对象，然后嗲用对象的属性和方法。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 方法和属性智能添加对象，不能添加给基本数据类型 */</span></span><br><span class="line"><span class="keyword">var</span> s = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line">s = s.toString();       <span class="comment">// 临时将s转换成Number对象，然后调用Number对象的toString()方法，用完后销毁</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(s);             <span class="comment">// "123"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s);      <span class="comment">// string</span></span><br><span class="line"></span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">s.hello = <span class="string">"nihao"</span>;          <span class="comment">// 现在s是string基本数据类型，先转换成String对象添加属性，之后销毁，又变成了string基本数据类型</span></span><br><span class="line"><span class="built_in">console</span>.log(s.hello);       <span class="comment">// "undefined"，因为此处仍然需要先转换为String对象，但是这个String对象不是之前那个有hello属性的对象，因为之前那个已经被销毁了。</span></span><br></pre></td></tr></table></figure></p>
<h4 id="String对象方法"><a href="#String对象方法" class="headerlink" title="String对象方法"></a>String对象方法</h4><p>字符串在底层是以字符数组的形式保存的。</p>
<p>字符串对象方法大都对本身没有影响，会返回一个新的值。</p>
<h5 id="charAt"><a href="#charAt" class="headerlink" title="charAt()"></a>charAt()</h5><p>可以返回字符串中指定位置的字符，和数组下标效果相同。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.charAt(<span class="number">0</span>));     <span class="comment">// h</span></span><br><span class="line"><span class="built_in">console</span>.log(str[<span class="number">0</span>]);            <span class="comment">// h</span></span><br></pre></td></tr></table></figure>
<h5 id="charCodeAt"><a href="#charCodeAt" class="headerlink" title="charCodeAt()"></a>charCodeAt()</h5><p>返回在指定的位置的字符的 Unicode 编码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.charAt(<span class="number">0</span>));     <span class="comment">// 104</span></span><br></pre></td></tr></table></figure>
<h5 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf()"></a>indexOf()</h5><p>检索字符串是否包含指定内容（正序），找到返回指定内容的位置，否则返回-1。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.indexOf(<span class="string">"el"</span>));     <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.indexof(<span class="string">"l"</span>, <span class="number">3</span>));     <span class="comment">// 3，从位置3开始查找指定内容</span></span><br></pre></td></tr></table></figure>
<h5 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf()"></a>lastIndexOf()</h5><p>检索字符串是否包含指定内容（反序），找到返回指定内容的位置，否则返回-1。</p>
<hr>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><p>更多：<a href="http://www.w3school.com.cn/json/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/json/index.asp</a></p>
<p>JSON(JavaScript Object Notation, JS 对象简谱) 是一种轻量级的数据交换格式。</p>
<p>JSON分类：</p>
<ul>
<li><p>JSON对象(键值对)：’{“name”: “孙悟空”, “age”: 18}’;</p>
</li>
<li><p>JSON数组：’[“孙悟空”, 18]’;</p>
</li>
</ul>
<p>JSON允许的值：字符串、数值、布尔值、null、对象、数组。</p>
<font color="red">IE7及以下浏览器未定义JSON对象。</font>

<hr>
<h4 id="JSON转成JS对象"><a href="#JSON转成JS对象" class="headerlink" title="JSON转成JS对象"></a>JSON转成JS对象</h4><p>使用JSObj = JSON.parse(jsonStr);方法获取其返回值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="keyword">var</span> json = <span class="string">'&#123;"name": "孙悟空", "age": 18&#125;'</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> jsonArr = <span class="string">'["孙悟空", 18]'</span>;</span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="javascript">             * 将<span class="built_in">JSON</span>字符串转换为JS中的对象。</span></span><br><span class="line"><span class="javascript">             * 在JS中，为我们提供了一个工具类，就叫<span class="built_in">JSON</span></span></span><br><span class="line"><span class="undefined">             * </span></span><br><span class="line"><span class="undefined">             * json --&gt; js对象</span></span><br><span class="line"><span class="javascript">             *  <span class="built_in">JSON</span>.parse()</span></span><br><span class="line"><span class="javascript">             *      - 可以将<span class="built_in">JSON</span>字符串转换为js对象</span></span><br><span class="line"><span class="javascript">             *      - 它需要一个<span class="built_in">JSON</span>字符串作为参数</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> obj = <span class="built_in">JSON</span>.parse(json);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> obj2 = <span class="built_in">JSON</span>.parse(jsonArr);</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            alert(obj.name + <span class="string">" "</span> + obj2[<span class="number">0</span>]);        <span class="comment">// 孙悟空 孙悟空</span></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="JS对象转成JSON"><a href="#JS对象转成JSON" class="headerlink" title="JS对象转成JSON"></a>JS对象转成JSON</h4><p>使用JsonStr = JSON.stringify(obj);获取其返回值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="keyword">var</span> obj = &#123;<span class="attr">name</span>: <span class="string">"孙悟空"</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> str = <span class="built_in">JSON</span>.stringify(obj);</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            alert(str);         <span class="comment">// "name": "孙悟空", "age": 18&#125;</span></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="兼容IE7，不常用"><a href="#兼容IE7，不常用" class="headerlink" title="兼容IE7，不常用"></a>兼容IE7，不常用</h4><h5 id="第一种方法：不常用，不建议用。"><a href="#第一种方法：不常用，不建议用。" class="headerlink" title="第一种方法：不常用，不建议用。"></a>第一种方法：不常用，不建议用。</h5><p>eval()函数：用来执行一段字符串形式的JS代码，并将执行结果返回。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="keyword">var</span> json = <span class="string">'&#123;"name": "孙悟空", "age": 18&#125;'</span>;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="javascript">             * <span class="built_in">eval</span>()</span></span><br><span class="line"><span class="undefined">             *  - 用来执行一段字符串形式的JS代码，并将执行结果返回。</span></span><br><span class="line"><span class="javascript">             *  - 如果使用<span class="built_in">eval</span>()执行的字符串中含有&#123;&#125;，它会将&#123;&#125;当成代码块，如果不喜欢被当成代码块，则需要在字符串前后加一个()</span></span><br><span class="line"><span class="undefined">             * </span></span><br><span class="line"><span class="javascript">             *  - <span class="built_in">eval</span>()函数功能很强大，可以直接执行一个字符串中的js代码，但是执行性能比较差，并且有安全隐患。</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> obj = <span class="built_in">eval</span>(<span class="string">"("</span> + json + <span class="string">")"</span>);</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            alert(obj.name);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="第二种方法：引入外部js文件进行处理"><a href="#第二种方法：引入外部js文件进行处理" class="headerlink" title="第二种方法：引入外部js文件进行处理"></a>第二种方法：引入外部js文件进行处理</h5><p>IE7及以下浏览器没有JSON对象，所以不能进行JSON解析，所以，以下这种方法就是创建了一个JSON对象！！！如果真的要使用，直接复制如下代码到外部js文件中即可……</p>
<p>json2.js:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  json2.js</span></span><br><span class="line"><span class="comment">//  2016-05-01</span></span><br><span class="line"><span class="comment">//  Public Domain.</span></span><br><span class="line"><span class="comment">//  NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.</span></span><br><span class="line"><span class="comment">//  See http://www.JSON.org/js.html</span></span><br><span class="line"><span class="comment">//  This code should be minified before deployment.</span></span><br><span class="line"><span class="comment">//  See http://javascript.crockford.com/jsmin.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO</span></span><br><span class="line"><span class="comment">//  NOT CONTROL.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  This file creates a global JSON object containing two methods: stringify</span></span><br><span class="line"><span class="comment">//  and parse. This file is provides the ES5 JSON capability to ES3 systems.</span></span><br><span class="line"><span class="comment">//  If a project might run on IE8 or earlier, then this file should be included.</span></span><br><span class="line"><span class="comment">//  This file does nothing on ES5 systems.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      JSON.stringify(value, replacer, space)</span></span><br><span class="line"><span class="comment">//          value       any JavaScript value, usually an object or array.</span></span><br><span class="line"><span class="comment">//          replacer    an optional parameter that determines how object</span></span><br><span class="line"><span class="comment">//                      values are stringified for objects. It can be a</span></span><br><span class="line"><span class="comment">//                      function or an array of strings.</span></span><br><span class="line"><span class="comment">//          space       an optional parameter that specifies the indentation</span></span><br><span class="line"><span class="comment">//                      of nested structures. If it is omitted, the text will</span></span><br><span class="line"><span class="comment">//                      be packed without extra whitespace. If it is a number,</span></span><br><span class="line"><span class="comment">//                      it will specify the number of spaces to indent at each</span></span><br><span class="line"><span class="comment">//                      level. If it is a string (such as "\t" or "&amp;nbsp;"),</span></span><br><span class="line"><span class="comment">//                      it contains the characters used to indent at each level.</span></span><br><span class="line"><span class="comment">//          This method produces a JSON text from a JavaScript value.</span></span><br><span class="line"><span class="comment">//          When an object value is found, if the object contains a toJSON</span></span><br><span class="line"><span class="comment">//          method, its toJSON method will be called and the result will be</span></span><br><span class="line"><span class="comment">//          stringified. A toJSON method does not serialize: it returns the</span></span><br><span class="line"><span class="comment">//          value represented by the name/value pair that should be serialized,</span></span><br><span class="line"><span class="comment">//          or undefined if nothing should be serialized. The toJSON method</span></span><br><span class="line"><span class="comment">//          will be passed the key associated with the value, and this will be</span></span><br><span class="line"><span class="comment">//          bound to the value.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          For example, this would serialize Dates as ISO strings.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//              Date.prototype.toJSON = function (key) &#123;</span></span><br><span class="line"><span class="comment">//                  function f(n) &#123;</span></span><br><span class="line"><span class="comment">//                      // Format integers to have at least two digits.</span></span><br><span class="line"><span class="comment">//                      return (n &lt; 10)</span></span><br><span class="line"><span class="comment">//                          ? "0" + n</span></span><br><span class="line"><span class="comment">//                          : n;</span></span><br><span class="line"><span class="comment">//                  &#125;</span></span><br><span class="line"><span class="comment">//                  return this.getUTCFullYear()   + "-" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCMonth() + 1) + "-" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCDate())      + "T" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCHours())     + ":" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCMinutes())   + ":" +</span></span><br><span class="line"><span class="comment">//                       f(this.getUTCSeconds())   + "Z";</span></span><br><span class="line"><span class="comment">//              &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          You can provide an optional replacer method. It will be passed the</span></span><br><span class="line"><span class="comment">//          key and value of each member, with this bound to the containing</span></span><br><span class="line"><span class="comment">//          object. The value that is returned from your method will be</span></span><br><span class="line"><span class="comment">//          serialized. If your method returns undefined, then the member will</span></span><br><span class="line"><span class="comment">//          be excluded from the serialization.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          If the replacer parameter is an array of strings, then it will be</span></span><br><span class="line"><span class="comment">//          used to select the members to be serialized. It filters the results</span></span><br><span class="line"><span class="comment">//          such that only members with keys listed in the replacer array are</span></span><br><span class="line"><span class="comment">//          stringified.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          Values that do not have JSON representations, such as undefined or</span></span><br><span class="line"><span class="comment">//          functions, will not be serialized. Such values in objects will be</span></span><br><span class="line"><span class="comment">//          dropped; in arrays they will be replaced with null. You can use</span></span><br><span class="line"><span class="comment">//          a replacer function to replace those with JSON values.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          JSON.stringify(undefined) returns undefined.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          The optional space parameter produces a stringification of the</span></span><br><span class="line"><span class="comment">//          value that is filled with line breaks and indentation to make it</span></span><br><span class="line"><span class="comment">//          easier to read.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          If the space parameter is a non-empty string, then that string will</span></span><br><span class="line"><span class="comment">//          be used for indentation. If the space parameter is a number, then</span></span><br><span class="line"><span class="comment">//          the indentation will be that many spaces.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          Example:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          text = JSON.stringify(["e", &#123;pluribus: "unum"&#125;]);</span></span><br><span class="line"><span class="comment">//          // text is '["e",&#123;"pluribus":"unum"&#125;]'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          text = JSON.stringify(["e", &#123;pluribus: "unum"&#125;], null, "\t");</span></span><br><span class="line"><span class="comment">//          // text is '[\n\t"e",\n\t&#123;\n\t\t"pluribus": "unum"\n\t&#125;\n]'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          text = JSON.stringify([new Date()], function (key, value) &#123;</span></span><br><span class="line"><span class="comment">//              return this[key] instanceof Date</span></span><br><span class="line"><span class="comment">//                  ? "Date(" + this[key] + ")"</span></span><br><span class="line"><span class="comment">//                  : value;</span></span><br><span class="line"><span class="comment">//          &#125;);</span></span><br><span class="line"><span class="comment">//          // text is '["Date(---current time---)"]'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      JSON.parse(text, reviver)</span></span><br><span class="line"><span class="comment">//          This method parses a JSON text to produce an object or array.</span></span><br><span class="line"><span class="comment">//          It can throw a SyntaxError exception.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          The optional reviver parameter is a function that can filter and</span></span><br><span class="line"><span class="comment">//          transform the results. It receives each of the keys and values,</span></span><br><span class="line"><span class="comment">//          and its return value is used instead of the original value.</span></span><br><span class="line"><span class="comment">//          If it returns what it received, then the structure is not modified.</span></span><br><span class="line"><span class="comment">//          If it returns undefined then the member is deleted.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          Example:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          // Parse the text. Values that look like ISO date strings will</span></span><br><span class="line"><span class="comment">//          // be converted to Date objects.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          myData = JSON.parse(text, function (key, value) &#123;</span></span><br><span class="line"><span class="comment">//              var a;</span></span><br><span class="line"><span class="comment">//              if (typeof value === "string") &#123;</span></span><br><span class="line"><span class="comment">//                  a =</span></span><br><span class="line"><span class="comment">//   /^(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)T(\d&#123;2&#125;):(\d&#123;2&#125;):(\d&#123;2&#125;(?:\.\d*)?)Z$/.exec(value);</span></span><br><span class="line"><span class="comment">//                  if (a) &#123;</span></span><br><span class="line"><span class="comment">//                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],</span></span><br><span class="line"><span class="comment">//                          +a[5], +a[6]));</span></span><br><span class="line"><span class="comment">//                  &#125;</span></span><br><span class="line"><span class="comment">//              &#125;</span></span><br><span class="line"><span class="comment">//              return value;</span></span><br><span class="line"><span class="comment">//          &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//          myData = JSON.parse('["Date(09/09/2001)"]', function (key, value) &#123;</span></span><br><span class="line"><span class="comment">//              var d;</span></span><br><span class="line"><span class="comment">//              if (typeof value === "string" &amp;&amp;</span></span><br><span class="line"><span class="comment">//                      value.slice(0, 5) === "Date(" &amp;&amp;</span></span><br><span class="line"><span class="comment">//                      value.slice(-1) === ")") &#123;</span></span><br><span class="line"><span class="comment">//                  d = new Date(value.slice(5, -1));</span></span><br><span class="line"><span class="comment">//                  if (d) &#123;</span></span><br><span class="line"><span class="comment">//                      return d;</span></span><br><span class="line"><span class="comment">//                  &#125;</span></span><br><span class="line"><span class="comment">//              &#125;</span></span><br><span class="line"><span class="comment">//              return value;</span></span><br><span class="line"><span class="comment">//          &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  This is a reference implementation. You are free to copy, modify, or</span></span><br><span class="line"><span class="comment">//  redistribute.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*jslint</span></span><br><span class="line"><span class="comment">    eval, for, this</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*property</span></span><br><span class="line"><span class="comment">    JSON, apply, call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,</span></span><br><span class="line"><span class="comment">    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,</span></span><br><span class="line"><span class="comment">    lastIndex, length, parse, prototype, push, replace, slice, stringify,</span></span><br><span class="line"><span class="comment">    test, toJSON, toString, valueOf</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a JSON object only if one does not already exist. We create the</span></span><br><span class="line"><span class="comment">// methods in a closure to avoid creating global variables.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">JSON</span> !== <span class="string">"object"</span>) &#123;</span><br><span class="line">    <span class="built_in">JSON</span> = &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    "use strict"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> rx_one = <span class="regexp">/^[\],:&#123;&#125;\s]*$/</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_two = <span class="regexp">/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]&#123;4&#125;)/g</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_three = <span class="regexp">/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_four = <span class="regexp">/(?:^|:|,)(?:\s*\[)+/g</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_escapable = <span class="regexp">/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g</span>;</span><br><span class="line">    <span class="keyword">var</span> rx_dangerous = <span class="regexp">/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// Format integers to have at least two digits.</span></span><br><span class="line">        <span class="keyword">return</span> n &lt; <span class="number">10</span></span><br><span class="line">            ? <span class="string">"0"</span> + n</span><br><span class="line">            : n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">this_value</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.valueOf();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Date</span>.prototype.toJSON !== <span class="string">"function"</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">Date</span>.prototype.toJSON = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">isFinite</span>(<span class="keyword">this</span>.valueOf())</span><br><span class="line">                ? <span class="keyword">this</span>.getUTCFullYear() + <span class="string">"-"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCMonth() + <span class="number">1</span>) + <span class="string">"-"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCDate()) + <span class="string">"T"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCHours()) + <span class="string">":"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCMinutes()) + <span class="string">":"</span> +</span><br><span class="line">                        f(<span class="keyword">this</span>.getUTCSeconds()) + <span class="string">"Z"</span></span><br><span class="line">                : <span class="literal">null</span>;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">Boolean</span>.prototype.toJSON = this_value;</span><br><span class="line">        <span class="built_in">Number</span>.prototype.toJSON = this_value;</span><br><span class="line">        <span class="built_in">String</span>.prototype.toJSON = this_value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> gap;</span><br><span class="line">    <span class="keyword">var</span> indent;</span><br><span class="line">    <span class="keyword">var</span> meta;</span><br><span class="line">    <span class="keyword">var</span> rep;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">quote</span>(<span class="params">string</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the string contains no control characters, no quote characters, and no</span></span><br><span class="line"><span class="comment">// backslash characters, then we can safely slap some quotes around it.</span></span><br><span class="line"><span class="comment">// Otherwise we must also replace the offending characters with safe escape</span></span><br><span class="line"><span class="comment">// sequences.</span></span><br><span class="line"></span><br><span class="line">        rx_escapable.lastIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> rx_escapable.test(string)</span><br><span class="line">            ? <span class="string">"\""</span> + string.replace(rx_escapable, <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> c = meta[a];</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">typeof</span> c === <span class="string">"string"</span></span><br><span class="line">                    ? c</span><br><span class="line">                    : <span class="string">"\\u"</span> + (<span class="string">"0000"</span> + a.charCodeAt(<span class="number">0</span>).toString(<span class="number">16</span>)).slice(<span class="number">-4</span>);</span><br><span class="line">            &#125;) + <span class="string">"\""</span></span><br><span class="line">            : <span class="string">"\""</span> + string + <span class="string">"\""</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">str</span>(<span class="params">key, holder</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Produce a string from holder[key].</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> i;          <span class="comment">// The loop counter.</span></span><br><span class="line">        <span class="keyword">var</span> k;          <span class="comment">// The member key.</span></span><br><span class="line">        <span class="keyword">var</span> v;          <span class="comment">// The member value.</span></span><br><span class="line">        <span class="keyword">var</span> length;</span><br><span class="line">        <span class="keyword">var</span> mind = gap;</span><br><span class="line">        <span class="keyword">var</span> partial;</span><br><span class="line">        <span class="keyword">var</span> value = holder[key];</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the value has a toJSON method, call it to obtain a replacement value.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (value &amp;&amp; <span class="keyword">typeof</span> value === <span class="string">"object"</span> &amp;&amp;</span><br><span class="line">                <span class="keyword">typeof</span> value.toJSON === <span class="string">"function"</span>) &#123;</span><br><span class="line">            value = value.toJSON(key);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If we were called with a replacer function, then call the replacer to</span></span><br><span class="line"><span class="comment">// obtain a replacement value.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> rep === <span class="string">"function"</span>) &#123;</span><br><span class="line">            value = rep.call(holder, key, value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// What happens next depends on the value's type.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (<span class="keyword">typeof</span> value) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"string"</span>:</span><br><span class="line">            <span class="keyword">return</span> quote(value);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">"number"</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">// JSON numbers must be finite. Encode non-finite numbers as null.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">isFinite</span>(value)</span><br><span class="line">                ? <span class="built_in">String</span>(value)</span><br><span class="line">                : <span class="string">"null"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">"boolean"</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"null"</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the value is a boolean or null, convert it to a string. Note:</span></span><br><span class="line"><span class="comment">// typeof null does not produce "null". The case is included here in</span></span><br><span class="line"><span class="comment">// the remote chance that this gets fixed someday.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">String</span>(value);</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the type is "object", we might be dealing with an object or an array or</span></span><br><span class="line"><span class="comment">// null.</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">"object"</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">// Due to a specification blunder in ECMAScript, typeof null is "object",</span></span><br><span class="line"><span class="comment">// so watch out for that case.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!value) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"null"</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make an array to hold the partial results of stringifying this object value.</span></span><br><span class="line"></span><br><span class="line">            gap += indent;</span><br><span class="line">            partial = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Is the value an array?</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.apply(value) === <span class="string">"[object Array]"</span>) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The value is an array. Stringify every element. Use null as a placeholder</span></span><br><span class="line"><span class="comment">// for non-JSON values.</span></span><br><span class="line"></span><br><span class="line">                length = value.length;</span><br><span class="line">                <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i += <span class="number">1</span>) &#123;</span><br><span class="line">                    partial[i] = str(i, value) || <span class="string">"null"</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Join all of the elements together, separated with commas, and wrap them in</span></span><br><span class="line"><span class="comment">// brackets.</span></span><br><span class="line"></span><br><span class="line">                v = partial.length === <span class="number">0</span></span><br><span class="line">                    ? <span class="string">"[]"</span></span><br><span class="line">                    : gap</span><br><span class="line">                        ? <span class="string">"[\n"</span> + gap + partial.join(<span class="string">",\n"</span> + gap) + <span class="string">"\n"</span> + mind + <span class="string">"]"</span></span><br><span class="line">                        : <span class="string">"["</span> + partial.join(<span class="string">","</span>) + <span class="string">"]"</span>;</span><br><span class="line">                gap = mind;</span><br><span class="line">                <span class="keyword">return</span> v;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the replacer is an array, use it to select the members to be stringified.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (rep &amp;&amp; <span class="keyword">typeof</span> rep === <span class="string">"object"</span>) &#123;</span><br><span class="line">                length = rep.length;</span><br><span class="line">                <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i += <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">typeof</span> rep[i] === <span class="string">"string"</span>) &#123;</span><br><span class="line">                        k = rep[i];</span><br><span class="line">                        v = str(k, value);</span><br><span class="line">                        <span class="keyword">if</span> (v) &#123;</span><br><span class="line">                            partial.push(quote(k) + (</span><br><span class="line">                                gap</span><br><span class="line">                                    ? <span class="string">": "</span></span><br><span class="line">                                    : <span class="string">":"</span></span><br><span class="line">                            ) + v);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Otherwise, iterate through all of the keys in the object.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (k <span class="keyword">in</span> value) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.hasOwnProperty.call(value, k)) &#123;</span><br><span class="line">                        v = str(k, value);</span><br><span class="line">                        <span class="keyword">if</span> (v) &#123;</span><br><span class="line">                            partial.push(quote(k) + (</span><br><span class="line">                                gap</span><br><span class="line">                                    ? <span class="string">": "</span></span><br><span class="line">                                    : <span class="string">":"</span></span><br><span class="line">                            ) + v);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Join all of the member texts together, separated with commas,</span></span><br><span class="line"><span class="comment">// and wrap them in braces.</span></span><br><span class="line"></span><br><span class="line">            v = partial.length === <span class="number">0</span></span><br><span class="line">                ? <span class="string">"&#123;&#125;"</span></span><br><span class="line">                : gap</span><br><span class="line">                    ? <span class="string">"&#123;\n"</span> + gap + partial.join(<span class="string">",\n"</span> + gap) + <span class="string">"\n"</span> + mind + <span class="string">"&#125;"</span></span><br><span class="line">                    : <span class="string">"&#123;"</span> + partial.join(<span class="string">","</span>) + <span class="string">"&#125;"</span>;</span><br><span class="line">            gap = mind;</span><br><span class="line">            <span class="keyword">return</span> v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the JSON object does not yet have a stringify method, give it one.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">JSON</span>.stringify !== <span class="string">"function"</span>) &#123;</span><br><span class="line">        meta = &#123;    <span class="comment">// table of character substitutions</span></span><br><span class="line">            <span class="string">"\b"</span>: <span class="string">"\\b"</span>,</span><br><span class="line">            <span class="string">"\t"</span>: <span class="string">"\\t"</span>,</span><br><span class="line">            <span class="string">"\n"</span>: <span class="string">"\\n"</span>,</span><br><span class="line">            <span class="string">"\f"</span>: <span class="string">"\\f"</span>,</span><br><span class="line">            <span class="string">"\r"</span>: <span class="string">"\\r"</span>,</span><br><span class="line">            <span class="string">"\""</span>: <span class="string">"\\\""</span>,</span><br><span class="line">            <span class="string">"\\"</span>: <span class="string">"\\\\"</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">JSON</span>.stringify = <span class="function"><span class="keyword">function</span> (<span class="params">value, replacer, space</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The stringify method takes a value and an optional replacer, and an optional</span></span><br><span class="line"><span class="comment">// space parameter, and returns a JSON text. The replacer can be a function</span></span><br><span class="line"><span class="comment">// that can replace values, or an array of strings that will select the keys.</span></span><br><span class="line"><span class="comment">// A default replacer method can be provided. Use of the space parameter can</span></span><br><span class="line"><span class="comment">// produce text that is more easily readable.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> i;</span><br><span class="line">            gap = <span class="string">""</span>;</span><br><span class="line">            indent = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the space parameter is a number, make an indent string containing that</span></span><br><span class="line"><span class="comment">// many spaces.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> space === <span class="string">"number"</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; space; i += <span class="number">1</span>) &#123;</span><br><span class="line">                    indent += <span class="string">" "</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the space parameter is a string, it will be used as the indent string.</span></span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> space === <span class="string">"string"</span>) &#123;</span><br><span class="line">                indent = space;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If there is a replacer, it must be a function or an array.</span></span><br><span class="line"><span class="comment">// Otherwise, throw an error.</span></span><br><span class="line"></span><br><span class="line">            rep = replacer;</span><br><span class="line">            <span class="keyword">if</span> (replacer &amp;&amp; <span class="keyword">typeof</span> replacer !== <span class="string">"function"</span> &amp;&amp;</span><br><span class="line">                    (<span class="keyword">typeof</span> replacer !== <span class="string">"object"</span> ||</span><br><span class="line">                    <span class="keyword">typeof</span> replacer.length !== <span class="string">"number"</span>)) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"JSON.stringify"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make a fake root object containing our value under the key of "".</span></span><br><span class="line"><span class="comment">// Return the result of stringifying the value.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> str(<span class="string">""</span>, &#123;<span class="string">""</span>: value&#125;);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// If the JSON object does not yet have a parse method, give it one.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">JSON</span>.parse !== <span class="string">"function"</span>) &#123;</span><br><span class="line">        <span class="built_in">JSON</span>.parse = <span class="function"><span class="keyword">function</span> (<span class="params">text, reviver</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The parse method takes a text and an optional reviver function, and returns</span></span><br><span class="line"><span class="comment">// a JavaScript value if the text is a valid JSON text.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> j;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">walk</span>(<span class="params">holder, key</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// The walk method is used to recursively walk the resulting structure so</span></span><br><span class="line"><span class="comment">// that modifications can be made.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> k;</span><br><span class="line">                <span class="keyword">var</span> v;</span><br><span class="line">                <span class="keyword">var</span> value = holder[key];</span><br><span class="line">                <span class="keyword">if</span> (value &amp;&amp; <span class="keyword">typeof</span> value === <span class="string">"object"</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (k <span class="keyword">in</span> value) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.hasOwnProperty.call(value, k)) &#123;</span><br><span class="line">                            v = walk(value, k);</span><br><span class="line">                            <span class="keyword">if</span> (v !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">                                value[k] = v;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">delete</span> value[k];</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> reviver.call(holder, key, value);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Parsing happens in four stages. In the first stage, we replace certain</span></span><br><span class="line"><span class="comment">// Unicode characters with escape sequences. JavaScript handles many characters</span></span><br><span class="line"><span class="comment">// incorrectly, either silently deleting them, or treating them as line endings.</span></span><br><span class="line"></span><br><span class="line">            text = <span class="built_in">String</span>(text);</span><br><span class="line">            rx_dangerous.lastIndex = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (rx_dangerous.test(text)) &#123;</span><br><span class="line">                text = text.replace(rx_dangerous, <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"\\u"</span> +</span><br><span class="line">                            (<span class="string">"0000"</span> + a.charCodeAt(<span class="number">0</span>).toString(<span class="number">16</span>)).slice(<span class="number">-4</span>);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// In the second stage, we run the text against regular expressions that look</span></span><br><span class="line"><span class="comment">// for non-JSON patterns. We are especially concerned with "()" and "new"</span></span><br><span class="line"><span class="comment">// because they can cause invocation, and "=" because it can cause mutation.</span></span><br><span class="line"><span class="comment">// But just to be safe, we want to reject all unexpected forms.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// We split the second stage into 4 regexp operations in order to work around</span></span><br><span class="line"><span class="comment">// crippling inefficiencies in IE's and Safari's regexp engines. First we</span></span><br><span class="line"><span class="comment">// replace the JSON backslash pairs with "@" (a non-JSON character). Second, we</span></span><br><span class="line"><span class="comment">// replace all simple value tokens with "]" characters. Third, we delete all</span></span><br><span class="line"><span class="comment">// open brackets that follow a colon or comma or that begin the text. Finally,</span></span><br><span class="line"><span class="comment">// we look to see that the remaining characters are only whitespace or "]" or</span></span><br><span class="line"><span class="comment">// "," or ":" or "&#123;" or "&#125;". If that is so, then the text is safe for eval.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (</span><br><span class="line">                rx_one.test(</span><br><span class="line">                    text</span><br><span class="line">                        .replace(rx_two, <span class="string">"@"</span>)</span><br><span class="line">                        .replace(rx_three, <span class="string">"]"</span>)</span><br><span class="line">                        .replace(rx_four, <span class="string">""</span>)</span><br><span class="line">                )</span><br><span class="line">            ) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// In the third stage we use the eval function to compile the text into a</span></span><br><span class="line"><span class="comment">// JavaScript structure. The "&#123;" operator is subject to a syntactic ambiguity</span></span><br><span class="line"><span class="comment">// in JavaScript: it can begin a block or an object literal. We wrap the text</span></span><br><span class="line"><span class="comment">// in parens to eliminate the ambiguity.</span></span><br><span class="line"></span><br><span class="line">                j = <span class="built_in">eval</span>(<span class="string">"("</span> + text + <span class="string">")"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// In the optional fourth stage, we recursively walk the new structure, passing</span></span><br><span class="line"><span class="comment">// each name/value pair to a reviver function for possible transformation.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> (<span class="keyword">typeof</span> reviver === <span class="string">"function"</span>)</span><br><span class="line">                    ? walk(&#123;<span class="string">""</span>: j&#125;, <span class="string">""</span>)</span><br><span class="line">                    : j;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the text is not JSON parseable, then a SyntaxError is thrown.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">SyntaxError</span>(<span class="string">"JSON.parse"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/18/前端-JavaScript基础/" data-id="ck1aoo3uc006nj0uttkj4crks" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-Html_Css常见问题解决" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/14/前端-Html_Css常见问题解决/" class="article-date">
  <time datetime="2018-12-14T11:24:18.000Z" itemprop="datePublished">2018-12-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/14/前端-Html_Css常见问题解决/">Html_Css常见问题解决</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：<br><!-- TOC --></p>
<ul>
<li><a href="#高度塌陷问题">高度塌陷问题</a><ul>
<li><a href="#父容器的高度塌陷问题">父容器的高度塌陷问题</a><pre><code>- [案例描述：](#案例描述)
- [问题描述：](#问题描述)
- [原理及解决方法：](#原理及解决方法)
</code></pre></li>
<li><a href="#元素浮动造成的高度塌陷问题">元素浮动造成的高度塌陷问题</a><pre><code>- [案例描述：](#案例描述-1)
- [问题描述](#问题描述)
- [解决方法](#解决方法)
</code></pre></li>
</ul>
</li>
<li><a href="#父子元素外边距重叠">父子元素外边距重叠</a><pre><code>- [案例描述：](#案例描述-2)
- [问题描述](#问题描述-1)
- [原理及解决方法](#原理及解决方法)
</code></pre><ul>
<li><a href="#背景闪烁问题">背景闪烁问题</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<hr>
<h2 id="高度塌陷问题"><a href="#高度塌陷问题" class="headerlink" title="高度塌陷问题"></a>高度塌陷问题</h2><h3 id="父容器的高度塌陷问题"><a href="#父容器的高度塌陷问题" class="headerlink" title="父容器的高度塌陷问题"></a>父容器的高度塌陷问题</h3><h5 id="案例描述："><a href="#案例描述：" class="headerlink" title="案例描述："></a>案例描述：</h5><p>高度塌陷问题的代码如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box1&#123;</span></span><br><span class="line"><span class="undefined">                border: 10px red solid;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box2&#123;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: blue;</span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box3&#123;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>高度塌陷的示意图：<br><img src="/2018/12/14/前端-Html_Css常见问题解决/高度塌陷问题.jpg" alt="高度塌陷问题.jpg"></p>
<p>正常的示意图：<br><img src="/2018/12/14/前端-Html_Css常见问题解决/解决高度缺陷.jpg" alt="解决高度缺陷.jpg"></p>
<h5 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h5><p>在文档流中，父元素的高度默认是被子元素撑开的，也就是子元素多高，父元素就多高。但是当子元素设置浮动以后，子元素就完全脱离文档流，此时将会导致子元素无法撑起父元素的高度，导致父元素的高度塌陷，父元素下的所有元素都会向上移动，这样讲导致页面布局混乱。如案例中的子元素div（box2）设置浮动之后，父元素div（box1）高度塌陷，div（box3）向上移动。</p>
<h5 id="原理及解决方法："><a href="#原理及解决方法：" class="headerlink" title="原理及解决方法："></a>原理及解决方法：</h5><p><font color="red">方法一：</font>根据W3C的标准，在页面中元素都隐含的一个元素叫做Block Formatting Context，简称BFC，该属性可以设置打开或者关闭，默认是关闭的。</p>
<p>当开启元素的BFC以后，元素将会具有如下的特性：</p>
<ol>
<li>父元素的垂直边距不会和子元素重叠</li>
<li>开启BFC的元素不会被浮动元素所覆盖</li>
<li>开启BFC的元素可以包含浮动的子元素</li>
</ol>
<p>开启元素的BFC，各有缺陷：</p>
<ol>
<li><p>设置元素浮动。不推荐。</p>
<p> 使用这种方式开启，虽然可以撑开父元素，但是会导致父元素的宽度丢失，也会导致下边元素上移，不能解决问题。</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.box1&#123;</span><br><span class="line">    border: 10px red solid;</span><br><span class="line">    float: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <img src="/2018/12/14/前端-Html_Css常见问题解决/设置父容器浮动.jpg" alt="设置父容器浮动.jpg"></p>
</li>
<li><p>设置元素绝对定位。不推荐。</p>
<p> 同上。</p>
</li>
<li><p>设置元素display属性为inline-block，将元素转化为内联块元素。不推荐。</p>
<p> 可以解决问题，但是会导致宽度丢失，不推荐使用。</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.box1&#123;</span><br><span class="line">    border: 10px red solid;</span><br><span class="line">    display: inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <img src="/2018/12/14/前端-Html_Css常见问题解决/元素转化为内联元素.jpg" alt="元素转化为内联元素.jpg"></p>
</li>
<li><p>大部分浏览器将元素的overflow设置为非visible的值，推荐hidden。推荐。</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.box1&#123;</span><br><span class="line">    border: 10px red solid;</span><br><span class="line"></span><br><span class="line">    zoom: 1;        /* 解决IE6及以下浏览器高度塌陷问题*/</span><br><span class="line">    overflow: hidden;      /* 解决大部分浏览器高度塌陷问题 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <img src="/2018/12/14/前端-Html_Css常见问题解决/解决高度缺陷.jpg" alt="解决高度缺陷.jpg"></p>
</li>
</ol>
<p>IE6及以下浏览器中并不支持BFC，IE6中有另一个隐含的属性叫hasLayout，作用和BFC类似，所以在IE6及以下浏览器可以开启hasLayout来解决高度塌陷问题。</p>
<p>开启hasLayout副作用最小的方法是将元素的zoom设置为1即可。zoom表示将元素放大几倍。<br>开启hasLayout的方法：</p>
<ol>
<li><p>IE6及以下浏览器设置zoom: 1，推荐。</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.box1&#123;</span><br><span class="line">    border: 10px red solid;</span><br><span class="line"></span><br><span class="line">    zoom: 1;        /* 解决IE6及以下浏览器高度塌陷问题*/</span><br><span class="line">    overflow: hidden;      /* 解决大部分浏览器高度塌陷问题 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置width和height，推荐。</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.box1&#123;</span><br><span class="line">    border: 10px red solid;</span><br><span class="line"></span><br><span class="line">    height: xxx;</span><br><span class="line">    width: xxx;        /* 解决IE6及以下浏览器高度塌陷问题*/</span><br><span class="line">    overflow: hidden;      /* 解决大部分浏览器高度塌陷问题 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><font color="red">方法二：</font>尽管上述方法用起来副作用比较小，但是还有一种W3C推荐的方法，使用额外的div和clear的方法来无副作用地清除高度塌陷。</p>
<p>代码如下，在div（box2）中添加一个新的div专门用来清除浮动，这样就能完美解决高度塌陷问题。但是有一点不好的地方就是，会在代码中加入多余的div结构，但是这样影响并不大。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box1&#123;</span></span><br><span class="line"><span class="undefined">                border: 10px red solid;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box2&#123;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: blue;</span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box3&#123;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            .clear&#123;</span></span><br><span class="line"><span class="undefined">                clear: both;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clear"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><font color="red">最优，方法三：</font>在方法二的基础上进行完善。即不添加多余的div结构，又要解决高度塌陷问题。使用CSS的方法，通过after伪类，向元素后添加一个空白的块元素，然后清除浮动，实现html方法添加div并设置clear的效果。</p>
<p>关键代码如下，只需要在出现高度塌陷的元素中使用这个类就能实现高度缺陷问题。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.clearfix:after&#123;</span><br><span class="line">    /* 添加一个空的内容 */</span><br><span class="line">    content: "";</span><br><span class="line">    /* 转换为一个块元素，block、table都行 */</span><br><span class="line">    display: block;</span><br><span class="line">    /* 清除浮动 */</span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 兼容IE6 */</span><br><span class="line">.clearfix&#123;</span><br><span class="line">    zoom: 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="元素浮动造成的高度塌陷问题"><a href="#元素浮动造成的高度塌陷问题" class="headerlink" title="元素浮动造成的高度塌陷问题"></a>元素浮动造成的高度塌陷问题</h3><h5 id="案例描述：-1"><a href="#案例描述：-1" class="headerlink" title="案例描述："></a>案例描述：</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>ttt<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box1&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box2&#123;</span></span><br><span class="line"><span class="undefined">                width: 200px;</span></span><br><span class="line"><span class="undefined">                height: 200px;</span></span><br><span class="line"><span class="undefined">                background-color: yellowgreen;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                float: right;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box3&#123;</span></span><br><span class="line"><span class="undefined">                width: 300px;</span></span><br><span class="line"><span class="undefined">                height: 300px;</span></span><br><span class="line"><span class="undefined">                background-color: skyblue;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>元素浮动造成的高度塌陷示意图如下：</p>
<p><img src="/2018/12/14/前端-Html_Css常见问题解决/浮动造成的高度塌陷.jpg" alt="浮动造成的高度塌陷.jpg"></p>
<p>正确的示意图如下：<br><img src="/2018/12/14/前端-Html_Css常见问题解决/clearright.jpg" alt="clearright.jpg"></p>
<h5 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h5><p>设置div（box1）向左浮动，div（box2）向右浮动，div（box3）受到其他元素影响，向上偏移。</p>
<h5 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h5><p>使用clear属性清除其他元素浮动对当前元素的影响。</p>
<p>可选值：</p>
<ul>
<li>none：不清除</li>
<li><p>left：清除左侧元素浮动对当前元素的影响。</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.box3&#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line"></span><br><span class="line">    clear: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  <img src="/2018/12/14/前端-Html_Css常见问题解决/clearleft.jpg" alt="clearleft.jpg"></p>
</li>
</ul>
<ul>
<li><p>right：清除右侧元素浮动对当前元素的影响。</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.box3&#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line"></span><br><span class="line">    clear: right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  <img src="/2018/12/14/前端-Html_Css常见问题解决/clearright.jpg" alt="clearright.jpg"></p>
</li>
<li><p>both：清除左侧和右侧元素浮动对当前元素的影响。就是清除最大影响。</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.box3&#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line"></span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  <img src="/2018/12/14/前端-Html_Css常见问题解决/clearright.jpg" alt="clearright.jpg"></p>
</li>
</ul>
<hr>
<h2 id="父子元素外边距重叠"><a href="#父子元素外边距重叠" class="headerlink" title="父子元素外边距重叠"></a>父子元素外边距重叠</h2><h5 id="案例描述：-2"><a href="#案例描述：-2" class="headerlink" title="案例描述："></a>案例描述：</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box1&#123;</span></span><br><span class="line"><span class="undefined">                height: 200px;</span></span><br><span class="line"><span class="undefined">                width: 200px;</span></span><br><span class="line"><span class="undefined">                background-color: greenyellow;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            .box2&#123;</span></span><br><span class="line"><span class="undefined">                margin-top: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>外边距重叠示意图：<br><img src="/2018/12/14/前端-Html_Css常见问题解决/外边距重叠.jpg" alt="外边距重叠.jpg"></p>
<p>正常示意图：</p>
<h5 id="问题描述-1"><a href="#问题描述-1" class="headerlink" title="问题描述"></a>问题描述</h5><p>当div（box2）设置上外边距的时候，与父容器div（box1）的外边距重叠了。</p>
<h5 id="原理及解决方法"><a href="#原理及解决方法" class="headerlink" title="原理及解决方法"></a>原理及解决方法</h5><p>父子容器相邻的垂直外边距会发生重叠，子元素的外边距会传递给父元素。</p>
<p>和上一个高度塌陷问题一样，可以同样使用一个额外的结构或者CSS方式来解决父子容器边距重合问题。</p>
<p>最简单的就是使用CSS的方法，通过before伪类，向元素前添加一个空白的块元素将父子元素之间隔开，这样子元素就不能将外边距传递给父元素了。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.clearfix:before&#123;</span><br><span class="line">    /* 添加一个空的内容 */</span><br><span class="line">    content: "";</span><br><span class="line">    /* 转换为一个块元素 */</span><br><span class="line">    display: table;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将类给父元素就行了。</p>
<hr>
<h3 id="背景闪烁问题"><a href="#背景闪烁问题" class="headerlink" title="背景闪烁问题"></a>背景闪烁问题</h3><p>关键：图片整合技术 CSS-Sprite，也称雪碧图。</p>
<p>网页资源在加载外部资源的时候并不是同时加载的，浏览器会在资源被使用时才去加载资源，由于加载图片需要一定的时间，所以在加载和显示的过程中会有一段时间背景图片无法显示，导致闪烁问题。</p>
<p>比如，使用超链接来设置按钮时，如果将link、hover、active的背景图片加载不同的外部资源时，由于新的外部资源要重新加载，会导致闪烁问题。</p>
<p>为了解决该问题，可以将三个图片整合为一张图片，这样可以同时将三张图片一起加载（因为合成之后已经是一张图片了，只用加载一次），就不会出现闪烁问题，然后通过background-position设置背景图片的偏移量来切换要显示的图片的位置，这种技术叫图片整合技术（CSS-Sprite）。</p>
<p>优点：</p>
<ol>
<li>将多个图片整合为一张图片，浏览器只需要发送一次请求就可以加载多个图片，提高访问效率，提高用户体验。</li>
<li>将多个图片整合为一张图片，减小图片的总大小，提高请求的速度，提高用户体验。</li>
</ol>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/14/前端-Html_Css常见问题解决/" data-id="ck1aoo3hp002xj0utk852lz8l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Html-Css/">Html/Css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-《第一行代码-Android》第12章_最佳的UI体验" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/11/《第一行代码-Android》第12章_最佳的UI体验/" class="article-date">
  <time datetime="2018-12-11T02:59:15.000Z" itemprop="datePublished">2018-12-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/12/11/《第一行代码-Android》第12章_最佳的UI体验/">《第一行代码_Android》第12章_最佳的UI体验</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- TOC -->
<ul>
<li><a href="#第12章-最佳的ui体验material-design实战">第12章 最佳的UI体验——Material Design实战</a><ul>
<li><a href="#actionbar的代替toolbar">ActionBar的代替——Toolbar</a></li>
<li><a href="#滑动菜单-drawerlayout">滑动菜单 DrawerLayout</a></li>
<li><a href="#navigationview">NavigationView</a></li>
<li><a href="#悬浮按钮-floatingactionbutton控件">悬浮按钮 FloatingActionButton控件</a></li>
<li><a href="#交互式提醒-snackbar控件">交互式提醒 Snackbar控件</a></li>
<li><a href="#加强版的framelayoutcoordinatorlayout">加强版的FrameLayout——CoordinatorLayout</a></li>
<li><a href="#卡片式布局">卡片式布局</a></li>
<li><a href="#appbarlayout解决混动事件中的控件遮挡">AppBarLayout解决混动事件中的控件遮挡</a></li>
<li><a href="#下拉刷新">下拉刷新</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<hr>
<p>此博客使用教材为《第一行代码 Android》第2版。</p>
<h2 id="第12章-最佳的UI体验——Material-Design实战"><a href="#第12章-最佳的UI体验——Material-Design实战" class="headerlink" title="第12章 最佳的UI体验——Material Design实战"></a>第12章 最佳的UI体验——Material Design实战</h2><p>目录：</p>
<ul>
<li>ActionBar的代替——Toolbar</li>
<li>滑动菜单——DrawerLayout控件</li>
<li>布局优化——NavigationView</li>
<li>悬浮按钮——FloatingActionButton控件</li>
<li>交互式提醒——Snackbar控件</li>
<li>加强版的FrameLayout——CoordinatorLayout</li>
</ul>
<hr>
<h3 id="ActionBar的代替——Toolbar"><a href="#ActionBar的代替——Toolbar" class="headerlink" title="ActionBar的代替——Toolbar"></a>ActionBar的代替——Toolbar</h3><p>ActionBar就是标题栏，使用Toolbar来代替ActionBar的话，就需要设置ActionBar为空。</p>
<p>styles.xml:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;resources&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Base application theme. --&gt;</span><br><span class="line">    &lt;style name=<span class="string">"AppTheme"</span> parent=<span class="string">"Theme.AppCompat.Light.NoActionBar"</span>&gt;</span><br><span class="line">        &lt;!-- Customize your theme here. --&gt;</span><br><span class="line">        &lt;item name="colorPrimary"&gt;@color/colorPrimary&lt;/item&gt;</span><br><span class="line">        &lt;item name="colorPrimaryDark"&gt;@color/colorPrimaryDark&lt;/item&gt;</span><br><span class="line">        &lt;item name="colorAccent"&gt;@color/colorAccent&lt;/item&gt;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure></p>
<p>activity_main.xml:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;FrameLayout</span><br><span class="line">    xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    tools:context=<span class="string">".MainActivity"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.v7.widget.Toolbar</span><br><span class="line">        android:id=<span class="string">"@+id/toolbar"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"?attr/actionBarSize"</span></span><br><span class="line">        android:background=<span class="string">"?attr/colorPrimary"</span></span><br><span class="line">        android:theme=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span></span><br><span class="line">        app:popupTheme=<span class="string">"@style/ThemeOverlay.AppCompat.Light"</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/FrameLayout&gt;</span><br></pre></td></tr></table></figure></p>
<p>在res目录下新建“menu”菜单，然后在里面新建toolbar.xml资源文件，用来添加菜单选项。showAsAction属性always表示永远显示在Toolbar中，如果屏幕空间不够则不显示；ifRoom表示屏幕空间足够的情况下显示在Toolbar中，不够就显示在菜单中；never表示永远显示在菜单中。</p>
<p>然后，item中有一个icon属性和title属性，Toolbar中的只显示图标，菜单中只显示文字，最好两个都写上：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;menu xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span>&gt;</span><br><span class="line">    &lt;item</span><br><span class="line">        android:title=<span class="string">"Backup"</span></span><br><span class="line">        android:id=<span class="string">"@+id/backup"</span></span><br><span class="line">        android:icon=<span class="string">"@drawable/backup"</span></span><br><span class="line">        app:showAsAction=<span class="string">"always"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;item</span><br><span class="line">        android:title=<span class="string">"Delete"</span></span><br><span class="line">        android:id=<span class="string">"@+id/delete"</span></span><br><span class="line">        android:icon=<span class="string">"@drawable/delete"</span></span><br><span class="line">        app:showAsAction=<span class="string">"ifRoom"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;item</span><br><span class="line">        android:title=<span class="string">"Settings"</span></span><br><span class="line">        android:id=<span class="string">"@+id/settings"</span></span><br><span class="line">        android:icon=<span class="string">"@drawable/backup"</span></span><br><span class="line">        app:showAsAction=<span class="string">"never"</span>/&gt;</span><br><span class="line">&lt;/menu&gt;</span><br></pre></td></tr></table></figure>
<p>在MainActivity中加载Toolbar控件和菜单，并设置菜单的点击事件：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.drawerlayout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.Toolbar;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);     <span class="comment">// 加载toolbar</span></span><br><span class="line">        setSupportActionBar(toolbar);       <span class="comment">// 将Toolbar实例传入</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreatePanelMenu</span><span class="params">(<span class="keyword">int</span> featureId, Menu menu)</span> </span>&#123;</span><br><span class="line">        getMenuInflater().inflate(R.menu.toolbar, menu);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (item.getItemId())&#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.backup:</span><br><span class="line">                Toast.makeText(<span class="keyword">this</span>, <span class="string">"You Clicked Backup"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.delete:</span><br><span class="line">                Toast.makeText(<span class="keyword">this</span>, <span class="string">"You Clicked Delete"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.settings:</span><br><span class="line">                Toast.makeText(<span class="keyword">this</span>, <span class="string">"You Clicked Settings"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="滑动菜单-DrawerLayout"><a href="#滑动菜单-DrawerLayout" class="headerlink" title="滑动菜单 DrawerLayout"></a>滑动菜单 DrawerLayout</h3><p>滑动菜单，可以在屏幕侧边往中间滑动就能拉出滑动菜单，但是官方建议添加一个导航按钮（HomeAsUp按钮），来告知用户有导航按钮，并弹出。</p>
<p>此处结合Toolbar，一起来写，也可以不用。在滑动菜单的最外层布局一定要加android:layout_gravity，用来控制滑动菜单在屏幕的左面还是右面，left表示左面，right表示右面，start根据系统语言判断在左面还是右面：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/toolbar"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"?attr/actionBarSize"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:background</span>=<span class="string">"?attr/colorPrimary"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:theme</span>=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:popupTheme</span>=<span class="string">"@style/ThemeOverlay.AppCompat.Light"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 左边弹出布局区，可以将布局全部写里面，也可以include一个布局 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">"start"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"This is menu"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"30sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:background</span>=<span class="string">"#FFF"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>MainActivity.java:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.drawerlayout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.support.v4.view.GravityCompat;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.widget.DrawerLayout;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.ActionBar;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.widget.Toolbar;</span><br><span class="line"><span class="keyword">import</span> android.view.Menu;</span><br><span class="line"><span class="keyword">import</span> android.view.MenuItem;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> DrawerLayout mDrawerLayout;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);</span><br><span class="line">        setSupportActionBar(toolbar);</span><br><span class="line">        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取actionBar对象，就是自定义的toolbar</span></span><br><span class="line">        ActionBar actionBar = getSupportActionBar();</span><br><span class="line">        <span class="comment">// 如果actionBar对象不为空，在toolbar最左侧加入一个导航（HomeAsUp按钮），并设置图标，HomeAsUp按钮的id永远都是android.R.id.home。</span></span><br><span class="line">        <span class="keyword">if</span> (actionBar != <span class="keyword">null</span>)&#123;</span><br><span class="line">            actionBar.setDisplayHomeAsUpEnabled(<span class="keyword">true</span>);</span><br><span class="line">            <span class="comment">// 图表默认是返回箭头</span></span><br><span class="line">            actionBar.setHomeAsUpIndicator(R.drawable.menu);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreatePanelMenu</span><span class="params">(<span class="keyword">int</span> featureId, Menu menu)</span> </span>&#123;</span><br><span class="line">        getMenuInflater().inflate(R.menu.toolbar, menu);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (item.getItemId())&#123;</span><br><span class="line">            <span class="keyword">case</span> android.R.id.home:</span><br><span class="line">                mDrawerLayout.openDrawer(GravityCompat.START);</span><br><span class="line">                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                 * 关闭滑动界面</span></span><br><span class="line"><span class="comment">                 * mDrawerLayout.closeDrawers();</span></span><br><span class="line"><span class="comment">                 */</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.backup:</span><br><span class="line">                Toast.makeText(<span class="keyword">this</span>, <span class="string">"You Clicked Backup"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.delete:</span><br><span class="line">                Toast.makeText(<span class="keyword">this</span>, <span class="string">"You Clicked Delete"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.settings:</span><br><span class="line">                Toast.makeText(<span class="keyword">this</span>, <span class="string">"You Clicked Settings"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/12/11/《第一行代码-Android》第12章_最佳的UI体验/drawerLayout.JPG" alt=""></p>
<hr>
<h3 id="NavigationView"><a href="#NavigationView" class="headerlink" title="NavigationView"></a>NavigationView</h3><p>当前的滑动菜单界面还是比较丑的，Google提供的NavigationView控件可以美化滑动菜单页面。</p>
<p>添加第三方框架<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">implementation 'com.android.support:design:28.0.0'</span><br><span class="line">// 实现图片圆形化的第三方框架</span><br><span class="line">implementation 'de.hdodenhof:circleimageview:2.2.0'</span><br></pre></td></tr></table></figure></p>
<p>添加菜单nav_menu.xml:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">group</span> <span class="attr">android:checkableBehavior</span>=<span class="string">"single"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/nav_profile"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:icon</span>=<span class="string">"@drawable/head"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:title</span>=<span class="string">"Profile"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/nav_location"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:icon</span>=<span class="string">"@drawable/location"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:title</span>=<span class="string">"Location"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/nav_settings"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:icon</span>=<span class="string">"@drawable/settings"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:title</span>=<span class="string">"Settings"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>添加头部文件nav_header.xml:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"180dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:padding</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"?attr/colorPrimary"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">de.hdodenhof.circleimageview.CircleImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/icon_image"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"70dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"70dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">"@drawable/mine"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/mail"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"1172949809@qq.com"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"14sp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"#fff"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/username"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_above</span>=<span class="string">"@id/mail"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"Ai Junhao"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">"#fff"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">"14sp"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在activity_main.xml文件中添加navigationView控件，控件有连个app属性，一个是menu，添加菜单文件，一个是headerLayout，添加头部文件：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line">    <span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 左边弹出布局区，可以将布局全部写里面，也可以include一个布局 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.NavigationView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/nav_view"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">"start"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:menu</span>=<span class="string">"@menu/nav_menu"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:headerLayout</span>=<span class="string">"@layout/nav_header"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在MainActivity.java中加载控件并添加点击事件，头布局和memu布局的点击事件设置方式不同：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> DrawerLayout mDrawerLayout;</span><br><span class="line">    <span class="keyword">private</span> Toolbar toolbar;</span><br><span class="line">    <span class="keyword">private</span> NavigationView navView;</span><br><span class="line">    <span class="keyword">private</span> View headerView;</span><br><span class="line">    <span class="keyword">private</span> TextView userName;</span><br><span class="line">    <span class="keyword">private</span> TextView email;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line">        navView = (NavigationView) findViewById(R.id.nav_view);</span><br><span class="line">        <span class="comment">// 获取头布局</span></span><br><span class="line">        headerView = navView.getHeaderView(<span class="number">0</span>);</span><br><span class="line">        iconImage = (ImageView) headerView.findViewById(R.id.icon_image);</span><br><span class="line">        userName = (TextView) headerView.findViewById(R.id.username);</span><br><span class="line">        email = (TextView) headerView.findViewById(R.id.mail);</span><br><span class="line"></span><br><span class="line">        iconImage.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"点击了头像"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        userName.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"点击了用户名"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        email.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"点击了邮箱"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置navView的默认选中项，可以不设置</span></span><br><span class="line">        navView.setCheckedItem(R.id.nav_profile);</span><br><span class="line">        navView.setNavigationItemSelectedListener(<span class="keyword">new</span> NavigationView.OnNavigationItemSelectedListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onNavigationItemSelected</span><span class="params">(@NonNull MenuItem menuItem)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">switch</span> (menuItem.getItemId())&#123;</span><br><span class="line">                    <span class="keyword">case</span> R.id.nav_profile:</span><br><span class="line">                        Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"点击了profile"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> R.id.nav_location:</span><br><span class="line">                        Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"点击了location"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> R.id.nav_settings:</span><br><span class="line">                        Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"点击了settings"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                mDrawerLayout.closeDrawers();</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/12/11/《第一行代码-Android》第12章_最佳的UI体验/navigationView.JPG" alt=""></p>
<hr>
<h3 id="悬浮按钮-FloatingActionButton控件"><a href="#悬浮按钮-FloatingActionButton控件" class="headerlink" title="悬浮按钮 FloatingActionButton控件"></a>悬浮按钮 FloatingActionButton控件</h3><p>activity_main.xml中添加FloatingActionButton控件，app:backgroundTint设置背景色，app:rippleColor点击时的背景色，app:elevation悬浮高度，决定阴影的大小:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">FrameLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.design.widget.FloatingActionButton</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/fab"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"bottom|end"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_margin</span>=<span class="string">"16dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:src</span>=<span class="string">"@drawable/done"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:backgroundTint</span>=<span class="string">"@null"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:rippleColor</span>=<span class="string">"#00ff00"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:elevation</span>=<span class="string">"8dp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在MainActivity.java文件中添加入点击事件即可。</p>
<p><img src="/2018/12/11/《第一行代码-Android》第12章_最佳的UI体验/FloatingActionButton.JPG" alt=""></p>
<hr>
<h3 id="交互式提醒-Snackbar控件"><a href="#交互式提醒-Snackbar控件" class="headerlink" title="交互式提醒 Snackbar控件"></a>交互式提醒 Snackbar控件</h3><p>Snackbar是比Toast更先进的提示工具。但是Snackbar并不是Toast的替代品，两者之间有不同的使用场景。Toast告知用户现在发生了什么，Snackbar在告知的同时在提示中加入一个可交互的按钮，当用户点击按钮的时候可以执行一些额外的操作。</p>
<p>MainActivity.java:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fab.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        Snackbar.make(v, <span class="string">"Data deleted"</span>, Snackbar.LENGTH_LONG).setAction(<span class="string">"Undo"</span>, <span class="keyword">new</span> View.OnClickListener()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"Data restored"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/12/11/《第一行代码-Android》第12章_最佳的UI体验/snackbar.JPG" alt=""></p>
<hr>
<h3 id="加强版的FrameLayout——CoordinatorLayout"><a href="#加强版的FrameLayout——CoordinatorLayout" class="headerlink" title="加强版的FrameLayout——CoordinatorLayout"></a>加强版的FrameLayout——CoordinatorLayout</h3><p>在普通情况下，CoordinatorLayout的作用与FrameLayout基本一致，不同的是，CoordinatorLayout可以监听器所有子控件的各种事件，然后自动帮助我们做出最为合理的响应。如，当Snackbar提示将悬浮按钮FloatingActionButton遮挡住了，而如果我们能让CoordinatorLayout监听到Snackbar的弹出事件，那么它会自动将内部的FloatingActionButton向上偏移，从而确保不会被Snackbar遮挡到。</p>
<p>activity_main.xml:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">            <span class="attr">......</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.design.widget.FloatingActionButton</span></span></span><br><span class="line"><span class="tag">            <span class="attr">......</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.CoordinatorLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>如此即可。</p>
<hr>
<h3 id="卡片式布局"><a href="#卡片式布局" class="headerlink" title="卡片式布局"></a>卡片式布局</h3><p>添加库文件：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">implementation 'com.android.support:recyclerview-v7:28.0.0'</span><br><span class="line">implementation 'com.android.support:cardview-v7:28.0.0'</span><br><span class="line">// 图片加载库</span><br><span class="line">implementation 'com.github.bumptech.glide:glide:4.8.0'</span><br></pre></td></tr></table></figure></p>
<p>添加滚动组件，activity_main.xml:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.v7.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/recycler_view"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.CoordinatorLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>实体类Fruit:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> imageId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Fruit</span><span class="params">(String name, <span class="keyword">int</span> imageId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.imageId = imageId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getImageId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> imageId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageId</span><span class="params">(<span class="keyword">int</span> imageId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.imageId = imageId;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>RecyclerView的自定义布局fruit_item:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v7.widget.CardView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_margin</span>=<span class="string">"5dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:cardCornerRadius</span>=<span class="string">"4dp"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/fruit_image"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"100dp"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/fruit_name"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_gravity</span>=<span class="string">"center_horizontal"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_margin</span>=<span class="string">"5dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"16sp"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v7.widget.CardView</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>适配器FruitAdapter:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FruitAdapter</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">Adapter</span>&lt;<span class="title">FruitAdapter</span>.<span class="title">ViewHolder</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Context mComtext;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; mFruitList;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FruitAdapter</span><span class="params">(List&lt;Fruit&gt; fruitList)</span></span>&#123;</span><br><span class="line">        mFruitList = fruitList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ViewHolder <span class="title">onCreateViewHolder</span><span class="params">(ViewGroup viewGroup, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (mComtext == <span class="keyword">null</span>)&#123;</span><br><span class="line">            mComtext = viewGroup.getContext();</span><br><span class="line">        &#125;</span><br><span class="line">        View view = LayoutInflater.from(mComtext).inflate(R.layout.fruit_item, viewGroup, <span class="keyword">false</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ViewHolder(view);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(ViewHolder viewHolder, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        Fruit fruit = mFruitList.get(i);</span><br><span class="line">        viewHolder.fruitName.setText(fruit.getName());</span><br><span class="line">        Glide.with(mComtext).load(fruit.getImageId()).into(viewHolder.fruitImage);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getItemCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mFruitList.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">ViewHolder</span></span>&#123;</span><br><span class="line">        CardView cardView;</span><br><span class="line">        ImageView fruitImage;</span><br><span class="line">        TextView fruitName;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ViewHolder</span><span class="params">(View itemView)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(itemView);</span><br><span class="line">            cardView = (CardView) itemView;</span><br><span class="line">            fruitImage = (ImageView) itemView.findViewById(R.id.fruit_image);</span><br><span class="line">            fruitName = (TextView) itemView.findViewById(R.id.fruit_name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>MainActivity.java:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Fruit[] fruits = &#123;<span class="keyword">new</span> Fruit(<span class="string">"Apple"</span>, R.drawable.apple),</span><br><span class="line">            <span class="keyword">new</span> Fruit(<span class="string">"Orange"</span>, R.drawable.orange),</span><br><span class="line">            <span class="keyword">new</span> Fruit(<span class="string">"Pear"</span>, R.drawable.pear),</span><br><span class="line">            <span class="keyword">new</span> Fruit(<span class="string">"Pineapple"</span>, R.drawable.pineapple),</span><br><span class="line">            <span class="keyword">new</span> Fruit(<span class="string">"Cheery"</span>, R.drawable.cheery)&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; fruitList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> FruitAdapter adapter;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line"></span><br><span class="line">        initFruits();</span><br><span class="line">        RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);</span><br><span class="line">        GridLayoutManager layoutManager = <span class="keyword">new</span> GridLayoutManager(<span class="keyword">this</span>, <span class="number">2</span>);</span><br><span class="line">        recyclerView.setLayoutManager(layoutManager);</span><br><span class="line">        adapter = <span class="keyword">new</span> FruitAdapter(fruitList);</span><br><span class="line">        recyclerView.setAdapter(adapter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initFruits</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        fruitList.clear();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">50</span>; i++)&#123;</span><br><span class="line">            Random random = <span class="keyword">new</span> Random();</span><br><span class="line">            <span class="keyword">int</span> index = random.nextInt(fruits.length);</span><br><span class="line">            fruitList.add(fruits[index]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如此，滚动组件和卡片式布局已经实现了，但是还是有一些小的不足，toolbar部分被遮盖了：</p>
<p><img src="/2018/12/11/《第一行代码-Android》第12章_最佳的UI体验/cardview.JPG" alt=""></p>
<hr>
<h3 id="AppBarLayout解决混动事件中的控件遮挡"><a href="#AppBarLayout解决混动事件中的控件遮挡" class="headerlink" title="AppBarLayout解决混动事件中的控件遮挡"></a>AppBarLayout解决混动事件中的控件遮挡</h3><p>AppBarLayout实际上是一个垂直方向上的LinearLayout，它在内部做了很多滚动事件的封装。</p>
<p>在Toolbar放置在AppBarLayout里面，然后在RecyclerView中使用app:layout_behavior属性指定了一个布局行为。AppBarLayout内部的子控件其实就可以指定如何去影响这些事件的，通过app:layout_scrollFlags属性就能实现。scoll表示当RecyclerVView向上混动的时候，Toolbar会跟着一起向上滚动实现隐蔽；enterAlways表示当RecyclerView向下滚动的时候，Toolbar一起向下滚动并重新显示；snap表示当Toolbar还没有完全隐蔽或者显示的时候，会根据当前滚动的距离自动是隐藏还是显示。activity_main.xml:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.design.widget.AppBarLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/toolbar"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"?attr/actionBarSize"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:background</span>=<span class="string">"?attr/colorPrimary"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:theme</span>=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:popupTheme</span>=<span class="string">"@style/ThemeOverlay.AppCompat.Light"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_scrollFlags</span>=<span class="string">"scroll|enterAlways|snap"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">android.support.design.widget.AppBarLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.v7.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/recycler_view"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_behavior</span>=<span class="string">"@string/appbar_scrolling_view_behavior"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.CoordinatorLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="下拉刷新"><a href="#下拉刷新" class="headerlink" title="下拉刷新"></a>下拉刷新</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.v4.widget.SwipeRefreshLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/swip_refresh"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_behavior</span>=<span class="string">"@string/appbar_scrolling_view_behavior"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">android.support.v7.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/recycler_view"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">android.support.v4.widget.SwipeRefreshLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.CoordinatorLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line">    <span class="keyword">private</span> SwipeRefreshLayout swipeRefreshLayout;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Fruit[] fruits = &#123;<span class="keyword">new</span> Fruit(<span class="string">"Apple"</span>, R.drawable.apple),</span><br><span class="line">            <span class="keyword">new</span> Fruit(<span class="string">"Orange"</span>, R.drawable.orange),</span><br><span class="line">            <span class="keyword">new</span> Fruit(<span class="string">"Pear"</span>, R.drawable.pear),</span><br><span class="line">            <span class="keyword">new</span> Fruit(<span class="string">"Pineapple"</span>, R.drawable.pineapple),</span><br><span class="line">            <span class="keyword">new</span> Fruit(<span class="string">"Cheery"</span>, R.drawable.cheery)&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;Fruit&gt; fruitList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> FruitAdapter adapter;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line">        swipeRefreshLayout = (SwipeRefreshLayout) findViewById(R.id.swip_refresh);</span><br><span class="line">        swipeRefreshLayout.setColorSchemeResources(R.color.colorPrimary);</span><br><span class="line">        swipeRefreshLayout.setOnRefreshListener(<span class="keyword">new</span> SwipeRefreshLayout.OnRefreshListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRefresh</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                refreshFruits();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        ......</span><br><span class="line"></span><br><span class="line">        initFruits();</span><br><span class="line">        RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);</span><br><span class="line">        GridLayoutManager layoutManager = <span class="keyword">new</span> GridLayoutManager(<span class="keyword">this</span>, <span class="number">2</span>);</span><br><span class="line">        recyclerView.setLayoutManager(layoutManager);</span><br><span class="line">        adapter = <span class="keyword">new</span> FruitAdapter(fruitList);</span><br><span class="line">        recyclerView.setAdapter(adapter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">refreshFruits</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        initFruits();</span><br><span class="line">                        adapter.notifyDataSetChanged();</span><br><span class="line">                        swipeRefreshLayout.setRefreshing(<span class="keyword">false</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initFruits</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        fruitList.clear();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">50</span>; i++)&#123;</span><br><span class="line">            Random random = <span class="keyword">new</span> Random();</span><br><span class="line">            <span class="keyword">int</span> index = random.nextInt(fruits.length);</span><br><span class="line">            fruitList.add(fruits[index]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/11/《第一行代码-Android》第12章_最佳的UI体验/" data-id="ck1aoo3q1005nj0utnzxv7qqy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/移动端/">移动端</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BOM/">BOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECharts/">ECharts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EcamScript6/">EcamScript6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Html-Css/">Html/Css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node/">Node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/">tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/框架/">框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器兼容/">浏览器兼容</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端/">移动端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件配置/">软件配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面经/">面经</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 18.18px;">Android</a> <a href="/tags/BOM/" style="font-size: 10px;">BOM</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/DOM/" style="font-size: 10px;">DOM</a> <a href="/tags/ECharts/" style="font-size: 10px;">ECharts</a> <a href="/tags/EcamScript6/" style="font-size: 11.82px;">EcamScript6</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Html-Css/" style="font-size: 10.91px;">Html/Css</a> <a href="/tags/JavaScript/" style="font-size: 17.27px;">JavaScript</a> <a href="/tags/Node/" style="font-size: 13.64px;">Node</a> <a href="/tags/Python/" style="font-size: 16.36px;">Python</a> <a href="/tags/Vue/" style="font-size: 14.55px;">Vue</a> <a href="/tags/blog/" style="font-size: 10.91px;">blog</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/tool/" style="font-size: 10px;">tool</a> <a href="/tags/前端/" style="font-size: 19.09px;">前端</a> <a href="/tags/后端/" style="font-size: 12.73px;">后端</a> <a href="/tags/小程序/" style="font-size: 10px;">小程序</a> <a href="/tags/数据库/" style="font-size: 11.82px;">数据库</a> <a href="/tags/服务器/" style="font-size: 10px;">服务器</a> <a href="/tags/框架/" style="font-size: 15.45px;">框架</a> <a href="/tags/浏览器兼容/" style="font-size: 10px;">浏览器兼容</a> <a href="/tags/移动端/" style="font-size: 20px;">移动端</a> <a href="/tags/软件配置/" style="font-size: 10px;">软件配置</a> <a href="/tags/面经/" style="font-size: 10px;">面经</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/09/13/前端-JavaScript基础-异步操作原理及方法/">前端-JavaScript基础-异步操作原理及方法</a>
          </li>
        
          <li>
            <a href="/2019/08/25/框架-深入了解vuejs/">框架-深入了解vue.js</a>
          </li>
        
          <li>
            <a href="/2019/08/22/前端-JavaScript基础-原型与原型链/">前端-JavaScript基础-原型与原型链</a>
          </li>
        
          <li>
            <a href="/2019/08/01/前端-JavaScript基础-EcamScript6/">前端-JavaScript基础-EcamScript6</a>
          </li>
        
          <li>
            <a href="/2019/07/13/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Ai Junhao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>