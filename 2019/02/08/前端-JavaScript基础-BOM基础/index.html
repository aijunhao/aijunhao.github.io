<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>前端-JavaScript基础-BOM基础 | Hello, I&#39;m Junhao Ai.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="目录：  什么是BOM BOM对象 window setInterval()定时调动 setTimeout()延时调动   Navigator userAgent 内容说明 浏览器判断   Location History Screen 综合案例——动画 综合案例——轮播图   什么是BOMBOM全程Browser Object Model，即浏览器对象模型。 BOM提供了独立于内容 而与浏览器窗">
<meta name="keywords" content="JavaScript,前端，BOM">
<meta property="og:type" content="article">
<meta property="og:title" content="前端-JavaScript基础-BOM基础">
<meta property="og:url" content="http://yoursite.com/2019/02/08/前端-JavaScript基础-BOM基础/index.html">
<meta property="og:site_name" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:description" content="目录：  什么是BOM BOM对象 window setInterval()定时调动 setTimeout()延时调动   Navigator userAgent 内容说明 浏览器判断   Location History Screen 综合案例——动画 综合案例——轮播图   什么是BOMBOM全程Browser Object Model，即浏览器对象模型。 BOM提供了独立于内容 而与浏览器窗">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2019/02/08/前端-JavaScript基础-BOM基础/轮播图效果.gif">
<meta property="og:image" content="http://yoursite.com/2019/02/08/前端-JavaScript基础-BOM基础/轮播图原理演示.gif">
<meta property="og:updated_time" content="2019-02-11T14:42:05.552Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端-JavaScript基础-BOM基础">
<meta name="twitter:description" content="目录：  什么是BOM BOM对象 window setInterval()定时调动 setTimeout()延时调动   Navigator userAgent 内容说明 浏览器判断   Location History Screen 综合案例——动画 综合案例——轮播图   什么是BOMBOM全程Browser Object Model，即浏览器对象模型。 BOM提供了独立于内容 而与浏览器窗">
<meta name="twitter:image" content="http://yoursite.com/2019/02/08/前端-JavaScript基础-BOM基础/轮播图效果.gif">
  
    <link rel="alternate" href="/atom.xml" title="Hello, I&#39;m Junhao Ai." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hello, I&#39;m Junhao Ai.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-前端-JavaScript基础-BOM基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/08/前端-JavaScript基础-BOM基础/" class="article-date">
  <time datetime="2019-02-08T15:16:25.000Z" itemprop="datePublished">2019-02-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      前端-JavaScript基础-BOM基础
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：</p>
<ul>
<li>什么是BOM</li>
<li>BOM对象</li>
<li>window<ul>
<li>setInterval()定时调动</li>
<li>setTimeout()延时调动</li>
</ul>
</li>
<li>Navigator<ul>
<li>userAgent</li>
<li>内容说明</li>
<li>浏览器判断</li>
</ul>
</li>
<li>Location</li>
<li>History</li>
<li>Screen</li>
<li>综合案例——动画</li>
<li>综合案例——轮播图</li>
</ul>
<hr>
<h3 id="什么是BOM"><a href="#什么是BOM" class="headerlink" title="什么是BOM"></a>什么是BOM</h3><p>BOM全程Browser Object Model，即浏览器对象模型。</p>
<p>BOM提供了独立于内容 而与浏览器窗口进行交互的对象；由于BOM主要用于管理窗口与窗口之间的通讯，因此其核心对象是window；BOM由一系列相关的对象构成，并且每个对象都提供了很多方法与属性；BOM缺乏标准，JavaScript语法的标准化组织是ECMA，DOM的标准化组织是W3C，BOM最初是Netscape浏览器标准的一部分。</p>
<hr>
<h3 id="BOM对象"><a href="#BOM对象" class="headerlink" title="BOM对象"></a>BOM对象</h3><p>更多：<a href="http://www.w3school.com.cn/jsref/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/index.asp</a>  Browser对象</p>
<p>这些BOM对象在浏览器中都是作为window对象的属性保存的，可以通过window对象来使用，也可以直接使用。</p>
<hr>
<h3 id="window"><a href="#window" class="headerlink" title="window"></a>window</h3><p>代表的是整个浏览器的窗口，同时也是网页中的全局对象。</p>
<p>window是最常用的BOM对象。</p>
<p>更多：<a href="http://www.w3school.com.cn/jsref/dom_obj_window.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_window.asp</a></p>
<hr>
<h4 id="setInterval-定时调动"><a href="#setInterval-定时调动" class="headerlink" title="setInterval()定时调动"></a>setInterval()定时调动</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">        	window.onload = function()&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                var count = document.getElementById("p1");</span></span><br><span class="line"><span class="undefined">                var btnOn = document.getElementById("btnOn");</span></span><br><span class="line"><span class="undefined">                var btnOff = document.getElementById("btnOff");</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 计数器</span></span><br><span class="line"><span class="undefined">                var num = 1;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 定时器对象</span></span><br><span class="line"><span class="undefined">                var timer;</span></span><br><span class="line"><span class="undefined">               </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 绑定点击事件，每点击一次开始，就会新建一个定时器！！！</span></span><br><span class="line"><span class="undefined">                 * 关闭定时器是，如果有多个定时器叠加在一起，只会关闭最新的一个。</span></span><br><span class="line"><span class="undefined">                 * 也就是说之前叠加的不会被关闭，仍然继续执行。</span></span><br><span class="line"><span class="undefined">                 * 所以在开启定时器之前，必须关闭同一对象上定时器！！！</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                btnOn.onclick = function()&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 关闭已有的定时器，如果是第一次点击，timer为undefined，无效值，会被忽略</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    clearInterval(timer);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * setInterval()</span></span><br><span class="line"><span class="undefined">                     *  - 定时调用</span></span><br><span class="line"><span class="undefined">                     *  - 将一个函数，每隔一定时间执行一次</span></span><br><span class="line"><span class="undefined">                     *  - 参数：</span></span><br><span class="line"><span class="undefined">                     *      1. 回调函数</span></span><br><span class="line"><span class="undefined">                     *      2. 间隔时间, 毫秒</span></span><br><span class="line"><span class="undefined">                     *  - 返回值：返回一个Number类型的数据作为定时器标识</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    timer = setInterval(function()&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                        count.innerHTML = num++;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;, 500);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                btnOff.onclick = function()&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 使用clearInterval(定时器标识)关闭指定的定时器</span></span><br><span class="line"><span class="undefined">                     * 如果传入的参数有效，则关闭对应的定时器，无效则忽略</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    clearInterval(timer);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnOn"</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnOff"</span>&gt;</span>停止<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在DOM基础中有一节内容按键事件控制div的移动中，浏览器的默认行为导致移动的第一次和第二次之间有卡顿，需要定时器来解决。这里我们来改造当时的代码。</p>
<p>我们将按键控制和移动功能分开，移动功能使用定时器刷新来实现。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            #box1&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="undefined">            window.onload = function()&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                var box1 = document.getElementById("box1");</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                // 默认叔叔</span></span><br><span class="line"><span class="undefined">                var speed = 5;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 方向变量</span></span><br><span class="line"><span class="undefined">                var dir = 0;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 按钮按下只控制方向及速度</span></span><br><span class="line"><span class="undefined">                document.onkeydown = function(event)&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    event = event || event;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    if(event.ctrlKey)&#123;</span></span><br><span class="line"><span class="undefined">                        speed = 10;</span></span><br><span class="line"><span class="undefined">                    &#125; else &#123;</span></span><br><span class="line"><span class="undefined">                        speed = 5;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    dir = event.keyCode;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 当按下松开时,div不再移动</span></span><br><span class="line"><span class="undefined">                document.onkeyup = function()&#123;</span></span><br><span class="line"><span class="undefined">                    dir = 0;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * bug:</span></span><br><span class="line"><span class="undefined">                 * 这里还有一个小问题，就是长按时候的第一次与第二次间隔稍长。</span></span><br><span class="line"><span class="undefined">                 * 这是浏览器默认行为，需要定时器才能取消。见BOM基础！</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                // 开启一个定时器,来控制div的移动</span></span><br><span class="line"><span class="undefined">                setInterval(function()&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 37 左</span></span><br><span class="line"><span class="undefined">                     * 38 上</span></span><br><span class="line"><span class="undefined">                     * 39 又</span></span><br><span class="line"><span class="undefined">                     * 40 下</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    switch(dir)&#123;</span></span><br><span class="line"><span class="undefined">                        case 37:</span></span><br><span class="line"><span class="undefined">                            box1.style.left = box1.offsetLeft - speed + "px";</span></span><br><span class="line"><span class="undefined">                            break;</span></span><br><span class="line"><span class="undefined">                        case 38:</span></span><br><span class="line"><span class="undefined">                            box1.style.top = box1.offsetTop - speed + "px";</span></span><br><span class="line"><span class="undefined">                            break;</span></span><br><span class="line"><span class="undefined">                        case 39:</span></span><br><span class="line"><span class="undefined">                            box1.style.left = box1.offsetLeft + speed + "px";</span></span><br><span class="line"><span class="undefined">                            break;</span></span><br><span class="line"><span class="undefined">                        case 40:</span></span><br><span class="line"><span class="undefined">                            box1.style.top = box1.offsetTop + speed + "px";</span></span><br><span class="line"><span class="undefined">                            break;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;, 30);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="setTimeout-延时调动"><a href="#setTimeout-延时调动" class="headerlink" title="setTimeout()延时调动"></a>setTimeout()延时调动</h4><p>延时调用和定时调用用法完全相同，唯一的区别就是，延时调用只执行一次，定时调用会执行多次。</p>
<p>同样也可以使用关闭延时调用。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clearTimeout(定时器标识);</span><br></pre></td></tr></table></figure></p>
<p>延时调用和定时调用实际上是可以互相代替的，所以使用定时调用更好。</p>
<hr>
<h3 id="Navigator"><a href="#Navigator" class="headerlink" title="Navigator"></a>Navigator</h3><p>代表的是浏览器信息，通过该对象可以来识别不同的浏览器。</p>
<p>由于历史原因，Navigator对象中的大部分属性都已经不能帮助我们识别浏览器了。一般我们只会使用userAgent(等价于浏览器)来判断浏览器的信息，不同的浏览器有不同的userAgent。</p>
<p>更多：<a href="http://www.w3school.com.cn/jsref/dom_obj_navigator.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_navigator.asp</a></p>
<h4 id="userAgent"><a href="#userAgent" class="headerlink" title="userAgent"></a>userAgent</h4><ul>
<li><p>火狐：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; WOW64; rv:65.0) Gecko/20100101 Firefox/65.0</p>
</li>
<li><p>谷歌：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36</p>
</li>
<li><p>IE 11 (已经没有任何微软和IE的标识了)：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; rv:11.0) like Gecko</p>
</li>
<li><p>IE 10：</p>
<p>  Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</p>
</li>
<li><p>IE 9：</p>
<p>  Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</p>
</li>
<li><p>IE 8：</p>
<p>  Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</p>
</li>
<li><p>Edge (内置浏览器，其实也是用内置chrome)：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/18.17763</p>
</li>
</ul>
<h4 id="内容说明"><a href="#内容说明" class="headerlink" title="内容说明"></a>内容说明</h4><ul>
<li><p>Mozilla/5.0 ：Mozilla基金会5.0版本。</p>
</li>
<li><p>Windows NT 10.0 ：Windows版本代号。Windows NT 10.0表示window10；Windows NT 6.1表示window7。</p>
</li>
<li><p>WOW64 ：64位系统。</p>
</li>
<li><p>rv:65.0 ：浏览器版本位65.0。</p>
</li>
<li><p>Gecko ：CSS渲染引擎名。最出名的一种。</p>
</li>
<li><p>Firefox / Chrome / Edge ：浏览器名称，用来判断是什么浏览器，除了缺德的IE11……</p>
</li>
</ul>
<h4 id="浏览器判断"><a href="#浏览器判断" class="headerlink" title="浏览器判断"></a>浏览器判断</h4><p>从userAgent中的浏览器名称可以判断出大部分浏览器，而IE11，因为没有任何标识，除了有“rv:11”浏览器版本标识可以大致判断是IE11，但是这种大致判断不一定可靠！！！此外还可以通过一些浏览器中特有的对象来判断浏览器信息，如ActiveXObject，是IE发送Ajax请求的，是IE特有的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            var ua = navigator.userAgent;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            console.log(ua);</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * - 通过忽略大小写的正则表达式校验userAgent来判断浏览器</span></span><br><span class="line"><span class="undefined">             *</span></span><br><span class="line"><span class="undefined">             * - 无法通过userAgent方式判断时，通过浏览器特有的对象来判断，常用的ActiveXObject。</span></span><br><span class="line"><span class="undefined">             *      - 通过双感叹号来转换成bool值判断是否有该对象。但是！！！IE11会造假！！！把ActiveXObject的改成false……</span></span><br><span class="line"><span class="undefined">             *      - 通过in表达式来判断，这种方式无法造假。</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="undefined">            if(/firefox/i.test(ua))&#123;</span></span><br><span class="line"><span class="undefined">                alert("火狐浏览器！");</span></span><br><span class="line"><span class="undefined">            &#125; else if(/chrome/i.test(ua))&#123;</span></span><br><span class="line"><span class="undefined">                alert("谷歌浏览器！");</span></span><br><span class="line"><span class="undefined">            &#125; else if(/msie/i.test(ua))&#123;</span></span><br><span class="line"><span class="undefined">                alert("IE浏览器！");</span></span><br><span class="line"><span class="undefined">            &#125; else if("ActiveXObject" in window)&#123;</span></span><br><span class="line"><span class="undefined">                alert("IE11浏览器");</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h3><p>代表当前浏览器的地址栏信息，可以获取浏览器地址栏信息，或者操作浏览器跳转。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	window.onload = function()&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 获取location地址</span></span><br><span class="line"><span class="undefined">                alert(location);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 修改location</span></span><br><span class="line"><span class="undefined">                 * 和assign()方法效果相同</span></span><br><span class="line"><span class="undefined">                 */ </span></span><br><span class="line"><span class="undefined">                location = "https://www.baidu.com/";</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * reload()</span></span><br><span class="line"><span class="undefined">                 * 重新加载当前页面，刷新当前页面，会有历史记录，可回退</span></span><br><span class="line"><span class="undefined">                 * 如果传递true，则会强制清空缓存刷新页面，即ctrl+F5效果</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                location.reload(true);      </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * replace()</span></span><br><span class="line"><span class="undefined">                 * 可以使用一个新的页面替代当前页面，没有历史记录，不能回退</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                location.replace();</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="History"><a href="#History" class="headerlink" title="History"></a>History</h3><p>代表浏览器的历史记录，同时通过该对象来操作浏览器的历史记录。由于隐式原因，该对象不能获取到具体的历史记录，只能操作浏览器向前或向后翻页，并且只在当次访问时有效。</p>
<p>更多：<a href="http://www.w3school.com.cn/jsref/dom_obj_history.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_history.asp</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	window.onload = function()&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * length: 获取当前访问数量</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                alert(window.history.length);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * back()</span></span><br><span class="line"><span class="undefined">                 * 返回上一个页面，和浏览器回退按钮功能一样</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                history.back();</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * forward()</span></span><br><span class="line"><span class="undefined">                 * 返回下一个页面，和浏览器回前进按钮功能一样</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                history.forward();</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * go(int)</span></span><br><span class="line"><span class="undefined">                 * 跳转到指定的页面</span></span><br><span class="line"><span class="undefined">                 * - 整数：相当于forward()，向前跳n个页面</span></span><br><span class="line"><span class="undefined">                 * - 负数：相当于back()，向后跳n个页面</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                history.go(1);</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>history<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Screen"><a href="#Screen" class="headerlink" title="Screen"></a>Screen</h3><p>代表用户的屏幕信息，通过该对象可以获取到用户的显示器的相关信息。</p>
<p>不常用。</p>
<hr>
<h3 id="综合案例——动画"><a href="#综合案例——动画" class="headerlink" title="综合案例——动画"></a>综合案例——动画</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	*&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            #box1&#123;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">                left: 0px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 获取样式值 </span></span><br><span class="line"><span class="undefined">             * 兼容IE8及常见浏览器</span></span><br><span class="line"><span class="undefined">             * obj：对象</span></span><br><span class="line"><span class="undefined">             * name：样式名字符串</span></span><br><span class="line"><span class="undefined">             * 返回值： 属性值字符串</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="undefined">            function getStyle(obj, name)&#123;</span></span><br><span class="line"><span class="undefined">                // 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span></span><br><span class="line"><span class="undefined">                if(window.getComputedStyle)&#123;</span></span><br><span class="line"><span class="undefined">                    // 正常浏览器</span></span><br><span class="line"><span class="undefined">                    return getComputedStyle(obj, null)[name];</span></span><br><span class="line"><span class="undefined">                &#125; else &#123;</span></span><br><span class="line"><span class="undefined">                    // IE8</span></span><br><span class="line"><span class="undefined">                    return obj.currentStyle[name];</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 参数：</span></span><br><span class="line"><span class="undefined">             *  obj: 要执行动画的对象</span></span><br><span class="line"><span class="undefined">             *  attr: 要执行的动画样式。如：left/top/width/height，string值</span></span><br><span class="line"><span class="undefined">             *  speed: 移动速度绝对值</span></span><br><span class="line"><span class="undefined">             *  target: 上下限</span></span><br><span class="line"><span class="undefined">             *  callback: 回调函数，可以添加默认！回调函数有无限可能^——^</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="undefined">            function move(obj, attr, speed, target, callback)&#123;</span></span><br><span class="line"><span class="undefined">                // 关闭上一个定时器</span></span><br><span class="line"><span class="undefined">                clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 判断速度的正负值,即左右运动方向</span></span><br><span class="line"><span class="undefined">                if(parseInt(getStyle(obj, attr)) &gt; target)&#123;</span></span><br><span class="line"><span class="undefined">                    speed = -speed;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 开启一个定时器,用来执行动画效果</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 先执行动画的对象中添加一个timer对象，用来保存自己的定时器</span></span><br><span class="line"><span class="undefined">                 * 避免多个对象同时使用定时器造成混乱</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                obj.timer = setInterval(function()&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 获取obj的attr</span></span><br><span class="line"><span class="undefined">                    var oldValue = parseInt(getStyle(obj, attr));</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 在旧值基础上增加</span></span><br><span class="line"><span class="undefined">                    var newValue = oldValue + speed;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 判断最值</span></span><br><span class="line"><span class="undefined">                    if((speed &lt; 0 &amp;&amp; newValue &lt; target) || (speed &gt; 0 &amp;&amp; newValue &gt; target))&#123;</span></span><br><span class="line"><span class="undefined">                        newValue = target;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 新值设置给obj</span></span><br><span class="line"><span class="undefined">                    obj.style[attr] = newValue + "px";</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 当元素移动到400px时,停止执行动画</span></span><br><span class="line"><span class="undefined">                    if(newValue == target)&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 关闭定时器</span></span><br><span class="line"><span class="undefined">                        clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 动画执行完毕的回调函数,只有有回调函数时候才执行,也就是可以不传回调函数!!!</span></span><br><span class="line"><span class="undefined">                        callback &amp;&amp; callback();</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;, 30);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">        	window.onload = function()&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                //</span></span><br><span class="line"><span class="undefined">                var btnMoveRight = document.getElementById("btnMoveRight");</span></span><br><span class="line"><span class="undefined">                var btnMoveLeft = document.getElementById("btnMoveLeft");</span></span><br><span class="line"><span class="undefined">                var btnMoveDown = document.getElementById("btnMoveDown");</span></span><br><span class="line"><span class="undefined">                var btnMoveUp = document.getElementById("btnMoveUp");</span></span><br><span class="line"><span class="undefined">                var btnWidthUp = document.getElementById("btnWidthUp");</span></span><br><span class="line"><span class="undefined">                var btnWidthDown = document.getElementById("btnWidthDown");</span></span><br><span class="line"><span class="undefined">                var box1 = document.getElementById("box1");</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                btnMoveRight.onclick = function()&#123;</span></span><br><span class="line"><span class="undefined">                    move(box1, "left", 10, 400, function()&#123;</span></span><br><span class="line"><span class="undefined">                        alert('动画执行完毕');</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                btnMoveLeft.onclick = function()&#123;</span></span><br><span class="line"><span class="undefined">                    move(box1, "left", 10, 0, function()&#123;</span></span><br><span class="line"><span class="undefined">                        alert('动画执行完毕');</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                btnMoveDown.onclick = function()&#123;</span></span><br><span class="line"><span class="undefined">                    move(box1, "top", 10, 400, function()&#123;</span></span><br><span class="line"><span class="undefined">                        alert('动画执行完毕');</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                btnMoveUp.onclick = function()&#123;</span></span><br><span class="line"><span class="undefined">                    move(box1, "top", 10, 0, function()&#123;</span></span><br><span class="line"><span class="undefined">                        alert('动画执行完毕');</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                btnWidthUp.onclick = function()&#123;</span></span><br><span class="line"><span class="undefined">                    move(box1, "width", 10, 400, function()&#123;</span></span><br><span class="line"><span class="undefined">                        alert('动画执行完毕');</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                btnWidthDown.onclick = function()&#123;</span></span><br><span class="line"><span class="undefined">                    move(box1, "width", 10, 5, function()&#123;</span></span><br><span class="line"><span class="undefined">                        alert('动画执行完毕');</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveRight"</span>&gt;</span>向右移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveLeft"</span>&gt;</span>向左移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveDown"</span>&gt;</span>向下移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveUp"</span>&gt;</span>向上移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnWidthUp"</span>&gt;</span>宽度增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnWidthDown"</span>&gt;</span>宽度减少<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="综合案例——轮播图"><a href="#综合案例——轮播图" class="headerlink" title="综合案例——轮播图"></a>综合案例——轮播图</h3><p>结合setInterval()定时调动和动画效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	*&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            #outer&#123;</span></span><br><span class="line"><span class="undefined">                width: 520px;</span></span><br><span class="line"><span class="undefined">                height: 333px;</span></span><br><span class="line"><span class="undefined">                margin: 50px auto;</span></span><br><span class="line"><span class="undefined">                background-color: greenyellow;</span></span><br><span class="line"><span class="undefined">                padding: 10px 0;</span></span><br><span class="line"><span class="undefined">                /* 父元素开启相对定位 */</span></span><br><span class="line"><span class="undefined">                position: relative;</span></span><br><span class="line"><span class="undefined">                /* 裁剪多余的内容 */</span></span><br><span class="line"><span class="undefined">                overflow: hidden;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            #imgList&#123;</span></span><br><span class="line"><span class="undefined">                /* 去除项目符号 */</span></span><br><span class="line"><span class="undefined">                list-style: none;</span></span><br><span class="line"><span class="undefined">                /* 子元素开启绝对定位 */</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /* 设置图片中的li */</span></span><br><span class="line"><span class="undefined">            #imgList li&#123;</span></span><br><span class="line"><span class="undefined">                /* 设置浮动，将垂直排列变成水平排列 */</span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">                margin: 0 10px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /* 设置导航按钮 */</span></span><br><span class="line"><span class="undefined">            #navDiv&#123;</span></span><br><span class="line"><span class="undefined">                /* 开启绝对定位 */</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">                /* 设置位置 */</span></span><br><span class="line"><span class="undefined">                bottom: 15px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            #navDiv a&#123;</span></span><br><span class="line"><span class="undefined">                /* 设置浮动 */</span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">                width: 15px;</span></span><br><span class="line"><span class="undefined">                height: 15px;</span></span><br><span class="line"><span class="undefined">                margin: 0 5px;</span></span><br><span class="line"><span class="undefined">                background-color: #FF0000;</span></span><br><span class="line"><span class="undefined">                /* 设置透明 */</span></span><br><span class="line"><span class="undefined">                opacity: 0.5;</span></span><br><span class="line"><span class="undefined">                /* 兼容IE透明 */</span></span><br><span class="line"><span class="undefined">                filter: alpha(opacity = 50);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /* 鼠标移入效果 */</span></span><br><span class="line"><span class="undefined">            #navDiv a:hover&#123;</span></span><br><span class="line"><span class="undefined">                background-color: black;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 获取样式值 </span></span><br><span class="line"><span class="undefined">             * 兼容IE8及常见浏览器</span></span><br><span class="line"><span class="undefined">             * obj：对象</span></span><br><span class="line"><span class="undefined">             * name：样式名字符串</span></span><br><span class="line"><span class="undefined">             * 返回值： 属性值字符串</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="undefined">            function getStyle(obj, name)&#123;</span></span><br><span class="line"><span class="undefined">                // 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span></span><br><span class="line"><span class="undefined">                if(window.getComputedStyle)&#123;</span></span><br><span class="line"><span class="undefined">                    // 正常浏览器</span></span><br><span class="line"><span class="undefined">                    return getComputedStyle(obj, null)[name];</span></span><br><span class="line"><span class="undefined">                &#125; else &#123;</span></span><br><span class="line"><span class="undefined">                    // IE8</span></span><br><span class="line"><span class="undefined">                    return obj.currentStyle[name];</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 参数：</span></span><br><span class="line"><span class="undefined">             *  obj: 要执行动画的对象</span></span><br><span class="line"><span class="undefined">             *  attr: 要执行的动画样式。如：left/top/width/height</span></span><br><span class="line"><span class="undefined">             *  speed: 移动速度绝对值</span></span><br><span class="line"><span class="undefined">             *  target: 上下限</span></span><br><span class="line"><span class="undefined">             *  callback: 回调函数，可以添加默认！回调函数有无限可能^——^</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="undefined">            function move(obj, attr, speed, target, callback)&#123;</span></span><br><span class="line"><span class="undefined">                // 关闭上一个定时器</span></span><br><span class="line"><span class="undefined">                clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 判断速度的正负值,即左右运动方向</span></span><br><span class="line"><span class="undefined">                if(parseInt(getStyle(obj, attr)) &gt; target)&#123;</span></span><br><span class="line"><span class="undefined">                    speed = -speed;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 开启一个定时器,用来执行动画效果</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 先执行动画的对象中添加一个timer对象，用来保存自己的定时器</span></span><br><span class="line"><span class="undefined">                 * 避免多个对象同时使用定时器造成混乱</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                obj.timer = setInterval(function()&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 获取obj的attr</span></span><br><span class="line"><span class="undefined">                    var oldValue = parseInt(getStyle(obj, attr));</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 在旧值基础上增加</span></span><br><span class="line"><span class="undefined">                    var newValue = oldValue + speed;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 判断最值</span></span><br><span class="line"><span class="undefined">                    if((speed &lt; 0 &amp;&amp; newValue &lt; target) || (speed &gt; 0 &amp;&amp; newValue &gt; target))&#123;</span></span><br><span class="line"><span class="undefined">                        newValue = target;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 新值设置给obj</span></span><br><span class="line"><span class="undefined">                    obj.style[attr] = newValue + "px";</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 当元素移动到400px时,停止执行动画</span></span><br><span class="line"><span class="undefined">                    if(newValue == target)&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 关闭定时器</span></span><br><span class="line"><span class="undefined">                        clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 动画执行完毕的回调函数,只有有回调函数时候才执行,也就是可以不传回调函数!!!</span></span><br><span class="line"><span class="undefined">                        callback &amp;&amp; callback();</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;, 30);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            window.onload = function()&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 设置ul的宽度</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                // 获取imgList</span></span><br><span class="line"><span class="undefined">                var imgList = document.getElementById("imgList");</span></span><br><span class="line"><span class="undefined">                // 获取ul中所有img标签</span></span><br><span class="line"><span class="undefined">                var imgArr = imgList.getElementsByTagName("img");</span></span><br><span class="line"><span class="undefined">                // 设置imgList的宽度</span></span><br><span class="line"><span class="undefined">                imgList.style.width = 520 * imgArr.length + "px";</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 设置导航按钮的位置居中</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                // 获取navDiv</span></span><br><span class="line"><span class="undefined">                var navDiv = document.getElementById("navDiv");</span></span><br><span class="line"><span class="undefined">                //获取outer</span></span><br><span class="line"><span class="undefined">                var outer = document.getElementById("outer");</span></span><br><span class="line"><span class="undefined">                // 设置navDiv的left值</span></span><br><span class="line"><span class="undefined">                navDiv.style.left = (outer.offsetWidth - navDiv.offsetWidth)/2 + "px";</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 默认显示图片的索引</span></span><br><span class="line"><span class="undefined">                var index = 0;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 获取所有的a并设置默认选中效果</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                var allA = document.getElementsByTagName("a");</span></span><br><span class="line"><span class="undefined">                // 设置默认选中的效果</span></span><br><span class="line"><span class="undefined">                allA[index].style.backgroundColor = "black";</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 点击超链接切换到指定的图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                for (var i=0; i&lt;allA.length; i++) &#123;</span></span><br><span class="line"><span class="undefined">                	</span></span><br><span class="line"><span class="undefined">                    // 为超链接添加索引属性</span></span><br><span class="line"><span class="undefined">                    allA[i].num = i;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 为超链接绑定单击响应函数</span></span><br><span class="line"><span class="undefined">                    allA[i].onclick = function()&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 关闭自动切换的定时器</span></span><br><span class="line"><span class="undefined">                        clearInterval(timer);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 获取点击超链接的索引,并将其设置为index</span></span><br><span class="line"><span class="undefined">                        index = this.num;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 切换图片</span></span><br><span class="line"><span class="undefined">                        //imgList.style.left = "-" + 520 * index + "px";</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 使用move函数切换图片</span></span><br><span class="line"><span class="undefined">                        move(imgList, "left", 30, -520*index, function()&#123;</span></span><br><span class="line"><span class="undefined">                            /* 重新开始自动切换图片 */</span></span><br><span class="line"><span class="undefined">                            autoChange();</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 修改选中的a</span></span><br><span class="line"><span class="undefined">                        setA();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 自动切换图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                autoChange();</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                // 定时器对象</span></span><br><span class="line"><span class="undefined">                var timer;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 开启自动切换</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                function autoChange()&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 开启定时器</span></span><br><span class="line"><span class="undefined">                    timer = setInterval(function()&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        // 索引自增</span></span><br><span class="line"><span class="undefined">                        index ++;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        index %= imgArr.length;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        move(imgList, "left", 30, -520*index, function()&#123;</span></span><br><span class="line"><span class="undefined">                            // 修改导航按钮</span></span><br><span class="line"><span class="undefined">                            setA();</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;, 2000);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 导航按钮的颜色改变的方法</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                function setA()&#123;</span></span><br><span class="line"><span class="undefined">                     </span></span><br><span class="line"><span class="undefined">                    // 判断当前索引是否是最后一张额外的图片</span></span><br><span class="line"><span class="undefined">                    if(index &gt;= imgArr.length - 1)&#123;</span></span><br><span class="line"><span class="undefined">                        // 修改index</span></span><br><span class="line"><span class="undefined">                        index = 0;</span></span><br><span class="line"><span class="undefined">                        // 通过css将最后一张切换成第一张,通过瞬移实现流畅</span></span><br><span class="line"><span class="undefined">                        imgList.style.left = 0 + "px";</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 清空a的内联背景样式,会露出css中的样式</span></span><br><span class="line"><span class="undefined">                    for(var i=0; i&lt;allA.length; i++)&#123;</span></span><br><span class="line"><span class="undefined">                        allA[i].style.backgroundColor = "";</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    // 将选中的a设置为黑色</span></span><br><span class="line"><span class="undefined">                    allA[index].style.backgroundColor = "black";</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"imgList"</span>&gt;</span></span><br><span class="line">        		<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/2.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/3.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/4.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/5.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 最后一张和第一张重复，为了动画效果流畅 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 导航按钮 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"navDiv"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>轮播图演示效果：</p>
<p><img src="/2019/02/08/前端-JavaScript基础-BOM基础/轮播图效果.gif" alt="前端-JavaScript基础-BOM基础/轮播图效果.gif"></p>
<p>轮播图原理演示：</p>
<p><img src="/2019/02/08/前端-JavaScript基础-BOM基础/轮播图原理演示.gif" alt="前端-JavaScript基础-BOM基础/轮播图原理演示.gif"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/08/前端-JavaScript基础-BOM基础/" data-id="cjs1ci114002e6sutgjpe8yge" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端，BOM/">前端，BOM</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/02/12/前端-JavaScript基础-tool工具集合/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          前端-JavaScript基础-tool工具集合
        
      </div>
    </a>
  
  
    <a href="/2019/02/01/前端-浏览器兼容/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">前端-浏览器兼容</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Html-Css/">Html/Css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/">book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端，BOM/">前端，BOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端，DOM/">前端，DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端，tool/">前端，tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器兼容/">浏览器兼容</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端/">移动端</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Html-Css/" style="font-size: 12px;">Html/Css</a> <a href="/tags/JavaScript/" style="font-size: 14px;">JavaScript</a> <a href="/tags/Python/" style="font-size: 18px;">Python</a> <a href="/tags/blog/" style="font-size: 12px;">blog</a> <a href="/tags/book/" style="font-size: 10px;">book</a> <a href="/tags/前端/" style="font-size: 16px;">前端</a> <a href="/tags/前端，BOM/" style="font-size: 10px;">前端，BOM</a> <a href="/tags/前端，DOM/" style="font-size: 10px;">前端，DOM</a> <a href="/tags/前端，tool/" style="font-size: 10px;">前端，tool</a> <a href="/tags/小程序/" style="font-size: 10px;">小程序</a> <a href="/tags/浏览器兼容/" style="font-size: 10px;">浏览器兼容</a> <a href="/tags/移动端/" style="font-size: 20px;">移动端</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/02/12/前端-JavaScript基础-tool工具集合/">前端-JavaScript基础-tool工具集合</a>
          </li>
        
          <li>
            <a href="/2019/02/08/前端-JavaScript基础-BOM基础/">前端-JavaScript基础-BOM基础</a>
          </li>
        
          <li>
            <a href="/2019/02/01/前端-浏览器兼容/">前端-浏览器兼容</a>
          </li>
        
          <li>
            <a href="/2019/01/19/前端-JavaScript基础-DOM基础/">JavaScript基础_DOM基础</a>
          </li>
        
          <li>
            <a href="/2018/12/18/前端-JavaScript基础/">JavaScript基础</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Ai Junhao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>