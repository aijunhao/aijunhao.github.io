<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hello, I&#39;m Junhao Ai.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hello, I&#39;m Junhao Ai.">
  
    <link rel="alternate" href="/atom.xml" title="Hello, I&#39;m Junhao Ai." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hello, I&#39;m Junhao Ai.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-框架——Express" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/11/框架——Express/" class="article-date">
  <time datetime="2019-03-11T13:54:34.000Z" itemprop="datePublished">2019-03-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/11/框架——Express/">框架——Express</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- TOC -->
<ul>
<li><a href="#express-简介">Express 简介</a></li>
<li><a href="#express-安装及入门">Express 安装及入门</a></li>
<li><a href="#静态服务">静态服务</a></li>
</ul>
<!-- /TOC -->
<h2 id="Express-简介"><a href="#Express-简介" class="headerlink" title="Express 简介"></a>Express 简介</h2><p>原生的 http 在某些方面不足以应对我们的开发需求，框架的目的就是提高效率，让我们的代码更高度统一。</p>
<p>Express 是一个保持最小规模的灵活的 Node.js Web 应用程序开发框架，为 Web 和移动应用程序提供一组强大的功能。</p>
<p>官网：<a href="http://www.expressjs.com.cn/" target="_blank" rel="noopener">http://www.expressjs.com.cn/</a></p>
<h2 id="Express-安装及入门"><a href="#Express-安装及入门" class="headerlink" title="Express 安装及入门"></a>Express 安装及入门</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 新建项目文件夹并进入</span><br><span class="line">&gt; <span class="built_in">mkdir</span> express_demo</span><br><span class="line">&gt; <span class="built_in">cd</span> express_demo</span><br><span class="line"></span><br><span class="line">// 创建 package.json 文件</span><br><span class="line">&gt; npm init</span><br><span class="line"></span><br><span class="line">// 安装 Express，最好用cnpm</span><br><span class="line">&gt; npm install express --save</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建服务器应用程序，相当于原生 Node 的 http.createServer</span></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8888</span></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">'127.0.0.1'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当服务器收到 get 请求 / 的时候，执行回调函数，相当于原生 Node 中解析 get 请求的 request.url === '/'</span></span><br><span class="line">app.get(<span class="string">'/'</span>, (request, response) =&gt; &#123;</span><br><span class="line">  response.send(<span class="string">'hello express'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 相当于 server.listen</span></span><br><span class="line">app.listen(port, hostname, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`服务器已启动，通过 http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/ 访问`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>通过这个案例我们大概可以看出来，Express 和原生的 Node 大致相同，但是可以将项目更清晰。</p>
<hr>
<h2 id="静态服务"><a href="#静态服务" class="headerlink" title="静态服务"></a>静态服务</h2><p>为了提供诸如图像、CSS 文件和 JavaScript 文件之类的静态文件，请使用 Express 中的 express.static 内置中间件函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 当前 js 文件与公共目录同级</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 公开 public 目录，如通过127.0.0.1:8888/img/1.jpg 路径 public/img 目录下的 1.jpg 图片资源</span></span><br><span class="line">app.use(express.static(<span class="string">'public'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 公开 public 目录，并通过虚拟路径 '/public' 前缀访问，127.0.0.1:8888/public/img/1.jpg 路径 public/img 目录下的 1.jpg 图片资源</span></span><br><span class="line">app.use(<span class="string">'/public'</span>, express.static(<span class="string">'public'</span>))</span><br></pre></td></tr></table></figure>
<pre><code class="shell">
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/11/框架——Express/" data-id="cjt5i3k0h001bcoutf3vt08k9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node/">Node</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/后端/">后端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/框架/">框架</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-软件配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/10/软件配置/" class="article-date">
  <time datetime="2019-03-10T06:38:45.000Z" itemprop="datePublished">2019-03-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/10/软件配置/">软件配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- TOC -->
<ul>
<li><a href="#visual-sudio-code">Visual Sudio Code</a><ul>
<li><a href="#markdown-文件">MarkDown 文件</a><ul>
<li><a href="#markdown-toc-文件目录插件">Markdown TOC 文件目录插件</a></li>
<li><a href="#paste-image-贴图插件">Paste Image 贴图插件</a></li>
<li><a href="#markdown-preview-enhanced-多功能插件">Markdown Preview Enhanced 多功能插件</a></li>
<li><a href="#实时预览">实时预览</a></li>
</ul>
</li>
<li><a href="#javascript-文件">JavaScript 文件</a><ul>
<li><a href="#standardjs---javascript-standard-style-代码标准化插件">StandardJS - JavaScript Standard Style 代码标准化插件</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h1 id="Visual-Sudio-Code"><a href="#Visual-Sudio-Code" class="headerlink" title="Visual Sudio Code"></a>Visual Sudio Code</h1><h2 id="MarkDown-文件"><a href="#MarkDown-文件" class="headerlink" title="MarkDown 文件"></a>MarkDown 文件</h2><h3 id="Markdown-TOC-文件目录插件"><a href="#Markdown-TOC-文件目录插件" class="headerlink" title="Markdown TOC 文件目录插件"></a>Markdown TOC 文件目录插件</h3><p><img src="/2019/03/10/软件配置/MarkdownTOC.jpg" alt="MarkdownTOC.jpg"></p>
<p>此插件用于自动生成章节目录，使用了之后，会自动生成目录，并动态更新，且有超链接效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- TOC --&gt;</span><br><span class="line">    目录结构</span><br><span class="line">&lt;!-- /TOC --&gt;</span><br></pre></td></tr></table></figure>
<p>在 markdown 文件中，右键，弹出如下内容：</p>
<p><img src="/2019/03/10/软件配置/MarkdownTOCShow.jpg" alt="MarkdownTOCShow.jpg"></p>
<ul>
<li>Markdown Sections: 在章节头部中添加深度</li>
<li>Markdown TOC：生成章节目录</li>
</ul>
<hr>
<h3 id="Paste-Image-贴图插件"><a href="#Paste-Image-贴图插件" class="headerlink" title="Paste Image 贴图插件"></a>Paste Image 贴图插件</h3><p>自动保存截图面板中的图片到当前目录。</p>
<hr>
<h3 id="Markdown-Preview-Enhanced-多功能插件"><a href="#Markdown-Preview-Enhanced-多功能插件" class="headerlink" title="Markdown Preview Enhanced 多功能插件"></a>Markdown Preview Enhanced 多功能插件</h3><p>超级强大的 Markdown 插件。可惜贴图功能不适用于vsCode。</p>
<p><a href="https://shd101wyy.github.io/markdown-preview-enhanced/#/zh-cn/" target="_blank" rel="noopener">https://shd101wyy.github.io/markdown-preview-enhanced/#/zh-cn/</a></p>
<hr>
<h3 id="实时预览"><a href="#实时预览" class="headerlink" title="实时预览"></a>实时预览</h3><p>vsCode 自带插件。</p>
<p>快捷键：CTRL + SHIFT + M 打开侧边预览功能。</p>
<hr>
<h2 id="JavaScript-文件"><a href="#JavaScript-文件" class="headerlink" title="JavaScript 文件"></a>JavaScript 文件</h2><h3 id="StandardJS-JavaScript-Standard-Style-代码标准化插件"><a href="#StandardJS-JavaScript-Standard-Style-代码标准化插件" class="headerlink" title="StandardJS - JavaScript Standard Style 代码标准化插件"></a>StandardJS - JavaScript Standard Style 代码标准化插件</h3><p>将JavaScript标准样式集成到VS代码中。编写JS代码时，会自动校验代码，并提示不符合JS代码规范的地方，当保存时，会自动修改为规范代码。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/10/软件配置/" data-id="cjt5i3kcm0022cout515g0bgj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/软件配置/">软件配置</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-移动应用开发——Cordova" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/04/移动应用开发——Cordova/" class="article-date">
  <time datetime="2019-03-04T10:52:30.000Z" itemprop="datePublished">2019-03-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/04/移动应用开发——Cordova/">移动应用开发——Cordova</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/2019/03/04/移动应用开发——Cordova/cordova_bot.png" alt="cordova_bot.png"></p>
<p>目录：</p>
<!-- TOC -->
<ul>
<li><a href="#cordova-简介">Cordova 简介</a></li>
<li><a href="#前置基础介绍">前置基础介绍</a></li>
<li><a href="#环境配置">环境配置</a></li>
<li><a href="#项目介绍">项目介绍</a><ul>
<li><a href="#configxml">config.xml</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<hr>
<h2 id="Cordova-简介"><a href="#Cordova-简介" class="headerlink" title="Cordova 简介"></a>Cordova 简介</h2><p>Cordova 全称 Apache Cordova，是一款开放源代码的移动开发框架，原名PhoneGap。</p>
<p>API 文档：<a href="https://cordova.apache.org/docs/en/3.0.0/index.html" target="_blank" rel="noopener">https://cordova.apache.org/docs/en/3.0.0/index.html</a></p>
<p>API 中文文档：<a href="http://www.dba.cn/book/cordova/" target="_blank" rel="noopener">http://www.dba.cn/book/cordova/</a></p>
<hr>
<h2 id="前置基础介绍"><a href="#前置基础介绍" class="headerlink" title="前置基础介绍"></a>前置基础介绍</h2><p>Cordova 是移动端混合开发（综合原生和web的优点）。所以，要学 Cordova 需要原生开发的只是，android 或者 ios 根据需求；web 开发，HTML+CSS+JS。</p>
<hr>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><p>Cordova 是移动端混合开发，所以在配置环境的时候需要分别配置原生开发环境和web开发环境。</p>
<p>这里我们只使用 android 原生配置。</p>
<ol>
<li><p>jdk</p>
<p> java 开发环境，因为 android 是以 java 为基础的。</p>
</li>
<li><p>android studio</p>
<p> 有些教材会使用 eclipse ，但是 eclipse 已经淘汰了，android studio 是开发 android 的主流软件。</p>
<p> 需要配置 sdk 和 avd (手机模拟器)。</p>
<p> 因为需要开发 android ，需要在 android 编辑器中调试啥的。</p>
</li>
<li><p>Node.js</p>
<p> Cordova 是使用Node.js 进行管理。需要 npm 包管理器进行下载。</p>
</li>
<li><p>Cordova 安装及配置</p>
<ul>
<li><p>安装完 Node.js 之后，使用管理员身份运行 Node.js command prompt.exe。</p>
</li>
<li><p>npm 下载安装 cordova：在命令行中输入 “npm install -g cordova”。</p>
</li>
<li><p>创建 cordova 项目：在命令行中输入 “cordova create 项目名”。</p>
</li>
<li><p>给项目添加 android 或者 ios 平台：先 “cd 项目名” 进入项目，输入命令 “cordova platform add android” 添加 android 平台，ios平台同上。“cordova platform remove android” 删除平台。此时项目的platform中就会添加对应的平台项目。然后使用 android studio 打开即可。</p>
</li>
<li><p>编译可运行的文件：“cordova build android”。</p>
</li>
</ul>
</li>
</ol>
<hr>
<h2 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h2><p>基础 android 部分忽略。只讲特殊部分。</p>
<h3 id="config-xml"><a href="#config-xml" class="headerlink" title="config.xml"></a>config.xml</h3><p><img src="/2019/03/04/移动应用开发——Cordova/config介绍.jpg" alt="config介绍.jpg"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/04/移动应用开发——Cordova/" data-id="cjt5i3k0j001ecoutlgjr72el" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/框架/">框架</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/移动端/">移动端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-后端基础——Nodejs" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/02/后端基础——Nodejs/" class="article-date">
  <time datetime="2019-03-02T07:08:39.000Z" itemprop="datePublished">2019-03-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/02/后端基础——Nodejs/">后端基础——Node.js</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/2019/03/02/后端基础——Nodejs/node.png" alt="node.png"></p>
<p>目录：</p>
<!-- TOC -->
<ul>
<li><a href="#nodejs是什么">Node.js是什么</a></li>
<li><a href="#浏览器与nodejs中的js">浏览器与Node.js中的JS</a></li>
<li><a href="#npm-基础">npm 基础</a><ul>
<li><a href="#项目初始化">项目初始化</a></li>
<li><a href="#下载模块包">下载模块包</a></li>
<li><a href="#其他常用命令">其他常用命令</a></li>
<li><a href="#npm-被墙问题">npm 被墙问题</a></li>
</ul>
</li>
<li><a href="#nodejs能做什么">Node.js能做什么</a></li>
<li><a href="#代码规范及分号原则">代码规范及分号原则</a></li>
<li><a href="#下载安装">下载安装</a></li>
<li><a href="#nodemon-第三方命令行工具">nodemon 第三方命令行工具</a></li>
<li><a href="#第一个案例-helloworld">第一个案例 HelloWorld</a></li>
<li><a href="#文件操作">文件操作</a></li>
<li><a href="#服务器请求">服务器请求</a></li>
<li><a href="#node-中的模块系统">Node 中的模块系统</a><ul>
<li><a href="#文件作用域">文件作用域</a></li>
<li><a href="#通信规则">通信规则</a><ul>
<li><a href="#加载-require">加载 require</a><ul>
<li><a href="#require-的作用"><code>require</code> 的作用</a></li>
<li><a href="#加载规则">加载规则</a></li>
<li><a href="#语法">语法</a></li>
</ul>
</li>
<li><a href="#导出exports">导出：exports</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#文本类型及中文乱码">文本类型及中文乱码</a></li>
<li><a href="#nodejs-实现-apache-功能">Node.js 实现 Apache 功能</a></li>
<li><a href="#art-template-模板引擎">art-template 模板引擎</a></li>
<li><a href="#nodejs-后端项目结构基础">Node.js 后端项目结构基础</a></li>
<li><a href="#基本路由">基本路由</a><ul>
<li><a href="#路由的基本概念">路由的基本概念</a></li>
<li><a href="#get">GET</a></li>
<li><a href="#post">POST</a></li>
</ul>
</li>
<li><a href="#重定向">重定向</a><ul>
<li><a href="#301-永久重定向推荐">301 永久重定向（推荐）</a></li>
<li><a href="#302-临时重定向">302 临时重定向</a></li>
</ul>
</li>
<li><a href="#express-框架">Express 框架</a></li>
</ul>
<!-- /TOC -->
<p>Node.js 是前端工程师进阶高级工程师必备内容。</p>
<hr>
<h2 id="Node-js是什么"><a href="#Node-js是什么" class="headerlink" title="Node.js是什么"></a>Node.js是什么</h2><p>Node.js 不是一门语言，不是库，不是框架。Node.js 是一个 JavaScript 运行时环境。简单来讲就是 Node.js 可以解析和执行 JS 代码。</p>
<p>以前只有浏览器可以解析JS代码。但是现在JS可以完全脱离浏览器来运行，就是因为有Node.js。</p>
<p>Node.js 基于 Google 的V8引擎，V8引擎执行 Javascript 的速度非常快，性能非常好。</p>
<p>官网：<a href="https://nodejs.org/en/" target="_blank" rel="noopener">https://nodejs.org/en/</a></p>
<p>文档：<a href="https://nodejs.org/zh-cn/docs/" target="_blank" rel="noopener">https://nodejs.org/zh-cn/docs/</a></p>
<hr>
<h2 id="浏览器与Node-js中的JS"><a href="#浏览器与Node-js中的JS" class="headerlink" title="浏览器与Node.js中的JS"></a>浏览器与Node.js中的JS</h2><p>浏览器中的JS：</p>
<ul>
<li>EcmaScript: (基本语法，if，var，function，Object，Array)</li>
<li>BOM</li>
<li>DOM</li>
</ul>
<p>Node.js中的JS：</p>
<ul>
<li>ECMAScript</li>
<li><font color="red">没有BOM/DOM，服务端不操作页面。</font></li>
<li>为JS提供了一些服务器级别的API(文件读写，网络服务的构架，网络通信，http服务器等处理)</li>
</ul>
<hr>
<h2 id="npm-基础"><a href="#npm-基础" class="headerlink" title="npm 基础"></a>npm 基础</h2><p>NPM（node package manager），是基于Node.js开发的包管理器。是世界上最大的开源库生态系统。</p>
<p>中文文档： <a href="https://www.npmjs.cn/" target="_blank" rel="noopener">https://www.npmjs.cn/</a><br>官网： <a href="https://www.npmjs.com/" target="_blank" rel="noopener">https://www.npmjs.com/</a></p>
<p>一些常用的包都可以在官网查找。</p>
<h3 id="项目初始化"><a href="#项目初始化" class="headerlink" title="项目初始化"></a>项目初始化</h3><p><code>package.json</code> 包描述文件，这个文件会记录我们的项目信息，比如需要的项目依赖、版本号之类，非常重要，访问项目文件被误删导致无法挽回的后果。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 命令，有向导</span><br><span class="line">npm init</span><br><span class="line"></span><br><span class="line">// 跳过向导，快速创建，所有选项默认</span><br><span class="line">npm init -y</span><br></pre></td></tr></table></figure>
<p>执行这个命令之后，如果没有 <code>package.json</code> 包描述文件，就会新建；如果已经有了，当 <code>node_modules</code> 依赖丢失时，会根据 <code>package.json</code> 中的 <code>dependencies</code> 字段重新下载依赖。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">/** </span><br><span class="line"> * 如下为新建包描述文件（初始化项目）全过程</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line">// 输入命令，通过命令向导创建</span><br><span class="line"><span class="function">F:\<span class="title">WorkSpace</span>\<span class="title">nodejs</span>&gt;<span class="title">npm</span> <span class="title">init</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 自动输出内容</span></span><br><span class="line"><span class="function"><span class="title">This</span> <span class="title">utility</span> <span class="title">will</span> <span class="title">walk</span> <span class="title">you</span> <span class="title">through</span> <span class="title">creating</span> <span class="title">a</span> <span class="title">package.json</span> <span class="title">file</span>.</span></span><br><span class="line"><span class="function"><span class="title">It</span> <span class="title">only</span> <span class="title">covers</span> <span class="title">the</span> <span class="title">most</span> <span class="title">common</span> <span class="title">items</span>, <span class="title">and</span> <span class="title">tries</span> <span class="title">to</span> <span class="title">guess</span> <span class="title">sensible</span> <span class="title">defaults</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">See</span> `<span class="title">npm</span> <span class="title">help</span> <span class="title">json</span>` <span class="title">for</span> <span class="title">definitive</span> <span class="title">documentation</span> <span class="title">on</span> <span class="title">these</span> <span class="title">fields</span></span></span><br><span class="line"><span class="function"><span class="title">and</span> <span class="title">exactly</span> <span class="title">what</span> <span class="title">they</span> <span class="title">do</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Use</span> `<span class="title">npm</span> <span class="title">install</span> &lt;<span class="title">pkg</span>&gt;` <span class="title">afterwards</span> <span class="title">to</span> <span class="title">install</span> <span class="title">a</span> <span class="title">package</span> <span class="title">and</span></span></span><br><span class="line"><span class="function"><span class="title">save</span> <span class="title">it</span> <span class="title">as</span> <span class="title">a</span> <span class="title">dependency</span> <span class="title">in</span> <span class="title">the</span> <span class="title">package.json</span> <span class="title">file</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Press</span> ^<span class="title">C</span> <span class="title">at</span> <span class="title">any</span> <span class="title">time</span> <span class="title">to</span> <span class="title">quit</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">/**</span></span><br><span class="line"><span class="function"> * 问答式填写项目内容，可以不填，回车直接跳过</span></span><br><span class="line"><span class="function"> */</span></span><br><span class="line"><span class="function">// 包名，默认是我们已经通过 <span class="title">cd</span> 命令进入的文件夹</span></span><br><span class="line"><span class="function"><span class="title">package</span> <span class="title">name</span>: (<span class="title">nodejs</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 版本号，默认为(1.0.0)，我们填写一个较低的版本(0.0.1)</span></span><br><span class="line"><span class="function"><span class="title">version</span>: (1.0.0) 0.0.1</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 项目描述，手动输入</span></span><br><span class="line"><span class="function"><span class="title">description</span>: 这是一个学习项目</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 入口文件，默认是 <span class="title">index.js</span>，我们可以自定义</span></span><br><span class="line"><span class="function"><span class="title">entry</span> <span class="title">point</span>: (<span class="title">index.js</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 测试命令</span></span><br><span class="line"><span class="function"><span class="title">test</span> <span class="title">command</span>:</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// <span class="title">git</span> 仓库地址</span></span><br><span class="line"><span class="function"><span class="title">git</span> <span class="title">repository</span>:</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 关键字，如果想自己的项目通过 <span class="title">npm</span> 被别人下载，就可以填写关键字，供别人下载</span></span><br><span class="line"><span class="function"><span class="title">keywords</span>:</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 作者</span></span><br><span class="line"><span class="function"><span class="title">author</span>: <span class="title">AiJunhao</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 软件开源许可证</span></span><br><span class="line"><span class="function"><span class="title">license</span>: (<span class="title">ISC</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 生成的包描述文件内容</span></span><br><span class="line"><span class="function"><span class="title">About</span> <span class="title">to</span> <span class="title">write</span> <span class="title">to</span> <span class="title">F</span>:\<span class="title">WorkSpace</span>\<span class="title">nodejs</span>\<span class="title">package.json</span>:</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&#123;</span></span><br><span class="line"><span class="function">  "<span class="title">name</span>": "<span class="title">nodejs</span>",</span></span><br><span class="line"><span class="function">  "<span class="title">version</span>": "0.0.1",</span></span><br><span class="line"><span class="function">  "<span class="title">description</span>": "这是一个学习项目",</span></span><br><span class="line"><span class="function">  "<span class="title">main</span>": "<span class="title">index.js</span>",</span></span><br><span class="line"><span class="function">  "<span class="title">scripts</span>": &#123;</span></span><br><span class="line"><span class="function">    "<span class="title">test</span>": "<span class="title">echo</span> \"<span class="title">Error</span>: <span class="title">no</span> <span class="title">test</span> <span class="title">specified</span>\" &amp;&amp; <span class="title">exit</span> 1"</span></span><br><span class="line"><span class="function">  &#125;,</span></span><br><span class="line"><span class="function">  "<span class="title">author</span>": "<span class="title">AiJunhao</span>",</span></span><br><span class="line"><span class="function">  "<span class="title">license</span>": "<span class="title">ISC</span>"</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 是否同意，输入 <span class="title">yes</span> </span></span><br><span class="line"><span class="function"><span class="title">Is</span> <span class="title">this</span> <span class="title">OK</span>? (<span class="title">yes</span>) <span class="title">yes</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">F</span>:\<span class="title">WorkSpace</span>\<span class="title">nodejs</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>此时在项目根目录就创建了 <code>package.json</code> 文件。</p>
<h3 id="下载模块包"><a href="#下载模块包" class="headerlink" title="下载模块包"></a>下载模块包</h3><p>使用 npm 下载的包，放在同级目录下的 “node_modules” 文件夹下。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 语法</span><br><span class="line">npm install 模块关键字 --save</span><br><span class="line"></span><br><span class="line">或者简写：npm i 模块关键字 --save</span><br><span class="line">或者简写：npm i 模块关键字 -S</span><br><span class="line"></span><br><span class="line">// --save：表示将这个下载记录到 package.js 的 dependencies 中。如果不写，则不保存。</span><br></pre></td></tr></table></figure>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 输入mingl</span><br><span class="line"><span class="function">F:\<span class="title">WorkSpace</span>\<span class="title">nodejs</span>&gt;<span class="title">npm</span> <span class="title">install</span> <span class="title">art</span>-<span class="title">template</span> --<span class="title">save</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 会有一些 <span class="title">WARN</span> ，不用管它</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">notice</span> <span class="title">created</span> <span class="title">a</span> <span class="title">lockfile</span> <span class="title">as</span> <span class="title">package</span>-<span class="title">lock.json</span>. <span class="title">You</span> <span class="title">should</span> <span class="title">commit</span> <span class="title">this</span> <span class="title">file</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">nodejs</span>@0.0.1 <span class="title">No</span> <span class="title">repository</span> <span class="title">field</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 表示包已经添加</span></span><br><span class="line"><span class="function">+ <span class="title">art</span>-<span class="title">template</span>@4.13.2</span></span><br><span class="line"><span class="function"><span class="title">added</span> 32 <span class="title">packages</span> <span class="title">from</span> 133 <span class="title">contributors</span> <span class="title">and</span> <span class="title">audited</span> 40 <span class="title">packages</span> <span class="title">in</span> 6.025<span class="title">s</span></span></span><br><span class="line"><span class="function"><span class="title">found</span> 0 <span class="title">vulnerabilities</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">F</span>:\<span class="title">WorkSpace</span>\<span class="title">nodejs</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>此时看项目文件夹，就会有 node_modules 文件夹被新建，里面放了所有一级、二级……依赖文件；<code>package.json</code> 文件中会添加 <code>dependencies</code> 字段，记录这次添加的依赖包。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"nodejs"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.1"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"这是一个学习项目"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"app.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"AiJunhao"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"art-template"</span>: <span class="string">"^4.13.2"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="其他常用命令"><a href="#其他常用命令" class="headerlink" title="其他常用命令"></a>其他常用命令</h3><ul>
<li><p>删除包</p>
  <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm unistall 包名       // 只删除，不会删除依赖项中的内容</span><br><span class="line"></span><br><span class="line">简写: npm un 包名</span><br></pre></td></tr></table></figure>
  <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm unistall 包名 --save       // 删除包并删除依赖项中的内容</span><br><span class="line"></span><br><span class="line">简写: npm un 包名 -S</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看使用帮助</p>
  <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm --<span class="built_in">help</span>      // 查看所有使用帮助</span><br><span class="line"></span><br><span class="line">npm 命令 --<span class="built_in">help</span>     // 查看该命令的具体使用方法</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="npm-被墙问题"><a href="#npm-被墙问题" class="headerlink" title="npm 被墙问题"></a>npm 被墙问题</h3><p>npm 存储包文件的服务器在国外，有时候会被墙，这时候可以使用淘宝镜像 cnpm。</p>
<p><a href="http://npm.taobao.org/" target="_blank" rel="noopener">http://npm.taobao.org/</a> 淘宝的开发团队把 npm 在国内做了一个备份。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 安装淘宝的 cnpm</span><br><span class="line">npm install --global cnpm</span><br><span class="line"></span><br><span class="line">// 然后将正常的 npm 命令中 npm 改成 cnpm 即可</span><br><span class="line">npm install jquery</span><br><span class="line">变成：cpm install jquery</span><br></pre></td></tr></table></figure>
<p>如果不想安装 cnpm 又想使用淘宝镜像下载：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install jquery --registry=https://registry.npm.taoba.org</span><br></pre></td></tr></table></figure>
<p>但是这样比较麻烦，可以将这个选项加入配置文件中：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 配置</span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line">// 查看配置</span><br><span class="line">npm config list</span><br></pre></td></tr></table></figure>
<p>配置之后，之后所有的下载都是从淘宝镜像下载的。</p>
<hr>
<h2 id="Node-js能做什么"><a href="#Node-js能做什么" class="headerlink" title="Node.js能做什么"></a>Node.js能做什么</h2><ul>
<li>web 服务器后台</li>
<li>命令行工具<ul>
<li>npm(node.js)</li>
<li>git(c语言)</li>
<li>hexo(node.js)</li>
</ul>
</li>
</ul>
<hr>
<h2 id="代码规范及分号原则"><a href="#代码规范及分号原则" class="headerlink" title="代码规范及分号原则"></a>代码规范及分号原则</h2><p>常用的JS代码规范有两种：</p>
<ul>
<li><p>JavaScript Standard Style: 较为松散</p>
<p>  <a href="https://standardjs.com/readme-zhcn.html#usage" target="_blank" rel="noopener">https://standardjs.com/readme-zhcn.html#usage</a></p>
</li>
<li><p>Airbnb JavaScript Style: 较严谨</p>
<p>  <a href="http://airbnb.io/javascript/" target="_blank" rel="noopener">http://airbnb.io/javascript/</a></p>
</li>
</ul>
<p>一般都有格式化插件，在编辑器中安装即可。</p>
<p>JS 中 tab 建议为2个空格。引号使用单引号。可以不使用分号。</p>
<p>如果采用无分号代码格式，当一行代码以小括号、大括号、斜引号开头时，在最前面加分号。</p>
<p>斜引号与单引号类似，都是字符串，单引号只能一行，斜引号中可以换行。</p>
<hr>
<h2 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h2><p><img src="/2019/03/02/后端基础——Nodejs/download.JPG" alt="download.JPG"></p>
<p>一路next即可，重复安装会覆盖。</p>
<p>安装完node.js之后就是需要安装编辑器了，编辑器有很多，比如vsCode，subline等。</p>
<hr>
<h2 id="nodemon-第三方命令行工具"><a href="#nodemon-第三方命令行工具" class="headerlink" title="nodemon 第三方命令行工具"></a>nodemon 第三方命令行工具</h2><p><code>nodemon</code> 是一个基于 <code>Nodejs</code> 开发的一个第三方命令行工具，使用时需要独立安装。</p>
<p><code>nodemon</code> 工具只有一个作用：只要通过 <code>nodemon</code> 启动的服务，其文件就会被监视，当文件发生变化时(保存之后)，自动重启服务器。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 安装</span><br><span class="line">npm install --global nodemon</span><br></pre></td></tr></table></figure>
<p>安装完毕之后运行 js 文件即可：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 原先 node 启动服务器</span><br><span class="line">node index.js</span><br><span class="line"></span><br><span class="line">// 通过 nodemon 启动服务器</span><br><span class="line">nodemon index.js</span><br><span class="line"></span><br><span class="line">// nodemon 启动时的打印文件</span><br><span class="line"><span class="function">f:\<span class="title">WorkSpace</span>\<span class="title">nodejs</span>\<span class="title">express_demo</span>&gt;<span class="title">nodemon</span> <span class="title">index.js</span></span></span><br><span class="line"><span class="function">[<span class="title">nodemon</span>] 1.18.10</span></span><br><span class="line"><span class="function">[<span class="title">nodemon</span>] <span class="title">to</span> <span class="title">restart</span> <span class="title">at</span> <span class="title">any</span> <span class="title">time</span>, <span class="title">enter</span> `<span class="title">rs</span>`</span></span><br><span class="line"><span class="function">[<span class="title">nodemon</span>] <span class="title">watching</span>: *.*</span></span><br><span class="line"><span class="function">[<span class="title">nodemon</span>] <span class="title">starting</span> `<span class="title">node</span> <span class="title">index.js</span>`</span></span><br><span class="line"><span class="function">服务器已启动，通过 <span class="title">http</span>://127.0.0.1:8888/ 访问</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="第一个案例-HelloWorld"><a href="#第一个案例-HelloWorld" class="headerlink" title="第一个案例 HelloWorld"></a>第一个案例 HelloWorld</h2><p>这里我使用的是vsCode。</p>
<p>之前我们说了，node.js就是JS文件，所以我们只需要新建普通的js文件即可。</p>
<ol>
<li><p>创建编写JavaScript文件，注意文件名不能是“node.js”</p>
</li>
<li><p>打开终端，定位到JavaScript所属目录</p>
</li>
<li><p>输入“node 文件名”执行对应的文件</p>
</li>
</ol>
<p>vsCode自带终端，可以直接在vsCode中打开，或者使用win+R打开cmd执行终端。</p>
<p><img src="/2019/03/02/后端基础——Nodejs/helloworld.JPG" alt="helloworld.JPG"></p>
<hr>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><p>浏览器中的JavaScript是没有文件操作的能力的，是Node中的JavaScript有。</p>
<p>required 指令：我们可以使用 require 指令来载入 Node.js 模块。</p>
<p><font color="red">fs 模块:</font> 是 file-system 的简写，就是文件系统的意思。</p>
<p>读取文件：</p>
<p><img src="/2019/03/02/后端基础——Nodejs/读取文件.JPG" alt="读取文件.JPG"></p>
<p>写入文件：</p>
<p><img src="/2019/03/02/后端基础——Nodejs/写入文件.JPG" alt="写入文件.JPG"></p>
<p>此外，这里读取文件时用的是非阻塞代码，也就是说我们不需要等待文件读取完，这样就可以在读取文件时同时执行接下来的代码，大大提高了程序的性能。还有一种阻塞代码，是顺序执行的，需要在文件读取完成之后再执行接下来的代码。</p>
<p>非阻塞代码：fs.readFileSync(‘hello.txt’);</p>
<hr>
<h2 id="服务器请求"><a href="#服务器请求" class="headerlink" title="服务器请求"></a>服务器请求</h2><p><font color="red">http 模块:</font> 主要用于创建http server服务。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 加载 http 核心模块</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务器地址和端口号</span></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">'127.0.0.1'</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8888</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 创建一个 web 服务器，返回一个 server 实例</span></span><br><span class="line"><span class="keyword">const</span> server = http.createServer();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 服务器功能</span></span><br><span class="line"><span class="comment">// 发请求</span></span><br><span class="line"><span class="comment">// 接收请求</span></span><br><span class="line"><span class="comment">// 处理请求</span></span><br><span class="line"><span class="comment">// 发送响应</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收和响应数据</span></span><br><span class="line">server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>)</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * request 接收请求</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'收到客户端请求！请求路径为：'</span> + request.url);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * response 响应数据</span></span><br><span class="line"><span class="comment">     *      write 用来给客户端发送响应数据，可以写多次，但是要使用 end 来结束响应，否则客户端会一直等待</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    response.write(<span class="string">'hello'</span>);</span><br><span class="line">    response.write(<span class="string">' nodejs'</span>);</span><br><span class="line">    response.end();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 绑定端口号，启动服务器，可以设置回调函数</span></span><br><span class="line">server.listen(port, hostname, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 如果使用如下形式，引号是斜引号不是单引号</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`服务器启动成功，可以通过 http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/ 来进行访问`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>如上代码，创建服务器，然后获取返回值“hello world”，这里绑定了端口，运行了js文件之后，在浏览器中输入“<a href="http://127.0.0.1:8888/”即可访问我们当前的服务器，此时浏览器中显示的就是返回值。" target="_blank" rel="noopener">http://127.0.0.1:8888/”即可访问我们当前的服务器，此时浏览器中显示的就是返回值。</a></p>
<p>在cmd中输入“ctrl + c”关闭服务器。</p>
<p><img src="/2019/03/02/后端基础——Nodejs/服务器路径.JPG" alt="服务器路径.JPG"></p>
<p>然后看一下我们的上图，是我们在访问服务器时候打印的log，其中默认的是“<a href="http://127.0.0.1:8888/”，我们这里只是显示“/”，还有一个显示“/favicon.ico”，这是浏览器的默认访问小图标。此外还有很多其他的html中使用的静态资源，对于每一个资源浏览器都会发起单独的请求。" target="_blank" rel="noopener">http://127.0.0.1:8888/”，我们这里只是显示“/”，还有一个显示“/favicon.ico”，这是浏览器的默认访问小图标。此外还有很多其他的html中使用的静态资源，对于每一个资源浏览器都会发起单独的请求。</a></p>
<p>当然此时我们无论访问的是“<a href="http://127.0.0.1:8888/xxx”，这里都返回的是“hello" target="_blank" rel="noopener">http://127.0.0.1:8888/xxx”，这里都返回的是“hello</a> world”，所以我们可以根据“request.url”的不同来设置不同的返回值，实际上现实中也是这样进行的。</p>
<hr>
<h2 id="Node-中的模块系统"><a href="#Node-中的模块系统" class="headerlink" title="Node 中的模块系统"></a>Node 中的模块系统</h2><p>在 Node 中，模块有三种：</p>
<ul>
<li>具名的核心模块，如fs、http</li>
<li>用户自己编写的本地文件模块(js文件)，相对路径前加‘./’，文件后缀名.js推荐不写</li>
<li>通过npm安装的第三方模块</li>
</ul>
<h3 id="文件作用域"><a href="#文件作用域" class="headerlink" title="文件作用域"></a>文件作用域</h3><p>Node 中没有全局作用域，只有模块作用域(文件作用域)，也就是说，在模块系统中，不同的js文件中的变量不能相互使用。使用 <code>exports</code> 导出之后才可使用。</p>
<h3 id="通信规则"><a href="#通信规则" class="headerlink" title="通信规则"></a>通信规则</h3><h4 id="加载-require"><a href="#加载-require" class="headerlink" title="加载 require"></a>加载 require</h4><h5 id="require-的作用"><a href="#require-的作用" class="headerlink" title="require 的作用"></a><code>require</code> 的作用</h5><ol>
<li><p>加载文件模块并执行里面的代码</p>
</li>
<li><p>拿到被加载文件模块导出的接口对象(exports出来的对象)</p>
</li>
</ol>
<h5 id="加载规则"><a href="#加载规则" class="headerlink" title="加载规则"></a>加载规则</h5><p>使用 <code>require</code> 加载 <code>js</code> 模块，优先从缓存加载，如果缓存中有，为了提高代码效率，该模块就从缓存中直接拿到模块的接口对象，不再重新加载；如果没有，则加载该模块，并放入缓存。</p>
<h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 自定义变量名称 = <span class="built_in">require</span>(<span class="string">'模块标识符'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用核心模块， require('核心模块名')</span></span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用本地 js 模块， require('路径/文件名.js'); ./ 当前目录; ../ 上一级目录;</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="built_in">require</span>(<span class="string">'./test.js'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用第三方模块，通过 npm 下载到同级目录，require('包名')，node_modules/包名/package.json文件中的 main 属性中记录了该模块的入口模块</span></span><br><span class="line"><span class="keyword">var</span> template = <span class="built_in">require</span>(<span class="string">'art-template'</span>)</span><br></pre></td></tr></table></figure>
<p>本地模块调用：在 a.js 文件中调用 b.js 。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a start'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'./b'</span>);      <span class="comment">// 同样也可以有返回对象，然后通过返回对象来调用成员方法。exports出来的对象。</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a end'</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// b.js</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'b start'</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2019/03/02/后端基础——Nodejs/模块系统.JPG" alt="模块系统.JPG"></p>
<h4 id="导出：exports"><a href="#导出：exports" class="headerlink" title="导出：exports"></a>导出：exports</h4><p>模块公开的方法。</p>
<ol>
<li><p>模块作用域，默认文件中所有的对象只在当前文件模块有效</p>
</li>
<li><p>对于希望被其他模块访问的成员，将这些公开成员都加载到<code>exports</code>接口对象中就可以</p>
</li>
</ol>
<ul>
<li><p>导出多个成员（保存在对象中）</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导出文件</span></span><br><span class="line">exports.a = <span class="number">123</span></span><br><span class="line">exports.b = <span class="string">'hello'</span></span><br><span class="line">exports.c = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ccc'</span>)</span><br><span class="line">&#125;</span><br><span class="line">exports.d = &#123;</span><br><span class="line">    foo: <span class="string">'bar'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入文件</span></span><br><span class="line"><span class="keyword">var</span> ret = <span class="built_in">require</span>(<span class="string">'./xxx.js'</span>)       <span class="comment">// ret是一个对象</span></span><br><span class="line"><span class="keyword">var</span> a = ret.a</span><br><span class="line"><span class="keyword">var</span> b = ret.b</span><br></pre></td></tr></table></figure>
</li>
<li><p>导出单个成员（返回值就是函数、字符串）</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导出文件</span></span><br><span class="line"><span class="comment">// 这种方式多导出会后者覆盖前者</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="string">'hello'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入文件</span></span><br><span class="line"><span class="keyword">var</span> ret = <span class="built_in">require</span>(<span class="string">'./xxx.js'</span>)       <span class="comment">// ret === 'hello'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出文件</span></span><br><span class="line"><span class="comment">// 导出单个成员JSON字符串，但是这个成员包涵多个数据</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    add: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x + y</span><br><span class="line">    &#125;,</span><br><span class="line">    str: <span class="string">'hello'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>exports</code> 是 <code>module.exports</code> 的引用，只要不给 <code>exports</code> 或 <code>module.exports</code> 重新赋值，就不会断开这之间的引用，所以如果给引用对象的内部添加内容，这两个是相同的。变量和数值之间的关系。</p>
<p>官网有一句话：如果你实在分不清 <code>exports</code> 和 <code>module.exports</code> ,就忘了 <code>exports</code> ，只使用 <code>module.exports</code>。</p>
<hr>
<h2 id="文本类型及中文乱码"><a href="#文本类型及中文乱码" class="headerlink" title="文本类型及中文乱码"></a>文本类型及中文乱码</h2><p>服务器默认发送的数据是 utf-8 编码的内容，但是浏览器默认使用当前系统的默认编码去解析，中文操作系统默认是 gbk。所以需要传给浏览器我们使用的编码，这样它就不会调用默认编码了。</p>
<p>在 response 中的 setHeader 方法 Content-Type 属性设置 文本类型 和 编码类型 。</p>
<p>更多 Content-Type 属性：<a href="http://tool.oschina.net/commons/" target="_blank" rel="noopener">http://tool.oschina.net/commons/</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">'127.0.0.1'</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8888</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">request, response</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> url = request.url;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'收到客户端请求！请求路径为：'</span> + url);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (url === <span class="string">'/plain'</span>) &#123;</span><br><span class="line">        <span class="comment">// 内容类型：普通文本，utf-8编码</span></span><br><span class="line">        response.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'text/plain; charset=utf-8'</span>);</span><br><span class="line">        response.end(<span class="string">'Hello World!你好世界！\n'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (url === <span class="string">'/html'</span>) &#123;</span><br><span class="line">        <span class="comment">// 内容类型：html文本，utf-8编码</span></span><br><span class="line">        response.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'text/html; charset=utf-8'</span>);</span><br><span class="line">        response.end(<span class="string">'&lt;p&gt;Hello World! &lt;a href=""&gt; 你好世界！&lt;/a&gt; &lt;/p&gt;'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(port, hostname, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Server running at http://'</span> + hostname + <span class="string">':'</span> + port + <span class="string">'/'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>其实我们访问页面时候，发送请求，返回的不是页面，而是整个页面的字符串，然后在本地进行渲染！！！例如下图就是百度页面，访问时，response回来的是整个页面的代码字符串。</p>
<p><img src="/2019/03/02/后端基础——Nodejs/response.JPG" alt="response.JPG"></p>
<hr>
<h2 id="Node-js-实现-Apache-功能"><a href="#Node-js-实现-Apache-功能" class="headerlink" title="Node.js 实现 Apache 功能"></a>Node.js 实现 Apache 功能</h2><p>在 Apache 服务器中，我们可根据路径来获取资源，Node.js 模拟这种操作也非常简单。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 端口号</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8888</span></span><br><span class="line"><span class="comment">// 主机ip</span></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">'127.0.0.1'</span></span><br><span class="line"><span class="comment">// 项目路径</span></span><br><span class="line"><span class="keyword">const</span> homeDir = <span class="string">'F:/WorkSpace/nodejs/nodejsDay02/Apache/www'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">request, response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 访问的网址路径，从'/'开始，不包括 hostname 和 port</span></span><br><span class="line">  <span class="keyword">var</span> url = request.url</span><br><span class="line">  <span class="comment">// 默认的首页文件路径</span></span><br><span class="line">  <span class="keyword">var</span> filePath = <span class="string">'/index.html'</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 非首页网址，修改路径</span></span><br><span class="line">  <span class="keyword">if</span> (url !== <span class="string">'/'</span>) &#123;</span><br><span class="line">    filePath = url</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 读取文件</span></span><br><span class="line">  fs.readFile(homeDir + filePath, (error, data) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 文件读取失败，直接返回，不再运行</span></span><br><span class="line">    <span class="keyword">if</span> (error) &#123;</span><br><span class="line">      <span class="keyword">return</span> response.end(<span class="string">'404 Not Found.'</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回文件，data是二进制</span></span><br><span class="line">    response.end(data)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 端口监听</span></span><br><span class="line">server.listen(port, hostname, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'服务器启动成功，可以通过http://'</span> + hostname + <span class="string">':'</span> + port + <span class="string">'/访问'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="art-template-模板引擎"><a href="#art-template-模板引擎" class="headerlink" title="art-template 模板引擎"></a>art-template 模板引擎</h2><p>模板引擎最早诞生于服务器领域，后来发展到了前端。</p>
<p>文档：<a href="https://aui.github.io/art-template/zh-cn/index.html" target="_blank" rel="noopener">https://aui.github.io/art-template/zh-cn/index.html</a></p>
<ol>
<li><p>安装</p>
<p> 在需要的文件中下载。在node_modules文件夹下。</p>
 <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install art-template --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>在需要使用的文档模块中加载 art-template </p>
<p> 前端：</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"node_modules/art-template/lib/template-web.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p> node 后端：</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> template = <span class="built_in">require</span>(<span class="string">'art-template'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 有以下三种方式</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 基于模板名渲染模板</span></span><br><span class="line">template(filename, data);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将模板源代码编译成函数</span></span><br><span class="line">template.compile(source, options);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将模板源代码编译成函数并立刻执行</span></span><br><span class="line">template.render(source, data, options);</span><br></pre></td></tr></table></figure>
</li>
<li><p>查文档，使用模板引擎的 API</p>
</li>
</ol>
<p>在 html 中的模板引擎：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../node_modules/art-template/lib/template-web.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/template"</span> <span class="attr">id</span>=<span class="string">"tpl"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!-- 模板引擎不关心内容，只关心 &#123;&#123;&#125;&#125; 标签 --&gt;</span></span></span><br><span class="line"><span class="undefined">        大家好，我是：&#123;&#123; name &#125;&#125;</span></span><br><span class="line"><span class="undefined">        我今年 &#123;&#123; age &#125;&#125; 岁了</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!-- 其实可以允许是 html代码字符串 --&gt;</span></span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ret = template(<span class="string">'tpl'</span>, &#123;</span></span><br><span class="line"><span class="javascript">            name: <span class="string">'Jack'</span>,</span></span><br><span class="line"><span class="undefined">            age: 18</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ret)</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在 Node 中使用模板引擎，本地打印测试，我们调用http模块就可以response回模板数据也是一样的：</p>
<p><img src="/2019/03/02/后端基础——Nodejs/模板1.JPG" alt="模板1.JPG"></p>
<hr>
<h2 id="Node-js-后端项目结构基础"><a href="#Node-js-后端项目结构基础" class="headerlink" title="Node.js 后端项目结构基础"></a>Node.js 后端项目结构基础</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">项目</span><br><span class="line">    - config                       # 项目配置目录</span><br><span class="line">        - index.js                 # 配置项目中的配置信息</span><br><span class="line">    - models                       # 数据库 model</span><br><span class="line">    - node_modules                 # node.js 的依赖目录（模板文件）</span><br><span class="line">    - plugins                      # 插件目录</span><br><span class="line">    - routes                       # 路由目录</span><br><span class="line">        - hello-world.js           # 测试接口 hello-world</span><br><span class="line">    - utils                        # 工具类相关目录</span><br><span class="line">    - public                       # 公共静态资源目录（css、img、js、lib）</span><br><span class="line">    - views                        # html 视图文件目录</span><br><span class="line">    - app.js                       # 项目入口文件</span><br><span class="line">    - package.json                 # JS 项目工程依赖库</span><br><span class="line">    - readme.md                    # 项目工程如何被使用的说明手册...</span><br></pre></td></tr></table></figure>
<p>这样之后，我们就统一处理这些静态资源，所有可访问资源都在public中，哪些资源能被用户访问，哪些资源不能被用户访问，我们都可以通过代码来实现。然后我们在代码中可以集中处理这些资源的访问，使用 indexOf() 方法查找‘/public/’开头的地址，这些是可以访问静态资源的地址请求。但是注意之前要加一个点，表示的是服务器路径，不然就是在本地查找了。</p>
<p>app.js:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8888</span></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">'127.0.0.1'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">request, response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> url = request.url</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (url === <span class="string">'/'</span>) &#123;</span><br><span class="line">    <span class="comment">// 默认访问地址，这种隐藏后缀名的方式可以学习</span></span><br><span class="line">    fs.readFile(<span class="string">'./views/index.html'</span>, (error, data) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (error) &#123;</span><br><span class="line">        <span class="keyword">return</span> response.end(<span class="string">'404 Not Found.'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      response.end(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (url.indexOf(<span class="string">'/public/'</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// 静态资源访问地址，这些地址都是以‘/public/’开头的</span></span><br><span class="line">    fs.readFile(<span class="string">'.'</span> + url, (error, data) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (error) &#123;</span><br><span class="line">        <span class="keyword">return</span> response.end(<span class="string">'404 Not Found.'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      response.end(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 其他网址都是不可访问的，我们处理成404错误，也能返回一个自定义的404页面</span></span><br><span class="line">    fs.readFile(<span class="string">'./views/404.html'</span>, (error, data) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (error) &#123;</span><br><span class="line">        <span class="keyword">return</span> response.end(<span class="string">'404 Not Found.'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      response.end(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.listen(port, hostname, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'服务器启动成功，可以通过http://'</span> + hostname + <span class="string">':'</span> + port + <span class="string">'/访问'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>注意，使用这种方式之后，我们访问css、js之类的静态资源就不能再使用相对地址表示了！！！要使用服务器url地址访问。</p>
<p>index.html：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>焦点轮播图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 所有静态资源都使用url地址访问，‘../’返回上级目录是相对地址访问 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"/public/css/css.css"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/public/js/jquery-3.3.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/public/js/app.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 图片div --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/public/img/5.jpg"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/public/img/1.jpg"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/public/img/2.jpg"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/public/img/3.jpg"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/public/img/4.jpg"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/public/img/5.jpg"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/public/img/1.jpg"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 导航div --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"pointsDiv"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"prev"</span> <span class="attr">class</span>=<span class="string">"arrow"</span> <span class="attr">src</span>=<span class="string">"/public/img/left.png"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"next"</span> <span class="attr">class</span>=<span class="string">"arrow"</span> <span class="attr">src</span>=<span class="string">"/public/img/right.png"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/2019/03/02/后端基础——Nodejs/url地址访问.JPG" alt="url地址访问.JPG"></p>
<p>然后看一下我们的浏览器编辑器，每一个静态资源都会发送一个请求，这里的请求地址就是 服务器地址 + 端口号 + 服务器url地址。</p>
<p><img src="/2019/03/02/后端基础——Nodejs/url地址.JPG" alt="url地址.JPG"></p>
<hr>
<h2 id="基本路由"><a href="#基本路由" class="headerlink" title="基本路由"></a>基本路由</h2><h3 id="路由的基本概念"><a href="#路由的基本概念" class="headerlink" title="路由的基本概念"></a>路由的基本概念</h3><p>简单的说，路由的概念就是通过 url 请求，根据 GET 或者 POST 中的数据执行不同的代码。就是一个映射关系。</p>
<h3 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h3><p>文档：<a href="http://nodejs.cn/api/url.html" target="_blank" rel="noopener">http://nodejs.cn/api/url.html</a></p>
<p>对于表单提交的路径，其中有用户动态填写的内容，所以无法判断完整的 url 地址，判断头即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>)</span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8888</span></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">'127.0.0.1'</span></span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function">(<span class="params">request, response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 解析 URL 字符串，第二参数为 true，则获得对象</span></span><br><span class="line">  <span class="keyword">var</span> urlObject = url.parse(request.url, <span class="literal">true</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(urlObject)</span><br><span class="line">&#125;).listen(port, hostname, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`服务器运行成功，通过 http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/ 进行访问`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>如下为请求 “<a href="http://localhost:8888/user?name=菜鸟联盟&amp;url=www.runoob.com”" target="_blank" rel="noopener">http://localhost:8888/user?name=菜鸟联盟&amp;url=www.runoob.com”</a> 打印出的 url 对象，我们可以通过 url 对象的属性来获取对应的值。</p>
<p><img src="/2019/03/02/后端基础——Nodejs/url对象.JPG" alt="url对象.JPG"></p>
<p>这些属性中比较重要的就是 query（我们提交的表单内容JSON字符串），pathname（表单提交的服务器路径，可以用来判断）。</p>
<h3 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h3><hr>
<h2 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h2><p>URL 重定向，也称为 URL 转发，是一种当实际资源，如单个页面、表单或者整个 Web 应用被迁移到新的 URL 下的时候，保持（原有）链接可用的技术。HTTP 协议提供了一种特殊形式的响应—— HTTP 重定向（HTTP redirects）来执行此类操作。 </p>
<p>Location</p>
<ul>
<li>Location 首部指定的是需要将页面重新定向至的地址。一般在响应码为3xx的响应中才会有意义</li>
</ul>
<h3 id="301-永久重定向（推荐）"><a href="#301-永久重定向（推荐）" class="headerlink" title="301 永久重定向（推荐）"></a>301 永久重定向（推荐）</h3><p>301代表永久性转移(Permanently Moved)，301重定向是网页更改地址后对搜索引擎友好的最好方法，只要不是暂时搬移的情况,都建议使用301来做转址。</p>
<p>浏览器会记住这个重定向，比如，a.com 重定向到 b.com，当浏览器再次访问 a.com 时，将不再向服务器发送请求 a.com 的请求，而是从缓存中获取重定向地址直接跳转到 b.com。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 重对象</span></span><br><span class="line"><span class="comment">//    1. 状态码设置为 301 永久重定向；302 临时重定向</span></span><br><span class="line">response.statusCode = <span class="number">301</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    2. 在响应头通过 Location 告诉客户端重定向地址</span></span><br><span class="line">response.setHeader(<span class="string">'Location'</span>, <span class="string">'http://www.baidu.com'</span>)</span><br><span class="line"></span><br><span class="line">response.end()</span><br></pre></td></tr></table></figure>
<h3 id="302-临时重定向"><a href="#302-临时重定向" class="headerlink" title="302 临时重定向"></a>302 临时重定向</h3><p>302代表暂时性转移(Temporarily Moved )，在前些年，不少Black Hat SEO曾广泛应用这项技术作弊，目前，各大主要搜索引擎均加强了打击力度，象Google前些年对Business.com以及近来对BMW德国网站的惩罚。即使网站客观上不是spam，也很容易被搜寻引擎容易误判为spam而遭到惩罚。</p>
<p>浏览器不会记住这个重定向，比如，a.com 重定向到 b.com，当浏览器再次访问 a.com 时，将依然向服务器发送请求 a.com 的请求，然后再跳转到 b.com。</p>
<hr>
<h2 id="Express-框架"><a href="#Express-框架" class="headerlink" title="Express 框架"></a>Express 框架</h2><p>Express 是一个简洁而灵活的 node.js Web应用框架, 提供了一系列强大特性帮助你创建各种 Web 应用，和丰富的 HTTP 工具。</p>
<p>详见博客《框架——Express》。</p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/02/后端基础——Nodejs/" data-id="cjt5i3kpx003pcoutt6cb312l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node/">Node</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/后端/">后端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-JavaScript基础-jQuery基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/16/前端-JavaScript基础-jQuery基础/" class="article-date">
  <time datetime="2019-02-16T06:21:05.000Z" itemprop="datePublished">2019-02-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/16/前端-JavaScript基础-jQuery基础/">前端-JavaScript基础-jQuery基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：</p>
<!-- TOC -->
<ul>
<li><a href="#jquery介绍">jQuery介绍</a></li>
<li><a href="#jquery的基本使用">jQuery的基本使用</a><ul>
<li><a href="#基础语法">基础语法</a></li>
<li><a href="#文档就绪事件">文档就绪事件</a></li>
<li><a href="#dom与jquery对照">DOM与jQuery对照</a></li>
<li><a href="#函数对象jquery-与-">函数/对象：jQuery 与 $</a><ul>
<li><a href="#jquery作为函数">jQuery作为函数</a></li>
<li><a href="#jquery作为对象">jQuery作为对象</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#选择器">选择器</a><ul>
<li><a href="#基本选择器">基本选择器</a><ul>
<li><a href="#元素选择器">元素选择器</a></li>
<li><a href="#id-选择器">#id 选择器</a></li>
<li><a href="#class-类选择器">.class 类选择器</a></li>
<li><a href="#seletor1-seletor2-并集">seletor1, seletor2 并集</a></li>
<li><a href="#交集">交集</a></li>
</ul>
</li>
<li><a href="#层次选择器">层次选择器</a><ul>
<li><a href="#ancestor-descendant-后代选择器">ancestor descendant 后代选择器</a></li>
<li><a href="#parentchild-子元素选择器">parent&gt;child 子元素选择器</a></li>
<li><a href="#prevnext-下一个兄弟元素选择器">prev+next 下一个兄弟元素选择器</a></li>
<li><a href="#prevsiblings-之后所有的兄弟元素选择器">prev~siblings 之后所有的兄弟元素选择器</a></li>
</ul>
</li>
<li><a href="#过滤选择器">过滤选择器</a></li>
<li><a href="#表单选择器">表单选择器</a></li>
</ul>
</li>
<li><a href="#css">CSS</a></li>
<li><a href="#文档处理">文档处理</a><ul>
<li><a href="#综合练习">综合练习</a></li>
</ul>
</li>
<li><a href="#事件处理">事件处理</a><ul>
<li><a href="#readyfn">ready(fn)</a></li>
<li><a href="#oneventsselectordatafn-绑定事件">on(events,[selector],[data],fn) 绑定事件</a></li>
<li><a href="#offeventsselectorfn-解除事件">off(events,[selector],[fn]) 解除事件</a></li>
<li><a href="#坐标">坐标</a></li>
<li>[mouseover([[data],fn]) / mouseenter([[data],fn]) / hover(<a href="#mouseoverdatafn--mouseenterdatafn--hoveroverout">over,]out)</a></li>
<li><a href="#事件冒泡">事件冒泡</a></li>
<li><a href="#事件委派">事件委派</a></li>
</ul>
</li>
<li><a href="#内置动画">内置动画</a></li>
<li><a href="#多库共存">多库共存</a></li>
<li><a href="#综合练习平滑翻页">综合练习——平滑翻页</a></li>
<li><a href="#jquery-插件之-jqueryui">jQuery 插件之 jQueryUI</a></li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="jQuery介绍"><a href="#jQuery介绍" class="headerlink" title="jQuery介绍"></a>jQuery介绍</h3><p>官网：<a href="http://jquery.com/" target="_blank" rel="noopener">http://jquery.com/</a></p>
<p>jQuery 3.3.1 API中文文档：jquery.cuishifeng.cn</p>
<p>jquery是一个快速、小且功能丰富的JavaScript库。它使HTML文档的遍历和操作、事件处理、动画和Ajax等操作变得更加简单，它使用了一个易于使用的API，可以跨多种浏览器工作。结合了多功能性和可扩展性，jquery改变了数百万人编写JavaScript的方式。 </p>
<p>jQuery全称 JavaScript Query，是一个轻量级的”写的少，做的多”的JavaScript库，主要封装了DOM。</p>
<p>JavaScript中查询标签可以通过DOM/BOM，但是实际上那种方法是比较麻烦比较low的，所以有了jQuery，专门用来做复杂的网页标签查询交互的，其最核心的功能就是查询。</p>
<p>jQuery库包含以下功能：</p>
<ul>
<li>HTML 元素查询（核心）</li>
<li>HTML 元素操作</li>
<li>CSS 操作</li>
<li>HTML 事件函数</li>
<li>JavaScript 特效和动画</li>
<li>HTML DOM 遍历和修改</li>
<li>AJAX</li>
<li>Utilities</li>
<li>链式调用</li>
<li>读写合一</li>
<li>浏览器兼容</li>
<li>易拓展插件</li>
</ul>
<hr>
<h3 id="jQuery的基本使用"><a href="#jQuery的基本使用" class="headerlink" title="jQuery的基本使用"></a>jQuery的基本使用</h3><p>要使用jQuery，需要先在官网下载jQuery的js文件本地引入或者 使用cdn上的远程引入。</p>
<p>正式开发时候，常用cdn上的远程引入。如Bootcdn官网：<a href="https://www.bootcdn.cn/" target="_blank" rel="noopener">https://www.bootcdn.cn/</a></p>
<p>更多cdn见菜鸟教程：<a href="http://www.runoob.com/jquery/jquery-install.html" target="_blank" rel="noopener">http://www.runoob.com/jquery/jquery-install.html</a></p>
<p>jQuery版本区别：</p>
<ul>
<li>1.x: 兼容老版本IE，文件较大</li>
<li>2.x: 部分IE8及以下不支持，文件小，执行效率高</li>
<li><p>3.x: 完全不支持IE8及以下版本，提供了一些新的API，提供不包含ajax/动画API的版本</p>
</li>
<li><p>.js: 未压缩，开发版，适合开发使用，变量明确，容易调试。</p>
</li>
<li>.min.js: 压缩，生产版，使用abc等简单变量，文件小，提升加载速度。效果与开发版完全相同。</li>
</ul>
<hr>
<h4 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h4><p>$(selector).action()</p>
<ul>
<li>美元符号定义 $/jQuery</li>
<li>选择符（selector）”查询”和”查找” HTML 元素</li>
<li>jQuery 的 action() 执行对元素的操作</li>
</ul>
<hr>
<h4 id="文档就绪事件"><a href="#文档就绪事件" class="headerlink" title="文档就绪事件"></a>文档就绪事件</h4><p>这是为了防止文档在完全加载（就绪）之前运行 jQuery 代码，即在 DOM 加载完成后才可以对 DOM 进行操作。</p>
<p>就相当于DOM中的“window.onload = function(){}”。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function()&#123;</span><br><span class="line"> </span><br><span class="line">   // 开始写 jQuery 代码...</span><br><span class="line"> </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">$(function()&#123;</span><br><span class="line"> </span><br><span class="line">   // 开始写 jQuery 代码...</span><br><span class="line"> </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="DOM与jQuery对照"><a href="#DOM与jQuery对照" class="headerlink" title="DOM与jQuery对照"></a>DOM与jQuery对照</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 原生DOM</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">"btn01"</span>);</span></span><br><span class="line"><span class="javascript">                btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> username = <span class="built_in">document</span>.getElementById(<span class="string">"username"</span>).value;</span></span><br><span class="line"><span class="undefined">                    alert(username);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 远程引入 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"&gt;&lt;/script&gt;        --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  引入开发版jquery库 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.3.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="comment">// 绑定文档加载完成的监听</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 使用jQuery核心函数($/jQuery效果相同，但是$方便)</span></span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 给btn02绑定点击监听</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// $btn02是jQuery对象,$('#btn02')是jQuery函数,执行jQuery对象得到的是jQuery对象</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用jQuery核心对象,常用$开头</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $btn02 = $(<span class="string">'#btn02'</span>);</span></span><br><span class="line"><span class="javascript">                $btn02.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 是一个获取到的数值,不是jQuery对象</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> username = $(<span class="string">'#username'</span>).val();</span></span><br><span class="line"><span class="undefined">                    alert(username);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn01"</span>&gt;</span>确定(原生版)<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn02"</span>&gt;</span>确定(jQuery版)<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="函数-对象：jQuery-与"><a href="#函数-对象：jQuery-与" class="headerlink" title="函数/对象：jQuery 与 $"></a>函数/对象：jQuery 与 $</h4><p>更多见 API 文档中“核心”部分</p>
<p>之前说可以使用 jQuery 来代替 $，代替之后：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jQuery(function()&#123;</span><br><span class="line"> </span><br><span class="line">   // 开始写 jQuery 代码...</span><br><span class="line"> </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>这样看，jQuery是一个函数！！！</p>
<h5 id="jQuery作为函数"><a href="#jQuery作为函数" class="headerlink" title="jQuery作为函数"></a>jQuery作为函数</h5><p>函数根据参数的不同有不同的功能。</p>
<ul>
<li><p>参数为函数时：当DOM加载完成后，执行此回调函数。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 文档加载完成时执行function函数</span></span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开始写 jQuery 代码...</span></span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数为选择器字符串时：查找所有匹配的标签，并将它们封装成jQuery对象。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// $btn02就是jQuery对象</span></span><br><span class="line"><span class="keyword">var</span> $btn02 = $(<span class="string">'#btn02'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数为DOM对象时：将DOM对象封装成jQuery对象。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 此时的this就是id为btn的按钮，封装成jQuery对象之后，就能使用jQuery方法，获取按钮文本了</span></span><br><span class="line">        alert($(<span class="keyword">this</span>).html());</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数为html标签字符串：创建标间对象并封装成jQuery兑现。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点击按钮，将input字符串封装成jQuery对象，并调用jQuery方法将input添加到body最后面</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">'&lt;input type="text" name="msg"/&gt;&lt;br&gt;'</span>).appendTo(<span class="string">"body"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="jQuery作为对象"><a href="#jQuery作为对象" class="headerlink" title="jQuery作为对象"></a>jQuery作为对象</h5><p>但是在我们JavaScript中，函数也是一个对象……也就是说 jQuery 与 $ 也可以当成对象来使用。</p>
<p>jQuery对象是一个包含所有匹配的任意多个DOM元素的伪数组对象。</p>
<ul>
<li><p>each(callback) 遍历</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 遍历数组</span></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">7</span>];</span><br><span class="line">    $.each(arr, <span class="function"><span class="keyword">function</span>(<span class="params">index, item</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(index, item);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>length 获取jQuery对象这个伪数组的长度</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 先调用jQuery函数传入标签选择器，得到jQuery对象，就是所有img的数组，然后通过length获取数组的长度。</span></span><br><span class="line">    $(<span class="string">"button"</span>).length;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>get([index]) 获取第index位置上的元素，返回的是DOM对象</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $buttons = $(<span class="string">'button'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> $buttons.get(<span class="number">1</span>), $buttons.get(<span class="number">1</span>).innerHTML);    <span class="comment">// object 按钮02</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>index[] 搜索匹配的元素，并返回相应元素的索引值，从0开始计数。</p>
</li>
</ul>
<hr>
<h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><p>详细： <a href="http://www.runoob.com/jquery/jquery-ref-selectors.html" target="_blank" rel="noopener">http://www.runoob.com/jquery/jquery-ref-selectors.html</a></p>
<p>或者 API 文档“选择器”。</p>
<hr>
<h4 id="基本选择器"><a href="#基本选择器" class="headerlink" title="基本选择器"></a>基本选择器</h4><p>选择器规则同css。</p>
<h5 id="元素选择器"><a href="#元素选择器" class="headerlink" title="元素选择器"></a>元素选择器</h5><p>jQuery 元素选择器基于元素名选取元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用户点击按钮后，所有 p 元素都隐藏</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">"p"</span>).hide();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="id-选择器"><a href="#id-选择器" class="headerlink" title="#id 选择器"></a>#id 选择器</h5><p>jQuery #id 选择器通过 HTML 元素的 id 属性选取指定的元素。</p>
<p>页面中元素的 id 应该是唯一的，所以您要在页面中选取唯一的元素需要通过 #id 选择器。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当用户点击按钮后，有 id="test" 属性的元素将被隐藏</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">"#test"</span>).hide();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="class-类选择器"><a href="#class-类选择器" class="headerlink" title=".class 类选择器"></a>.class 类选择器</h5><p>jQuery 类选择器可以通过指定的 class 查找元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用户点击按钮后所有带有 class="test" 属性的元素都隐藏：</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">".test"</span>).hide();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="seletor1-seletor2-并集"><a href="#seletor1-seletor2-并集" class="headerlink" title="seletor1, seletor2 并集"></a>seletor1, seletor2 并集</h5><p>同时选择多个元素时，在不同元素之间使用使用逗号隔开。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将所有button和div都隐藏。</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button, div"</span>).hide();;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="交集"><a href="#交集" class="headerlink" title="交集"></a>交集</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 选中类为btn01的button，注意这里点号前后不能有空格</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"button.btn01"</span>).hide();;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="层次选择器"><a href="#层次选择器" class="headerlink" title="层次选择器"></a>层次选择器</h4><h5 id="ancestor-descendant-后代选择器"><a href="#ancestor-descendant-后代选择器" class="headerlink" title="ancestor descendant 后代选择器"></a>ancestor descendant 后代选择器</h5><p>在给定的祖先元素 ancestor 下匹配所有的后代元素 descendant 。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配 form (祖先元素)下的所有 input (后代元素)</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"form input"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="parent-gt-child-子元素选择器"><a href="#parent-gt-child-子元素选择器" class="headerlink" title="parent&gt;child 子元素选择器"></a>parent&gt;child 子元素选择器</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配 form (父元素)下的所有 input (子元素)</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"form&gt;input"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>其他不常用。</p>
<h5 id="prev-next-下一个兄弟元素选择器"><a href="#prev-next-下一个兄弟元素选择器" class="headerlink" title="prev+next 下一个兄弟元素选择器"></a>prev+next 下一个兄弟元素选择器</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配跟在 p 后面的第一个 span 元素</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"p+span"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h5 id="prev-siblings-之后所有的兄弟元素选择器"><a href="#prev-siblings-之后所有的兄弟元素选择器" class="headerlink" title="prev~siblings 之后所有的兄弟元素选择器"></a>prev~siblings 之后所有的兄弟元素选择器</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匹配所有跟在 p 后面的 span 元素</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"p~span"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="过滤选择器"><a href="#过滤选择器" class="headerlink" title="过滤选择器"></a>过滤选择器</h4><p>在原有选择器匹配的元素中进一步进行过滤的选择器。这些选择器都是冒号开头的，冒号之前是前面的一般选择器。</p>
<p>见 API 文档的基本筛选器、内容、可见性、属性：<a href="http://jquery.cuishifeng.cn/" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/</a></p>
<hr>
<h4 id="表单选择器"><a href="#表单选择器" class="headerlink" title="表单选择器"></a>表单选择器</h4><p>表单选择器是根据表单中指定的input标签中type类型或者指定的标签进行选择的，这些选择器都是冒号开头的，但是冒号之前是前面的不需要其他选择器。</p>
<p>见 API 文档的表单、表单对象属性：<a href="http://jquery.cuishifeng.cn/" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/</a></p>
<hr>
<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><p>查看文档，其实jQuery有读写合一的特点，所以读取和设置CSS都是同一个方法，关键在于参数，非常简单。</p>
<p>略……</p>
<hr>
<h3 id="文档处理"><a href="#文档处理" class="headerlink" title="文档处理"></a>文档处理</h3><p>终极目标！！！查看文档即可，简单的，只要注意参数就可以……</p>
<h4 id="综合练习"><a href="#综合练习" class="headerlink" title="综合练习"></a>综合练习</h4><p>此处结合DOM原生的文档处理，会发现，jQuery真的很简单。但是仍然可以用事件委托来实现部分操作。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>添加删除记录练习<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.3.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">Del</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                $tr = $(<span class="keyword">this</span>).parent().parent();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = $tr.children(<span class="string">':first'</span>).html();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(confirm(<span class="string">'确认删除'</span> + name + <span class="string">'?'</span>))&#123;</span></span><br><span class="line"><span class="undefined">                    $tr.remove();</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 增</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#addEmpButton'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 获取name/salary/email信息</span></span><br><span class="line"><span class="undefined">                     */ </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取jQuery对象</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> $name = $(<span class="string">'#empName'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> $email = $(<span class="string">'#email'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> $salary = $(<span class="string">'#salary'</span>);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取文本信息</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> name = $name.val();</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> email = $email.val();</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> salary = $salary.val();</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// alert(name, email, salary);</span></span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取table信息</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> $table = $(<span class="string">'#employeeTable'</span>);</span></span><br><span class="line"><span class="undefined">                    /*</span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Tom<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>tom@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>5000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="javascript">                        &lt;td&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="undefined">                    */</span></span><br><span class="line"><span class="javascript">                   <span class="comment">// 拼tr字符串，插入，绑定点击事件</span></span></span><br><span class="line"><span class="javascript">                   $(<span class="string">'&lt;tr&gt;&lt;/tr&gt;'</span>)</span></span><br><span class="line"><span class="javascript">                    .append(<span class="string">'&lt;td&gt;'</span>+name+<span class="string">'&lt;/td&gt;'</span>)</span></span><br><span class="line"><span class="javascript">                    .append(<span class="string">'&lt;td&gt;'</span>+email+<span class="string">'&lt;/td&gt;'</span>)</span></span><br><span class="line"><span class="javascript">                    .append(<span class="string">'&lt;td&gt;'</span>+salary+<span class="string">'&lt;/td&gt;'</span>)</span></span><br><span class="line"><span class="xml">                    .append('<span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>')</span></span><br><span class="line"><span class="undefined">                    .appendTo($table)</span></span><br><span class="line"><span class="javascript">                    .find(<span class="string">'a'</span>)</span></span><br><span class="line"><span class="undefined">                    .click(Del);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 清除输入</span></span></span><br><span class="line"><span class="javascript">                    $name.val(<span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">                    $email.val(<span class="string">''</span>);</span></span><br><span class="line"><span class="javascript">                    $salary.val(<span class="string">''</span>);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 删</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#employeeTable a'</span>).click(Del);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">"employeeTable"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Salary<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Tom<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>tom@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>5000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Jerry<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>jerry@sohu.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>8000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Bob<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>bob@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>10000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"formDiv"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h4</span>&gt;</span>添加新员工<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>name: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"empName"</span> <span class="attr">id</span>=<span class="string">"empName"</span> ；/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>email: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>salary: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"salary"</span> <span class="attr">id</span>=<span class="string">"salary"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"addEmpButton"</span>&gt;</span></span><br><span class="line">                            Submit</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h3><h4 id="ready-fn"><a href="#ready-fn" class="headerlink" title="ready(fn)"></a>ready(fn)</h4><p>当DOM载入就绪可以查询及操纵时绑定一个要执行的函数。相当于原生JS中的window.onload。</p>
<p><a href="http://jquery.cuishifeng.cn/ready.html" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/ready.html</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写：</span></span><br><span class="line"></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>但是不等同与原生js中的window.onload。</p>
<p>window.onload:</p>
<pre><code>- 包括页面的图片加载完成后才被回调

- 只能有一个监听回调
</code></pre><p>ready:</p>
<pre><code>- 页面加载完就回调，图片可以没加载完

- 可以有多个监听回调
</code></pre><h4 id="on-events-selector-data-fn-绑定事件"><a href="#on-events-selector-data-fn-绑定事件" class="headerlink" title="on(events,[selector],[data],fn) 绑定事件"></a>on(events,[selector],[data],fn) 绑定事件</h4><p>在选择元素上绑定一个或多个事件的事件处理函数。相当于原生JS中的addEventListener()绑定多个事件处理函数。</p>
<p><a href="http://jquery.cuishifeng.cn/on.html" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/on.html</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * events:一个或多个用空格分隔的事件类型和可选的命名空间，如"click"。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$(<span class="string">"p"</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert( $(<span class="keyword">this</span>).text() );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="off-events-selector-fn-解除事件"><a href="#off-events-selector-fn-解除事件" class="headerlink" title="off(events,[selector],[fn]) 解除事件"></a>off(events,[selector],[fn]) 解除事件</h4><p>在选择元素上移除一个或多个事件的事件处理函数。</p>
<p><a href="http://jquery.cuishifeng.cn/off.html" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/off.html</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解除 p 元素的所有事件</span></span><br><span class="line">$(<span class="string">"p"</span>).off();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解除 p 元素的指定 xxx 事件</span></span><br><span class="line">$(<span class="string">"p"</span>).off(<span class="string">'xxx'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="坐标"><a href="#坐标" class="headerlink" title="坐标"></a>坐标</h4><p>在原生JS中，要获取鼠标之类的坐标，需要event对象。同样，在jQuery中的function中也可以传入event对象。</p>
<p>事件的坐标有3种：</p>
<ul>
<li>event.clientX / event.clientY : 相对于窗口的左上角。</li>
<li>event.pageX / event.pageY : 相对于页面的左上角。</li>
<li>event.offsetX / event.offsetY : 相对于事件元素的左上角。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#box'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = event.clientX;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line">$(<span class="string">'#box'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="mouseover-data-fn-mouseenter-data-fn-hover-over-out"><a href="#mouseover-data-fn-mouseenter-data-fn-hover-over-out" class="headerlink" title="mouseover([[data],fn]) / mouseenter([[data],fn]) / hover([over,]out)"></a>mouseover([[data],fn]) / mouseenter([[data],fn]) / hover([over,]out)</h4><p>mouseover：只有在鼠标指针穿过被选元素时，才会触发 mouseover 事件。当鼠标进入子元素时，认为是移出了该元素，会触发 mouseout 。</p>
<p>mouseenter：如果鼠标指针穿过任何子元素，同样会触发 mouseover 事件。移出元素时触发 mouseleave 事件。</p>
<p>hover：一个模仿悬停事件（鼠标移动到一个对象上面及移出这个对象）的方法。当鼠标移动到一个匹配的元素上面时，会触发指定的第一个函数。当鼠标移出这个元素时，会触发指定的第二个函数。而且，会伴随着对鼠标是否仍然处在特定元素中的检测（例如，处在div中的图像），如果是，则会继续保持“悬停”状态，而不触发移出事件（修正了使用mouseout事件的一个常见错误）。其源码是使用了 mouseover 和 mouseout 。</p>
<h4 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'#box1'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'111'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">'#box2'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">'222'</span>);</span><br><span class="line">        <span class="comment">// 停止事件冒泡</span></span><br><span class="line">        event.stopPropagation();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="事件委派"><a href="#事件委派" class="headerlink" title="事件委派"></a>事件委派</h4><p>事件委派动态解决子元素的事件绑定，尤其是新增的子元素。在不同版本的jQuery库中用法不同，详细见文档。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.3.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 事件委派</span></span></span><br><span class="line"><span class="javascript">                $(<span class="string">'ul'</span>).on(<span class="string">'click'</span>, <span class="string">'li'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">this</span>.style.backgroundColor = <span class="string">'red'</span>;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                $(<span class="string">'#btn01'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'ul'</span>).append(<span class="string">'&lt;li&gt;新增的li&lt;/li&gt;'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">li</span>&gt;</span>1111111111111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>1111111111111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>1111111111111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn01"</span>&gt;</span>增加一个li<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="内置动画"><a href="#内置动画" class="headerlink" title="内置动画"></a>内置动画</h3><p>淡入淡出，滑入滑出，可以选择有动画效果或者没动画效果。</p>
<p>也有内置方法可以实现自定义动画。</p>
<hr>
<h3 id="多库共存"><a href="#多库共存" class="headerlink" title="多库共存"></a>多库共存</h3><p>如果存在多个库都有美元符,就会存在冲突。</p>
<p>此时就要jQuery库释放美元符的使用权，让另一个库可以正常使用，测试jQuery库就只能使用jQuery符号了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 释放jQuery的使用权</span></span><br><span class="line">jQuery.noConflict();</span><br><span class="line"><span class="comment">// 然后使用jQuery库</span></span><br><span class="line">jQuery(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="综合练习——平滑翻页"><a href="#综合练习——平滑翻页" class="headerlink" title="综合练习——平滑翻页"></a>综合练习——平滑翻页</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>焦点轮播图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*去除内边距,没有链接下划线*/</span></span></span><br><span class="line"><span class="undefined">            * &#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*最外围的div*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#container</span> &#123;</span></span><br><span class="line"><span class="undefined">                width: 520px;</span></span><br><span class="line"><span class="undefined">                height: 333px;</span></span><br><span class="line"><span class="undefined">                background-color: greenyellow;</span></span><br><span class="line"><span class="undefined">                overflow: hidden;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">position</span>: <span class="selector-tag">relative</span>; <span class="comment">/*相对定位*/</span></span></span><br><span class="line"><span class="undefined">                margin: 50px auto;</span></span><br><span class="line"><span class="undefined">                padding: 10px 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*包含所有图片的&lt;div&gt;*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#list</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>; <span class="comment">/*绝对定位*/</span></span></span><br><span class="line"><span class="undefined">                left: -520px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*所有的图片&lt;img&gt;*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#list</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/*浮在左侧*/</span></span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">                margin: 0 10px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*包含所有圆点按钮的&lt;div&gt;*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#pointsDiv</span> &#123;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">                bottom: 20px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*所有的圆点&lt;span&gt;*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#pointsDiv</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="undefined">              cursor: pointer;</span></span><br><span class="line"><span class="undefined">              float: left;</span></span><br><span class="line"><span class="css">              <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">              width: 10px;</span></span><br><span class="line"><span class="undefined">              height: 10px;</span></span><br><span class="line"><span class="undefined">              border-radius: 50%;</span></span><br><span class="line"><span class="css">              <span class="selector-tag">background</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line"><span class="undefined">              margin: 0 5px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#pointsDiv</span> <span class="selector-class">.on</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: red;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="comment">/*切换图标按钮*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-class">.arrow</span> &#123;</span></span><br><span class="line"><span class="undefined">                top: 166px;</span></span><br><span class="line"><span class="undefined">                display: none;</span></span><br><span class="line"><span class="undefined">                width: 40px;</span></span><br><span class="line"><span class="undefined">                height: 40px;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置透明 */</span></span></span><br><span class="line"><span class="css">                <span class="selector-tag">opacity</span>: 0<span class="selector-class">.5</span>;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 兼容IE透明 */</span></span></span><br><span class="line"><span class="undefined">                filter: alpha(opacity = 50);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*鼠标移到切换图标上时*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-class">.arrow</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置透明 */</span></span></span><br><span class="line"><span class="undefined">                opacity: 1;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 兼容IE透明 */</span></span></span><br><span class="line"><span class="undefined">                filter: alpha(opacity = 100);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*鼠标移到整个div区域时*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#container</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.arrow</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">display</span>: <span class="selector-tag">block</span>; <span class="comment">/*显示*/</span></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*上一个切换图标的左外边距*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#prev</span> &#123;</span></span><br><span class="line"><span class="undefined">                left: 20px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="comment">/*下一个切换图标的右外边距*/</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#next</span> &#123;</span></span><br><span class="line"><span class="undefined">                right: 20px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-3.3.1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $container = $(<span class="string">'#container'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $pointsDiv = $(<span class="string">'#pointsDiv'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $list = $(<span class="string">'#list'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $prev = $(<span class="string">'#prev'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $next = $(<span class="string">'#next'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $points;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> PAGE_WIDTH = <span class="number">520</span>;   <span class="comment">// 页宽</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> TIME = <span class="number">400</span>;     <span class="comment">// 翻页的持续时间</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> ITEM_TIME = <span class="number">20</span>;     <span class="comment">// 单元移动间隔时间</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> index = <span class="number">0</span>;      <span class="comment">// 当前页面</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> imgNumber = $list.children(<span class="string">'img'</span>).length - <span class="number">2</span>;   <span class="comment">// 获取有效图片数量</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> moving = <span class="literal">false</span>;     <span class="comment">// 是否正在翻页标识</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置图片div长度</span></span></span><br><span class="line"><span class="javascript">                $list.css(<span class="string">'width'</span>, PAGE_WIDTH * (imgNumber + <span class="number">2</span>));</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 动态设置导航按钮的数量</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;imgNumber; i++)&#123;</span></span><br><span class="line"><span class="xml">                    $pointsDiv.append('<span class="tag">&lt;<span class="name">span</span> <span class="attr">index</span>=<span class="string">"' + i + '"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>');</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                $points = $(<span class="string">'#pointsDiv&gt;span'</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置默认导航按钮的颜色</span></span></span><br><span class="line"><span class="javascript">                $points.eq(index).addClass(<span class="string">'on'</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 事件委托动态绑定绑定点击事件</span></span></span><br><span class="line"><span class="javascript">                $pointsDiv.on(<span class="string">'click'</span>, <span class="string">'span'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 新原点下标</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> targetIndex = $(<span class="keyword">this</span>).index();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(targetIndex != index)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 翻页</span></span></span><br><span class="line"><span class="undefined">                        nextPage(targetIndex);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;)</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置按钮div位置</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> left = ($(<span class="string">'#container'</span>).innerWidth() - $(<span class="string">'#pointsDiv'</span>).outerWidth())/<span class="number">2</span>;</span></span><br><span class="line"><span class="javascript">                $pointsDiv.css(<span class="string">'left'</span>, left);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 上一张图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                $prev.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    nextPage(<span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">                &#125;).on(<span class="string">'mousedown'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 取消图片默认拖拽行为</span></span></span><br><span class="line"><span class="undefined">                    event.preventDefault();</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 下一张图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                $next.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    nextPage(<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">                &#125;).on(<span class="string">'mousedown'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 取消图片默认拖拽行为</span></span></span><br><span class="line"><span class="undefined">                    event.preventDefault();</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 平滑翻页</span></span><br><span class="line"><span class="undefined">                 * next：</span></span><br><span class="line"><span class="undefined">                 *  boolean：</span></span><br><span class="line"><span class="javascript">                 *      <span class="literal">true</span>：下一页</span></span><br><span class="line"><span class="javascript">                 *      <span class="literal">false</span>：上一页</span></span><br><span class="line"><span class="undefined">                 *  int：跳转指定页面</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">nextPage</span>(<span class="params">next</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 如果正在翻页,直接结束</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(moving)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 标识正在翻页</span></span></span><br><span class="line"><span class="javascript">                    moving = <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 更新原点</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 总偏移量</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> offset;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 更新偏移量和新下标</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(<span class="keyword">typeof</span> next === <span class="string">'boolean'</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(next)&#123;</span></span><br><span class="line"><span class="undefined">                            offset = -PAGE_WIDTH</span></span><br><span class="line"><span class="javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                            offset = PAGE_WIDTH;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                        offset = (index - next) * PAGE_WIDTH;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(index, next, offset);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 更新原点</span></span></span><br><span class="line"><span class="undefined">                    updatePoints(next);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 图片偏移</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 单元移动的偏移量</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> itemOffset = offset / (TIME / ITEM_TIME);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 当前偏移量</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> currentLeft = $list.position().left;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 目标偏移量</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> targetLeft = currentLeft + offset;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    clearInterval(timer);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 计算出最新的</span></span></span><br><span class="line"><span class="undefined">                        currentLeft += itemOffset;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(currentLeft === targetLeft)&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 标识翻页停止</span></span></span><br><span class="line"><span class="javascript">                            moving = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 清除定时器</span></span></span><br><span class="line"><span class="undefined">                            clearInterval(timer); </span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 循环跳转,预防出现小数</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">if</span>(currentLeft &gt;= <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="undefined">                                currentLeft = -imgNumber * PAGE_WIDTH;</span></span><br><span class="line"><span class="javascript">                            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(currentLeft &lt;= -(imgNumber + <span class="number">1</span>) * PAGE_WIDTH)&#123;</span></span><br><span class="line"><span class="undefined">                                currentLeft = -PAGE_WIDTH;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                        $list.css(<span class="string">'left'</span>, currentLeft);</span></span><br><span class="line"><span class="undefined">                    &#125;,ITEM_TIME);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 每隔一定时间跳转到下一页</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> autoTimer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    nextPage(<span class="literal">true</span>);</span></span><br><span class="line"><span class="undefined">                &#125;, 2000);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 当鼠标移入图片区域，停止自动切换，当鼠标离开时继续切换</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                $container.hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    clearInterval(autoTimer);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    autoTimer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        nextPage(<span class="literal">true</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;, 2000);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 更新原点</span></span><br><span class="line"><span class="undefined">                 * next: boolean、int</span></span><br><span class="line"><span class="javascript">                 * 设置有没有<span class="class"><span class="keyword">class</span> <span class="title">on</span></span></span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">updatePoints</span>(<span class="params">next</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 计算出目标原点的下标</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> targetIndex = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(<span class="keyword">typeof</span> next === <span class="string">'boolean'</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(next)&#123;</span></span><br><span class="line"><span class="undefined">                            targetIndex = index + 1;</span></span><br><span class="line"><span class="javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                            targetIndex = index - 1;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                        targetIndex = next;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 最值筛选</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(targetIndex === imgNumber)&#123;</span></span><br><span class="line"><span class="undefined">                        targetIndex = 0;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(targetIndex === <span class="number">-1</span>)&#123;</span></span><br><span class="line"><span class="undefined">                        targetIndex = imgNumber - 1;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 给旧原点移除class</span></span></span><br><span class="line"><span class="javascript">                    $points.eq(index).removeClass(<span class="string">'on'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 给新原点添加class</span></span></span><br><span class="line"><span class="javascript">                    $points.eq(targetIndex).addClass(<span class="string">'on'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 更新原点</span></span></span><br><span class="line"><span class="undefined">                    index = targetIndex;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(index, targetIndex);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 图片div --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/5.jpg"</span> <span class="attr">alt</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> <span class="attr">alt</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/2.jpg"</span> <span class="attr">alt</span>=<span class="string">"2"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/3.jpg"</span> <span class="attr">alt</span>=<span class="string">"3"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/4.jpg"</span> <span class="attr">alt</span>=<span class="string">"4"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/5.jpg"</span> <span class="attr">alt</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> <span class="attr">alt</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 导航div --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"pointsDiv"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"prev"</span> <span class="attr">class</span>=<span class="string">"arrow"</span> <span class="attr">src</span>=<span class="string">"img/left.png"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"next"</span> <span class="attr">class</span>=<span class="string">"arrow"</span> <span class="attr">src</span>=<span class="string">"img/right.png"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/16/前端-JavaScript基础-jQuery基础/轮播图效果.gif" alt="轮播图效果.gif"></p>
<p><img src="/2019/02/16/前端-JavaScript基础-jQuery基础/轮播图.gif" alt="轮播图.gif"></p>
<hr>
<h3 id="jQuery-插件之-jQueryUI"><a href="#jQuery-插件之-jQueryUI" class="headerlink" title="jQuery 插件之 jQueryUI"></a>jQuery 插件之 jQueryUI</h3><p>jQueryUI 是 jQuery 的页面插件，可以在官网下载了案例包，然后在通过解析……来找自己需要的部分。</p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/16/前端-JavaScript基础-jQuery基础/" data-id="cjt5i3kpv003mcoutjo86imvk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-ECharts" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/13/前端-ECharts/" class="article-date">
  <time datetime="2019-02-13T06:30:15.000Z" itemprop="datePublished">2019-02-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/13/前端-ECharts/">前端-ECharts</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录</p>
<!-- TOC -->
<ul>
<li><a href="#echarts简介">ECharts简介</a></li>
<li><a href="#五分钟上手echarts">五分钟上手ECharts</a><ul>
<li><a href="#引入-echarts">引入 ECharts</a></li>
<li><a href="#绘制一个简单的图表">绘制一个简单的图表</a></li>
</ul>
</li>
<li><a href="#option配置项介绍">option配置项介绍</a><ul>
<li><a href="#title-标题组件">title 标题组件</a></li>
<li><a href="#toolbox-工具栏组件">toolbox 工具栏组件</a></li>
<li><a href="#tooltip-提示框组件">tooltip 提示框组件</a></li>
<li><a href="#seriesi-系列列表">series[i] 系列列表</a></li>
<li><a href="#legend-图例组件">legend 图例组件</a></li>
</ul>
</li>
<li><a href="#饼图">饼图</a></li>
<li><a href="#仪表图">仪表图</a></li>
<li><a href="#散点图">散点图</a></li>
<li><a href="#雷达图">雷达图</a></li>
<li><a href="#多坐标系配合">多坐标系配合</a></li>
<li><a href="#数据区域缩放组件-datazoom">数据区域缩放组件 dataZoom</a></li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="ECharts简介"><a href="#ECharts简介" class="headerlink" title="ECharts简介"></a>ECharts简介</h3><p>ECharts，一个使用 JavaScript 实现的开源可视化库，可以流畅的运行在 PC 和移动设备上，兼容当前绝大部分浏览器（IE8/9/10/11，Chrome，Firefox，Safari等），底层依赖轻量级的矢量图形库 ZRender，提供直观，交互丰富，可高度个性化定制的数据可视化图表。</p>
<p>更多：<a href="https://www.echartsjs.com/feature.html" target="_blank" rel="noopener">https://www.echartsjs.com/feature.html</a></p>
<hr>
<h3 id="五分钟上手ECharts"><a href="#五分钟上手ECharts" class="headerlink" title="五分钟上手ECharts"></a>五分钟上手ECharts</h3><p><a href="https://www.echartsjs.com/tutorial.html#5%20%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%20ECharts" target="_blank" rel="noopener">https://www.echartsjs.com/tutorial.html#5%20%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%20ECharts</a></p>
<p>首先在官网下载完整版js代码。</p>
<h4 id="引入-ECharts"><a href="#引入-ECharts" class="headerlink" title="引入 ECharts"></a>引入 ECharts</h4><p>只需要像普通的 JavaScript 库一样用 script 标签引入我们下载好的完整版js代码。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 引入 ECharts 文件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="绘制一个简单的图表"><a href="#绘制一个简单的图表" class="headerlink" title="绘制一个简单的图表"></a>绘制一个简单的图表</h4><p>步奏：</p>
<ul>
<li>准备显示容器</li>
<li>使用 DOM 获取容器并用 echarts.init 初始化</li>
<li>将图表的配置项和数据保存到 option 对象中(option代码直接从官网案例复制即可，或者自己研究文档自己拼接)</li>
<li>使用setOption将刚指定的配置项和数据显示在图表中。</li>
</ul>
<p>在绘图前我们需要为 ECharts 准备一个具备高宽的 DOM 容器。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后就可以通过 echarts.init 方法初始化一个 echarts 实例并通过 setOption 方法生成一个简单的柱状图。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'box1'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 指定图表的配置项和数据</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 标题</span></span></span><br><span class="line"><span class="undefined">                    title: &#123;</span></span><br><span class="line"><span class="javascript">                        text: <span class="string">'ECharts 入门示例'</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;&#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 图例</span></span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        data:[<span class="string">'销量'</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// x轴</span></span></span><br><span class="line"><span class="undefined">                    xAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        data: [<span class="string">"衬衫"</span>,<span class="string">"羊毛衫"</span>,<span class="string">"雪纺衫"</span>,<span class="string">"裤子"</span>,<span class="string">"高跟鞋"</span>,<span class="string">"袜子"</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// y轴</span></span></span><br><span class="line"><span class="undefined">                    yAxis: &#123;&#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 数据</span></span></span><br><span class="line"><span class="undefined">                    series: [&#123;</span></span><br><span class="line"><span class="javascript">                        name: <span class="string">'销量'</span>,</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'bar'</span>,</span></span><br><span class="line"><span class="undefined">                        data: [5, 20, 36, 10, 10, 20]</span></span><br><span class="line"><span class="undefined">                    &#125;]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>效果如下：</p>
<p><img src="/2019/02/13/前端-ECharts/案例.jpg" alt="前端-ECharts/案例.jpg"></p>
<p>上例代码与文档中写法略有不同！！！文档中的script写在body中，而我们写在head中window.onload方法中，这是因为script中使用的对象是在body中定义，不注意顺序会导致script中的对象值为undefined，所以要将script写在body的最后或者head中window.onload方法中，这部分内容见JS基础。</p>
<hr>
<h3 id="option配置项介绍"><a href="#option配置项介绍" class="headerlink" title="option配置项介绍"></a>option配置项介绍</h3><p>通过上面的入门介绍，我们大致知道，ECharts中最关键的部分就是option图表的配置项和数据。</p>
<p>配置项如下：<a href="https://www.echartsjs.com/option.html#title" target="_blank" rel="noopener">https://www.echartsjs.com/option.html#title</a></p>
<p>由于内容较多，但是比较简单，这里只做简单的介绍，需要用的时候查找一下即可。</p>
<hr>
<h4 id="title-标题组件"><a href="#title-标题组件" class="headerlink" title="title 标题组件"></a>title 标题组件</h4><p>包含主标题和副标题。</p>
<hr>
<h4 id="toolbox-工具栏组件"><a href="#toolbox-工具栏组件" class="headerlink" title="toolbox 工具栏组件"></a>toolbox 工具栏组件</h4><p>内置有导出图片，数据视图，动态类型切换，数据区域缩放，重置五个工具。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// 工具栏</span><br><span class="line">toolbox: &#123;</span><br><span class="line">    show: true,</span><br><span class="line">    // 各工具配置项</span><br><span class="line">    feature: &#123;</span><br><span class="line">        // 保存为图片</span><br><span class="line">        saveAsImage: &#123;</span><br><span class="line">            show: true</span><br><span class="line">        &#125;,</span><br><span class="line">        // 配置项还原。</span><br><span class="line">        restore: &#123;</span><br><span class="line">            show: true</span><br><span class="line">        &#125;,</span><br><span class="line">        // 数据视图工具,显示图标用的数据</span><br><span class="line">        dataView: &#123;</span><br><span class="line">            show: true</span><br><span class="line">        &#125;,</span><br><span class="line">        // 数据区域缩放。</span><br><span class="line">        dataZoom: &#123;</span><br><span class="line">            show: true</span><br><span class="line">        &#125;,</span><br><span class="line">        // 动态类型切换</span><br><span class="line">        magicType: &#123;</span><br><span class="line">            show: true,</span><br><span class="line">            // 启用的动态类型</span><br><span class="line">            // 'line'（切换为折线图）</span><br><span class="line">            // 'bar'（切换为柱状图）</span><br><span class="line">            // 'stack'（切换为堆叠模式）</span><br><span class="line">            // 'tiled'（切换为平铺模式）</span><br><span class="line">            type: ['line', 'bar', 'stack', 'tiled']</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/工具栏.gif" alt="前端-ECharts/工具栏.gif"></p>
<hr>
<h4 id="tooltip-提示框组件"><a href="#tooltip-提示框组件" class="headerlink" title="tooltip 提示框组件"></a>tooltip 提示框组件</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 弹窗</span><br><span class="line">tooltip: &#123;</span><br><span class="line">    show: true,</span><br><span class="line">    // 触发类型</span><br><span class="line">    // 'item' 数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。默认项。</span><br><span class="line">    // 'axis' 坐标轴触发，主要在柱状图，折线图等会使用类目轴的图表中使用。</span><br><span class="line">    // 'none' 什么都不触发。</span><br><span class="line">    trigger: 'axis'</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/trigger.gif" alt="前端-ECharts/trigger.gif"></p>
<hr>
<h4 id="series-i-系列列表"><a href="#series-i-系列列表" class="headerlink" title="series[i] 系列列表"></a>series[i] 系列列表</h4><p>每个系列通过 type 决定自己的图表类型。</p>
<p>type: ‘line’(折线图), ‘bar’(柱状图), ‘pie’(饼图)…..</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 数据</span><br><span class="line">series: [&#123;</span><br><span class="line">    // 系列名称</span><br><span class="line">    name: '销量',</span><br><span class="line">    // 系列类型</span><br><span class="line">    type: 'line',</span><br><span class="line">    // 数据</span><br><span class="line">    data: [5, 20, 36, 10, 10, 20],</span><br><span class="line">    // 图表标注，设置标注图形、大小、方向等</span><br><span class="line">    markPoint: &#123;</span><br><span class="line">        data: [</span><br><span class="line">            &#123;type: 'max', name: '最大值'&#125;,</span><br><span class="line">            &#123;type: 'min', name: '最小值'&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    // 图表标线</span><br><span class="line">    markLine: &#123;</span><br><span class="line">        data: [</span><br><span class="line">            &#123;type: 'average', name: '平均线'&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;],</span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/series.jpg" alt="前端-ECharts/series.jpg"></p>
<hr>
<h4 id="legend-图例组件"><a href="#legend-图例组件" class="headerlink" title="legend 图例组件"></a>legend 图例组件</h4><p>图例组件展现了不同系列的标记(symbol)，颜色和名字。可以通过点击图例控制哪些系列不显示。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 图例</span><br><span class="line">legend: &#123;</span><br><span class="line">    data: ['销量']</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><p>在之前 series[i] 系列列表 中提到过，type可以设置为不同的类型，表示不同的图表样式，这里将type设置为 pie 即表示饼图。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 指定图表的配置项和数据</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 标题组件</span></span></span><br><span class="line"><span class="undefined">                    title : &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 主标题文本</span></span></span><br><span class="line"><span class="javascript">                        text: <span class="string">'某站点用户访问来源'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 副标题文本，支持使用 \n 换行。</span></span></span><br><span class="line"><span class="javascript">                        subtext: <span class="string">'纯属虚构'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 水平位置</span></span></span><br><span class="line"><span class="javascript">                        x: <span class="string">'center'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 垂直位置</span></span></span><br><span class="line"><span class="javascript">                        y: <span class="string">'top'</span></span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 提示框组件</span></span></span><br><span class="line"><span class="undefined">                    tooltip : &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 触发类型：数据项图形触发</span></span></span><br><span class="line"><span class="javascript">                        trigger: <span class="string">'item'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 提示框浮层内容格式器</span></span></span><br><span class="line"><span class="javascript">                        formatter: <span class="string">"&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)"</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 图例组件</span></span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 图例列表的布局朝向</span></span></span><br><span class="line"><span class="javascript">                        orient: <span class="string">'vertical'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 图例组件离容器左侧的距离</span></span></span><br><span class="line"><span class="javascript">                        left: <span class="string">'left'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 图例的数据数组</span></span></span><br><span class="line"><span class="javascript">                        data: [<span class="string">'直接访问'</span>,<span class="string">'邮件营销'</span>,<span class="string">'联盟广告'</span>,<span class="string">'视频广告'</span>,<span class="string">'搜索引擎'</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 系列列表</span></span></span><br><span class="line"><span class="undefined">                    series : [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 系列名称，用于tooltip的显示，legend 的图例筛选</span></span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'访问来源'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 饼图</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'pie'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 饼图的半径</span></span></span><br><span class="line"><span class="javascript">                            radius : <span class="string">'55%'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 圆心坐标</span></span></span><br><span class="line"><span class="javascript">                            center: [<span class="string">'50%'</span>, <span class="string">'60%'</span>],</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 系列中的数据内容数组</span></span></span><br><span class="line"><span class="undefined">                            data:[</span></span><br><span class="line"><span class="undefined">                                &#123;</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 数据值</span></span></span><br><span class="line"><span class="undefined">                                    value:335,</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 数据项名称</span></span></span><br><span class="line"><span class="javascript">                                    name:<span class="string">'直接访问'</span>,</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 该数据项是否被选中</span></span></span><br><span class="line"><span class="javascript">                                    selected:<span class="literal">true</span>,</span></span><br><span class="line"><span class="undefined">                                &#125;,</span></span><br><span class="line"><span class="javascript">                                &#123;<span class="attr">value</span>:<span class="number">310</span>, <span class="attr">name</span>:<span class="string">'邮件营销'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                                &#123;<span class="attr">value</span>:<span class="number">234</span>, <span class="attr">name</span>:<span class="string">'联盟广告'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                                &#123;<span class="attr">value</span>:<span class="number">135</span>, <span class="attr">name</span>:<span class="string">'视频广告'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                                &#123;<span class="attr">value</span>:<span class="number">1548</span>, <span class="attr">name</span>:<span class="string">'搜索引擎'</span>&#125;</span></span><br><span class="line"><span class="undefined">                            ],</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 选中模式，表示是否支持多个选中</span></span></span><br><span class="line"><span class="javascript">                            selectedMode: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 图形样式</span></span></span><br><span class="line"><span class="undefined">                            itemStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                <span class="comment">// 高亮的扇区和标签样式</span></span></span><br><span class="line"><span class="undefined">                                emphasis: &#123;</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 图形阴影的模糊大小</span></span></span><br><span class="line"><span class="undefined">                                    shadowBlur: 10,</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 阴影水平方向上的偏移距离</span></span></span><br><span class="line"><span class="undefined">                                    shadowOffsetX: 0,</span></span><br><span class="line"><span class="javascript">                                    <span class="comment">// 阴影颜色</span></span></span><br><span class="line"><span class="javascript">                                    shadowColor: <span class="string">'rgba(0, 0, 0, 0.5)'</span></span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/饼图案例.gif" alt="前端-ECharts/饼图案例.gif"></p>
<hr>
<h3 id="仪表图"><a href="#仪表图" class="headerlink" title="仪表图"></a>仪表图</h3><p>将 series[i] 系列列表 type 设置为 gauge 仪表盘图表。</p>
<p>通过setInterval()定时器更新data[0]数据，来更新图表。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 指定图表的配置项和数据</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="undefined">                    tooltip : &#123;</span></span><br><span class="line"><span class="javascript">                        formatter: <span class="string">"&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125;%"</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    toolbox: &#123;</span></span><br><span class="line"><span class="undefined">                        feature: &#123;</span></span><br><span class="line"><span class="undefined">                            restore: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">                            saveAsImage: &#123;&#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    series: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'业务指标'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 设置仪表盘</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'gauge'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 仪表盘详情，用于显示数据</span></span></span><br><span class="line"><span class="javascript">                            detail: &#123;<span class="attr">formatter</span>:<span class="string">'&#123;value&#125;%'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 最值</span></span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 100,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 仪表盘的数据</span></span></span><br><span class="line"><span class="undefined">                            data: [</span></span><br><span class="line"><span class="undefined">                                &#123;</span></span><br><span class="line"><span class="undefined">                                    value: 50, </span></span><br><span class="line"><span class="javascript">                                    name: <span class="string">'完成率'</span>,</span></span><br><span class="line"><span class="undefined">                                &#125;,</span></span><br><span class="line"><span class="undefined">                            ]</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 定时器</span></span></span><br><span class="line"><span class="javascript">                setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 生成一个随机数并更新data[0]，保留两位小数</span></span></span><br><span class="line"><span class="javascript">                    option.series[<span class="number">0</span>].data[<span class="number">0</span>].value = (<span class="built_in">Math</span>.random() * <span class="number">100</span>).toFixed(<span class="number">2</span>) - <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 动态更新配置项和数据显示图标</span></span></span><br><span class="line"><span class="javascript">                    myChart.setOption(option, <span class="literal">true</span>);</span></span><br><span class="line"><span class="undefined">                &#125;,2000);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/仪表盘.gif" alt="前端-ECharts/仪表盘.gif"></p>
<hr>
<h3 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h3><p>将 series[i] 系列列表 type 设置为 scatter 散点图图表。</p>
<p>当数据过大时或内容重复时，可以单独提取出来。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 数据</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> dataBJ = [</span></span><br><span class="line"><span class="javascript">                [<span class="number">1</span>,<span class="number">55</span>,<span class="number">9</span>,<span class="number">56</span>,<span class="number">0.46</span>,<span class="number">18</span>,<span class="number">6</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">2</span>,<span class="number">25</span>,<span class="number">11</span>,<span class="number">21</span>,<span class="number">0.65</span>,<span class="number">34</span>,<span class="number">9</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">3</span>,<span class="number">56</span>,<span class="number">7</span>,<span class="number">63</span>,<span class="number">0.3</span>,<span class="number">14</span>,<span class="number">5</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">4</span>,<span class="number">33</span>,<span class="number">7</span>,<span class="number">29</span>,<span class="number">0.33</span>,<span class="number">16</span>,<span class="number">6</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">5</span>,<span class="number">42</span>,<span class="number">24</span>,<span class="number">44</span>,<span class="number">0.76</span>,<span class="number">40</span>,<span class="number">16</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">6</span>,<span class="number">82</span>,<span class="number">58</span>,<span class="number">90</span>,<span class="number">1.77</span>,<span class="number">68</span>,<span class="number">33</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">7</span>,<span class="number">74</span>,<span class="number">49</span>,<span class="number">77</span>,<span class="number">1.46</span>,<span class="number">48</span>,<span class="number">27</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">8</span>,<span class="number">78</span>,<span class="number">55</span>,<span class="number">80</span>,<span class="number">1.29</span>,<span class="number">59</span>,<span class="number">29</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">9</span>,<span class="number">267</span>,<span class="number">216</span>,<span class="number">280</span>,<span class="number">4.8</span>,<span class="number">108</span>,<span class="number">64</span>,<span class="string">"重度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">10</span>,<span class="number">185</span>,<span class="number">127</span>,<span class="number">216</span>,<span class="number">2.52</span>,<span class="number">61</span>,<span class="number">27</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">11</span>,<span class="number">39</span>,<span class="number">19</span>,<span class="number">38</span>,<span class="number">0.57</span>,<span class="number">31</span>,<span class="number">15</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">12</span>,<span class="number">41</span>,<span class="number">11</span>,<span class="number">40</span>,<span class="number">0.43</span>,<span class="number">21</span>,<span class="number">7</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">13</span>,<span class="number">64</span>,<span class="number">38</span>,<span class="number">74</span>,<span class="number">1.04</span>,<span class="number">46</span>,<span class="number">22</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">14</span>,<span class="number">108</span>,<span class="number">79</span>,<span class="number">120</span>,<span class="number">1.7</span>,<span class="number">75</span>,<span class="number">41</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">15</span>,<span class="number">108</span>,<span class="number">63</span>,<span class="number">116</span>,<span class="number">1.48</span>,<span class="number">44</span>,<span class="number">26</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">16</span>,<span class="number">33</span>,<span class="number">6</span>,<span class="number">29</span>,<span class="number">0.34</span>,<span class="number">13</span>,<span class="number">5</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">17</span>,<span class="number">94</span>,<span class="number">66</span>,<span class="number">110</span>,<span class="number">1.54</span>,<span class="number">62</span>,<span class="number">31</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">18</span>,<span class="number">186</span>,<span class="number">142</span>,<span class="number">192</span>,<span class="number">3.88</span>,<span class="number">93</span>,<span class="number">79</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">19</span>,<span class="number">57</span>,<span class="number">31</span>,<span class="number">54</span>,<span class="number">0.96</span>,<span class="number">32</span>,<span class="number">14</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">20</span>,<span class="number">22</span>,<span class="number">8</span>,<span class="number">17</span>,<span class="number">0.48</span>,<span class="number">23</span>,<span class="number">10</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">21</span>,<span class="number">39</span>,<span class="number">15</span>,<span class="number">36</span>,<span class="number">0.61</span>,<span class="number">29</span>,<span class="number">13</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">22</span>,<span class="number">94</span>,<span class="number">69</span>,<span class="number">114</span>,<span class="number">2.08</span>,<span class="number">73</span>,<span class="number">39</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">23</span>,<span class="number">99</span>,<span class="number">73</span>,<span class="number">110</span>,<span class="number">2.43</span>,<span class="number">76</span>,<span class="number">48</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">24</span>,<span class="number">31</span>,<span class="number">12</span>,<span class="number">30</span>,<span class="number">0.5</span>,<span class="number">32</span>,<span class="number">16</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">25</span>,<span class="number">42</span>,<span class="number">27</span>,<span class="number">43</span>,<span class="number">1</span>,<span class="number">53</span>,<span class="number">22</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">26</span>,<span class="number">154</span>,<span class="number">117</span>,<span class="number">157</span>,<span class="number">3.05</span>,<span class="number">92</span>,<span class="number">58</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">27</span>,<span class="number">234</span>,<span class="number">185</span>,<span class="number">230</span>,<span class="number">4.09</span>,<span class="number">123</span>,<span class="number">69</span>,<span class="string">"重度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">28</span>,<span class="number">160</span>,<span class="number">120</span>,<span class="number">186</span>,<span class="number">2.77</span>,<span class="number">91</span>,<span class="number">50</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">29</span>,<span class="number">134</span>,<span class="number">96</span>,<span class="number">165</span>,<span class="number">2.76</span>,<span class="number">83</span>,<span class="number">41</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">30</span>,<span class="number">52</span>,<span class="number">24</span>,<span class="number">60</span>,<span class="number">1.03</span>,<span class="number">50</span>,<span class="number">21</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">31</span>,<span class="number">46</span>,<span class="number">5</span>,<span class="number">49</span>,<span class="number">0.28</span>,<span class="number">10</span>,<span class="number">6</span>,<span class="string">"优"</span>]</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> dataGZ = [</span></span><br><span class="line"><span class="javascript">                [<span class="number">1</span>,<span class="number">26</span>,<span class="number">37</span>,<span class="number">27</span>,<span class="number">1.163</span>,<span class="number">27</span>,<span class="number">13</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">2</span>,<span class="number">85</span>,<span class="number">62</span>,<span class="number">71</span>,<span class="number">1.195</span>,<span class="number">60</span>,<span class="number">8</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">3</span>,<span class="number">78</span>,<span class="number">38</span>,<span class="number">74</span>,<span class="number">1.363</span>,<span class="number">37</span>,<span class="number">7</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">4</span>,<span class="number">21</span>,<span class="number">21</span>,<span class="number">36</span>,<span class="number">0.634</span>,<span class="number">40</span>,<span class="number">9</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">5</span>,<span class="number">41</span>,<span class="number">42</span>,<span class="number">46</span>,<span class="number">0.915</span>,<span class="number">81</span>,<span class="number">13</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">6</span>,<span class="number">56</span>,<span class="number">52</span>,<span class="number">69</span>,<span class="number">1.067</span>,<span class="number">92</span>,<span class="number">16</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">7</span>,<span class="number">64</span>,<span class="number">30</span>,<span class="number">28</span>,<span class="number">0.924</span>,<span class="number">51</span>,<span class="number">2</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">8</span>,<span class="number">55</span>,<span class="number">48</span>,<span class="number">74</span>,<span class="number">1.236</span>,<span class="number">75</span>,<span class="number">26</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">9</span>,<span class="number">76</span>,<span class="number">85</span>,<span class="number">113</span>,<span class="number">1.237</span>,<span class="number">114</span>,<span class="number">27</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">10</span>,<span class="number">91</span>,<span class="number">81</span>,<span class="number">104</span>,<span class="number">1.041</span>,<span class="number">56</span>,<span class="number">40</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">11</span>,<span class="number">84</span>,<span class="number">39</span>,<span class="number">60</span>,<span class="number">0.964</span>,<span class="number">25</span>,<span class="number">11</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">12</span>,<span class="number">64</span>,<span class="number">51</span>,<span class="number">101</span>,<span class="number">0.862</span>,<span class="number">58</span>,<span class="number">23</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">13</span>,<span class="number">70</span>,<span class="number">69</span>,<span class="number">120</span>,<span class="number">1.198</span>,<span class="number">65</span>,<span class="number">36</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">14</span>,<span class="number">77</span>,<span class="number">105</span>,<span class="number">178</span>,<span class="number">2.549</span>,<span class="number">64</span>,<span class="number">16</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">15</span>,<span class="number">109</span>,<span class="number">68</span>,<span class="number">87</span>,<span class="number">0.996</span>,<span class="number">74</span>,<span class="number">29</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">16</span>,<span class="number">73</span>,<span class="number">68</span>,<span class="number">97</span>,<span class="number">0.905</span>,<span class="number">51</span>,<span class="number">34</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">17</span>,<span class="number">54</span>,<span class="number">27</span>,<span class="number">47</span>,<span class="number">0.592</span>,<span class="number">53</span>,<span class="number">12</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">18</span>,<span class="number">51</span>,<span class="number">61</span>,<span class="number">97</span>,<span class="number">0.811</span>,<span class="number">65</span>,<span class="number">19</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">19</span>,<span class="number">91</span>,<span class="number">71</span>,<span class="number">121</span>,<span class="number">1.374</span>,<span class="number">43</span>,<span class="number">18</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">20</span>,<span class="number">73</span>,<span class="number">102</span>,<span class="number">182</span>,<span class="number">2.787</span>,<span class="number">44</span>,<span class="number">19</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">21</span>,<span class="number">73</span>,<span class="number">50</span>,<span class="number">76</span>,<span class="number">0.717</span>,<span class="number">31</span>,<span class="number">20</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">22</span>,<span class="number">84</span>,<span class="number">94</span>,<span class="number">140</span>,<span class="number">2.238</span>,<span class="number">68</span>,<span class="number">18</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">23</span>,<span class="number">93</span>,<span class="number">77</span>,<span class="number">104</span>,<span class="number">1.165</span>,<span class="number">53</span>,<span class="number">7</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">24</span>,<span class="number">99</span>,<span class="number">130</span>,<span class="number">227</span>,<span class="number">3.97</span>,<span class="number">55</span>,<span class="number">15</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">25</span>,<span class="number">146</span>,<span class="number">84</span>,<span class="number">139</span>,<span class="number">1.094</span>,<span class="number">40</span>,<span class="number">17</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">26</span>,<span class="number">113</span>,<span class="number">108</span>,<span class="number">137</span>,<span class="number">1.481</span>,<span class="number">48</span>,<span class="number">15</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">27</span>,<span class="number">81</span>,<span class="number">48</span>,<span class="number">62</span>,<span class="number">1.619</span>,<span class="number">26</span>,<span class="number">3</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">28</span>,<span class="number">56</span>,<span class="number">48</span>,<span class="number">68</span>,<span class="number">1.336</span>,<span class="number">37</span>,<span class="number">9</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">29</span>,<span class="number">82</span>,<span class="number">92</span>,<span class="number">174</span>,<span class="number">3.29</span>,<span class="number">0</span>,<span class="number">13</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">30</span>,<span class="number">106</span>,<span class="number">116</span>,<span class="number">188</span>,<span class="number">3.628</span>,<span class="number">101</span>,<span class="number">16</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">31</span>,<span class="number">118</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">1.383</span>,<span class="number">76</span>,<span class="number">11</span>,<span class="string">"轻度污染"</span>]</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> dataSH = [</span></span><br><span class="line"><span class="javascript">                [<span class="number">1</span>,<span class="number">91</span>,<span class="number">45</span>,<span class="number">125</span>,<span class="number">0.82</span>,<span class="number">34</span>,<span class="number">23</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">2</span>,<span class="number">65</span>,<span class="number">27</span>,<span class="number">78</span>,<span class="number">0.86</span>,<span class="number">45</span>,<span class="number">29</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">3</span>,<span class="number">83</span>,<span class="number">60</span>,<span class="number">84</span>,<span class="number">1.09</span>,<span class="number">73</span>,<span class="number">27</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">4</span>,<span class="number">109</span>,<span class="number">81</span>,<span class="number">121</span>,<span class="number">1.28</span>,<span class="number">68</span>,<span class="number">51</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">5</span>,<span class="number">106</span>,<span class="number">77</span>,<span class="number">114</span>,<span class="number">1.07</span>,<span class="number">55</span>,<span class="number">51</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">6</span>,<span class="number">109</span>,<span class="number">81</span>,<span class="number">121</span>,<span class="number">1.28</span>,<span class="number">68</span>,<span class="number">51</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">7</span>,<span class="number">106</span>,<span class="number">77</span>,<span class="number">114</span>,<span class="number">1.07</span>,<span class="number">55</span>,<span class="number">51</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">8</span>,<span class="number">89</span>,<span class="number">65</span>,<span class="number">78</span>,<span class="number">0.86</span>,<span class="number">51</span>,<span class="number">26</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">9</span>,<span class="number">53</span>,<span class="number">33</span>,<span class="number">47</span>,<span class="number">0.64</span>,<span class="number">50</span>,<span class="number">17</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">10</span>,<span class="number">80</span>,<span class="number">55</span>,<span class="number">80</span>,<span class="number">1.01</span>,<span class="number">75</span>,<span class="number">24</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">11</span>,<span class="number">117</span>,<span class="number">81</span>,<span class="number">124</span>,<span class="number">1.03</span>,<span class="number">45</span>,<span class="number">24</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">12</span>,<span class="number">99</span>,<span class="number">71</span>,<span class="number">142</span>,<span class="number">1.1</span>,<span class="number">62</span>,<span class="number">42</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">13</span>,<span class="number">95</span>,<span class="number">69</span>,<span class="number">130</span>,<span class="number">1.28</span>,<span class="number">74</span>,<span class="number">50</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">14</span>,<span class="number">116</span>,<span class="number">87</span>,<span class="number">131</span>,<span class="number">1.47</span>,<span class="number">84</span>,<span class="number">40</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">15</span>,<span class="number">108</span>,<span class="number">80</span>,<span class="number">121</span>,<span class="number">1.3</span>,<span class="number">85</span>,<span class="number">37</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">16</span>,<span class="number">134</span>,<span class="number">83</span>,<span class="number">167</span>,<span class="number">1.16</span>,<span class="number">57</span>,<span class="number">43</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">17</span>,<span class="number">79</span>,<span class="number">43</span>,<span class="number">107</span>,<span class="number">1.05</span>,<span class="number">59</span>,<span class="number">37</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">18</span>,<span class="number">71</span>,<span class="number">46</span>,<span class="number">89</span>,<span class="number">0.86</span>,<span class="number">64</span>,<span class="number">25</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">19</span>,<span class="number">97</span>,<span class="number">71</span>,<span class="number">113</span>,<span class="number">1.17</span>,<span class="number">88</span>,<span class="number">31</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">20</span>,<span class="number">84</span>,<span class="number">57</span>,<span class="number">91</span>,<span class="number">0.85</span>,<span class="number">55</span>,<span class="number">31</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">21</span>,<span class="number">87</span>,<span class="number">63</span>,<span class="number">101</span>,<span class="number">0.9</span>,<span class="number">56</span>,<span class="number">41</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">22</span>,<span class="number">104</span>,<span class="number">77</span>,<span class="number">119</span>,<span class="number">1.09</span>,<span class="number">73</span>,<span class="number">48</span>,<span class="string">"轻度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">23</span>,<span class="number">87</span>,<span class="number">62</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">72</span>,<span class="number">28</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">24</span>,<span class="number">168</span>,<span class="number">128</span>,<span class="number">172</span>,<span class="number">1.49</span>,<span class="number">97</span>,<span class="number">56</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">25</span>,<span class="number">65</span>,<span class="number">45</span>,<span class="number">51</span>,<span class="number">0.74</span>,<span class="number">39</span>,<span class="number">17</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">26</span>,<span class="number">39</span>,<span class="number">24</span>,<span class="number">38</span>,<span class="number">0.61</span>,<span class="number">47</span>,<span class="number">17</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">27</span>,<span class="number">39</span>,<span class="number">24</span>,<span class="number">39</span>,<span class="number">0.59</span>,<span class="number">50</span>,<span class="number">19</span>,<span class="string">"优"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">28</span>,<span class="number">93</span>,<span class="number">68</span>,<span class="number">96</span>,<span class="number">1.05</span>,<span class="number">79</span>,<span class="number">29</span>,<span class="string">"良"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">29</span>,<span class="number">188</span>,<span class="number">143</span>,<span class="number">197</span>,<span class="number">1.66</span>,<span class="number">99</span>,<span class="number">51</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">30</span>,<span class="number">174</span>,<span class="number">131</span>,<span class="number">174</span>,<span class="number">1.55</span>,<span class="number">108</span>,<span class="number">50</span>,<span class="string">"中度污染"</span>],</span></span><br><span class="line"><span class="javascript">                [<span class="number">31</span>,<span class="number">187</span>,<span class="number">143</span>,<span class="number">201</span>,<span class="number">1.39</span>,<span class="number">89</span>,<span class="number">53</span>,<span class="string">"中度污染"</span>]</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> schema = [</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'date'</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">text</span>: <span class="string">'日'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'AQIindex'</span>, <span class="attr">index</span>: <span class="number">1</span>, <span class="attr">text</span>: <span class="string">'AQI指数'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'PM25'</span>, <span class="attr">index</span>: <span class="number">2</span>, <span class="attr">text</span>: <span class="string">'PM2.5'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'PM10'</span>, <span class="attr">index</span>: <span class="number">3</span>, <span class="attr">text</span>: <span class="string">'PM10'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'CO'</span>, <span class="attr">index</span>: <span class="number">4</span>, <span class="attr">text</span>: <span class="string">'一氧化碳（CO）'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'NO2'</span>, <span class="attr">index</span>: <span class="number">5</span>, <span class="attr">text</span>: <span class="string">'二氧化氮（NO2）'</span>&#125;,</span></span><br><span class="line"><span class="javascript">                &#123;<span class="attr">name</span>: <span class="string">'SO2'</span>, <span class="attr">index</span>: <span class="number">6</span>, <span class="attr">text</span>: <span class="string">'二氧化硫（SO2）'</span>&#125;</span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="comment">// 折线拐点标志的样式</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> itemStyle = &#123;</span></span><br><span class="line"><span class="undefined">                normal: &#123;</span></span><br><span class="line"><span class="undefined">                    opacity: 0.8,</span></span><br><span class="line"><span class="undefined">                    shadowBlur: 10,</span></span><br><span class="line"><span class="undefined">                    shadowOffsetX: 0,</span></span><br><span class="line"><span class="undefined">                    shadowOffsetY: 0,</span></span><br><span class="line"><span class="javascript">                    shadowColor: <span class="string">'rgba(0, 0, 0, 0.5)'</span></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 背景色</span></span></span><br><span class="line"><span class="javascript">                    backgroundColor: <span class="string">'#404a59'</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 系列颜色</span></span></span><br><span class="line"><span class="undefined">                    color: [</span></span><br><span class="line"><span class="javascript">                        <span class="string">'#dd4444'</span>, <span class="string">'#fec42c'</span>, <span class="string">'#80F1BE'</span></span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 图例组件</span></span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        y: <span class="string">'top'</span>,</span></span><br><span class="line"><span class="javascript">                        data: [<span class="string">'北京'</span>, <span class="string">'上海'</span>, <span class="string">'广州'</span>],</span></span><br><span class="line"><span class="undefined">                        textStyle: &#123;</span></span><br><span class="line"><span class="javascript">                            color: <span class="string">'#fff'</span>,</span></span><br><span class="line"><span class="undefined">                            fontSize: 16</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 直角坐标系网格组件</span></span></span><br><span class="line"><span class="undefined">                    grid: &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 网格组件水平起始位置</span></span></span><br><span class="line"><span class="javascript">                        x: <span class="string">'5%'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 网格组件水平结束位置</span></span></span><br><span class="line"><span class="javascript">                        x2: <span class="string">'15%'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 网格组件垂直起始位置</span></span></span><br><span class="line"><span class="javascript">                        y: <span class="string">'15%'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 网格组件垂直结束位置</span></span></span><br><span class="line"><span class="javascript">                        y2: <span class="string">'10%'</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 提示框组件</span></span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;</span></span><br><span class="line"><span class="undefined">                        padding: 10,</span></span><br><span class="line"><span class="javascript">                        backgroundColor: <span class="string">'#222'</span>,</span></span><br><span class="line"><span class="javascript">                        borderColor: <span class="string">'#777'</span>,</span></span><br><span class="line"><span class="undefined">                        borderWidth: 1,</span></span><br><span class="line"><span class="javascript">                        formatter: <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> value = obj.value;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">return</span> <span class="string">'&lt;div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px"&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + obj.seriesName + <span class="string">' '</span> + value[<span class="number">0</span>] + <span class="string">'日：'</span></span></span><br><span class="line"><span class="undefined">                                + value[7]</span></span><br><span class="line"><span class="javascript">                                + <span class="string">'&lt;/div&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">1</span>].text + <span class="string">'：'</span> + value[<span class="number">1</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">2</span>].text + <span class="string">'：'</span> + value[<span class="number">2</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">3</span>].text + <span class="string">'：'</span> + value[<span class="number">3</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">4</span>].text + <span class="string">'：'</span> + value[<span class="number">4</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">5</span>].text + <span class="string">'：'</span> + value[<span class="number">5</span>] + <span class="string">'&lt;br&gt;'</span></span></span><br><span class="line"><span class="javascript">                                + schema[<span class="number">6</span>].text + <span class="string">'：'</span> + value[<span class="number">6</span>] + <span class="string">'&lt;br&gt;'</span>;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 直角坐标系 grid 中的 x 轴</span></span></span><br><span class="line"><span class="undefined">                    xAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴类型为数值轴</span></span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴名称</span></span></span><br><span class="line"><span class="javascript">                        name: <span class="string">'日期'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴名称与轴线之间的距离</span></span></span><br><span class="line"><span class="undefined">                        nameGap: 16,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴名称的文字样式</span></span></span><br><span class="line"><span class="undefined">                        nameTextStyle: &#123;</span></span><br><span class="line"><span class="javascript">                            color: <span class="string">'#fff'</span>,</span></span><br><span class="line"><span class="undefined">                            fontSize: 14</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        max: 31,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴在 grid 区域中的分隔线</span></span></span><br><span class="line"><span class="undefined">                        splitLine: &#123;</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 坐标轴轴线</span></span></span><br><span class="line"><span class="undefined">                        axisLine: &#123;</span></span><br><span class="line"><span class="undefined">                            lineStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#eee'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 直角坐标系 grid 中的 y 轴</span></span></span><br><span class="line"><span class="undefined">                    yAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                        name: <span class="string">'AQI指数'</span>,</span></span><br><span class="line"><span class="javascript">                        nameLocation: <span class="string">'end'</span>,</span></span><br><span class="line"><span class="undefined">                        nameGap: 20,</span></span><br><span class="line"><span class="undefined">                        nameTextStyle: &#123;</span></span><br><span class="line"><span class="javascript">                            color: <span class="string">'#fff'</span>,</span></span><br><span class="line"><span class="undefined">                            fontSize: 16</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        axisLine: &#123;</span></span><br><span class="line"><span class="undefined">                            lineStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#eee'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        splitLine: &#123;</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">false</span></span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 视觉映射组件,最右边的那两个</span></span></span><br><span class="line"><span class="undefined">                    visualMap: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            left: <span class="string">'right'</span>,</span></span><br><span class="line"><span class="javascript">                            top: <span class="string">'10%'</span>,</span></span><br><span class="line"><span class="undefined">                            dimension: 2,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 最值</span></span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 250,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 图形宽搞</span></span></span><br><span class="line"><span class="undefined">                            itemWidth: 30,</span></span><br><span class="line"><span class="undefined">                            itemHeight: 120,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 是否显示拖拽用的手柄</span></span></span><br><span class="line"><span class="javascript">                            calculable: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 数据展示的小数精度</span></span></span><br><span class="line"><span class="undefined">                            precision: 0.1,</span></span><br><span class="line"><span class="javascript">                            text: [<span class="string">'圆形大小：PM2.5'</span>],</span></span><br><span class="line"><span class="undefined">                            textGap: 30,</span></span><br><span class="line"><span class="undefined">                            textStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#fff'</span></span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 在选中范围内的视觉图形</span></span></span><br><span class="line"><span class="undefined">                            inRange: &#123;</span></span><br><span class="line"><span class="undefined">                                symbolSize: [10, 70]</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 在选中范围外的视觉图形</span></span></span><br><span class="line"><span class="undefined">                            outOfRange: &#123;</span></span><br><span class="line"><span class="javascript">                                <span class="comment">// 图元的大小</span></span></span><br><span class="line"><span class="undefined">                                symbolSize: [10, 70],</span></span><br><span class="line"><span class="javascript">                                <span class="comment">// 图元的颜色</span></span></span><br><span class="line"><span class="javascript">                                color: [<span class="string">'rgba(255,255,255,.2)'</span>]</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            controller: &#123;</span></span><br><span class="line"><span class="undefined">                                inRange: &#123;</span></span><br><span class="line"><span class="javascript">                                    color: [<span class="string">'#c23531'</span>]</span></span><br><span class="line"><span class="undefined">                                &#125;,</span></span><br><span class="line"><span class="undefined">                                outOfRange: &#123;</span></span><br><span class="line"><span class="javascript">                                    color: [<span class="string">'#444'</span>]</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            left: <span class="string">'right'</span>,</span></span><br><span class="line"><span class="javascript">                            bottom: <span class="string">'5%'</span>,</span></span><br><span class="line"><span class="undefined">                            dimension: 6,</span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 50,</span></span><br><span class="line"><span class="undefined">                            itemHeight: 120,</span></span><br><span class="line"><span class="javascript">                            calculable: <span class="literal">true</span>,</span></span><br><span class="line"><span class="undefined">                            precision: 0.1,</span></span><br><span class="line"><span class="javascript">                            text: [<span class="string">'明暗：二氧化硫'</span>],</span></span><br><span class="line"><span class="undefined">                            textGap: 30,</span></span><br><span class="line"><span class="undefined">                            textStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#fff'</span></span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            inRange: &#123;</span></span><br><span class="line"><span class="undefined">                                colorLightness: [1, 0.5]</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            outOfRange: &#123;</span></span><br><span class="line"><span class="javascript">                                color: [<span class="string">'rgba(255,255,255,.2)'</span>]</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            controller: &#123;</span></span><br><span class="line"><span class="undefined">                                inRange: &#123;</span></span><br><span class="line"><span class="javascript">                                    color: [<span class="string">'#c23531'</span>]</span></span><br><span class="line"><span class="undefined">                                &#125;,</span></span><br><span class="line"><span class="undefined">                                outOfRange: &#123;</span></span><br><span class="line"><span class="javascript">                                    color: [<span class="string">'#444'</span>]</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="undefined">                    series: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'北京'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 散点图</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 折线拐点标志的样式</span></span></span><br><span class="line"><span class="undefined">                            itemStyle: itemStyle,</span></span><br><span class="line"><span class="undefined">                            data: dataBJ</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'上海'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: itemStyle,</span></span><br><span class="line"><span class="undefined">                            data: dataSH</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'广州'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: itemStyle,</span></span><br><span class="line"><span class="undefined">                            data: dataGZ</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 1500px;height:800px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/散点图.gif" alt="前端-ECharts/散点图.gif"></p>
<hr>
<h3 id="雷达图"><a href="#雷达图" class="headerlink" title="雷达图"></a>雷达图</h3><p>将 series[i] 系列列表 type 设置为 scatter 散点图图表。</p>
<p>option 中有一个 radar 雷达图坐标系组件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="undefined">                    title: &#123;</span></span><br><span class="line"><span class="javascript">                        text: <span class="string">'基础雷达图'</span>,</span></span><br><span class="line"><span class="javascript">                        left: <span class="string">'10%'</span></span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="undefined">                        data: [</span></span><br><span class="line"><span class="javascript">                            <span class="string">'预算分配（Allocated Budget）'</span>,</span></span><br><span class="line"><span class="javascript">                             <span class="string">'实际开销（Actual Spending）'</span>,</span></span><br><span class="line"><span class="undefined">                             ],</span></span><br><span class="line"><span class="undefined">                        textStyle: &#123;</span></span><br><span class="line"><span class="undefined">                            fontSize: 20</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 雷达图坐标系组件</span></span></span><br><span class="line"><span class="undefined">                    radar: &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 雷达图形状</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// ’polygon' 多边形</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 'circle' 圆形</span></span></span><br><span class="line"><span class="javascript">                        shape: <span class="string">'polygon'</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 雷达图每个指示器名称的配置项</span></span></span><br><span class="line"><span class="undefined">                        name: &#123;</span></span><br><span class="line"><span class="undefined">                            textStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#fff'</span>,</span></span><br><span class="line"><span class="javascript">                                backgroundColor: <span class="string">'#999'</span>,</span></span><br><span class="line"><span class="undefined">                                borderRadius: 3,</span></span><br><span class="line"><span class="undefined">                                padding: [3, 5],</span></span><br><span class="line"><span class="undefined">                                fontSize: 20</span></span><br><span class="line"><span class="undefined">                           &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 雷达图的指示器，用来指定雷达图中的多个变量（维度）</span></span></span><br><span class="line"><span class="undefined">                        indicator: [</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'销售（sales）'</span>, <span class="attr">max</span>: <span class="number">6500</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'管理（Administration）'</span>, <span class="attr">max</span>: <span class="number">16000</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'信息技术（Information Techology）'</span>, <span class="attr">max</span>: <span class="number">30000</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'客服（Customer Support）'</span>, <span class="attr">max</span>: <span class="number">38000</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'研发（Development）'</span>, <span class="attr">max</span>: <span class="number">52000</span>&#125;,</span></span><br><span class="line"><span class="javascript">                           &#123; <span class="attr">name</span>: <span class="string">'市场（Marketing）'</span>, <span class="attr">max</span>: <span class="number">25000</span>&#125;</span></span><br><span class="line"><span class="undefined">                        ]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    series: [&#123;</span></span><br><span class="line"><span class="javascript">                        name: <span class="string">'预算 vs 开销（Budget vs spending）'</span>,</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'radar'</span>,</span></span><br><span class="line"><span class="undefined">                        data : [</span></span><br><span class="line"><span class="undefined">                            &#123;</span></span><br><span class="line"><span class="undefined">                                value : [4300, 10000, 28000, 35000, 50000, 19000],</span></span><br><span class="line"><span class="javascript">                                name : <span class="string">'预算分配（Allocated Budget）'</span></span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                             &#123;</span></span><br><span class="line"><span class="undefined">                                value : [5000, 14000, 28000, 31000, 42000, 21000],</span></span><br><span class="line"><span class="javascript">                                name : <span class="string">'实际开销（Actual Spending）'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        ]</span></span><br><span class="line"><span class="undefined">                    &#125;]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 1500px;height:800px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/雷达图.gif" alt="前端-ECharts/雷达图.gif"></p>
<hr>
<h3 id="多坐标系配合"><a href="#多坐标系配合" class="headerlink" title="多坐标系配合"></a>多坐标系配合</h3><p>直角坐标系 grid 中的 y 轴，一般情况下单个 grid 组件最多只能放左右两个 y 轴，多于两个 y 轴需要通过配置 offset 属性防止同个位置多个 Y 轴的重叠。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'box1'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 指定图表的配置项和数据</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;</span></span><br><span class="line"><span class="javascript">                        trigger: <span class="string">'axis'</span>,</span></span><br><span class="line"><span class="undefined">                        axisPointer: &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'cross'</span>,</span></span><br><span class="line"><span class="undefined">                            crossStyle: &#123;</span></span><br><span class="line"><span class="javascript">                                color: <span class="string">'#999'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        data:[<span class="string">'蒸发量'</span>,<span class="string">'降水量'</span>,<span class="string">'平均温度'</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    xAxis: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'category'</span>,</span></span><br><span class="line"><span class="javascript">                            data: [<span class="string">'1月'</span>,<span class="string">'2月'</span>,<span class="string">'3月'</span>,<span class="string">'4月'</span>,<span class="string">'5月'</span>,<span class="string">'6月'</span>,<span class="string">'7月'</span>,<span class="string">'8月'</span>,<span class="string">'9月'</span>,<span class="string">'10月'</span>,<span class="string">'11月'</span>,<span class="string">'12月'</span>],</span></span><br><span class="line"><span class="undefined">                            axisPointer: &#123;</span></span><br><span class="line"><span class="javascript">                                type: <span class="string">'shadow'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="undefined">                    yAxis: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'水量'</span>,</span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 250,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 坐标轴分割间隔</span></span></span><br><span class="line"><span class="undefined">                            interval: 50,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 坐标轴刻度标签的相关设置</span></span></span><br><span class="line"><span class="undefined">                            axisLabel: &#123;</span></span><br><span class="line"><span class="javascript">                                formatter: <span class="string">'&#123;value&#125; ml'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'温度'</span>,</span></span><br><span class="line"><span class="undefined">                            min: 0,</span></span><br><span class="line"><span class="undefined">                            max: 25,</span></span><br><span class="line"><span class="undefined">                            interval: 10,</span></span><br><span class="line"><span class="undefined">                            axisLabel: &#123;</span></span><br><span class="line"><span class="javascript">                                formatter: <span class="string">'&#123;value&#125; °C'</span></span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="undefined">                    series: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name:<span class="string">'蒸发量'</span>,</span></span><br><span class="line"><span class="javascript">                            type:<span class="string">'bar'</span>,</span></span><br><span class="line"><span class="undefined">                            data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name:<span class="string">'降水量'</span>,</span></span><br><span class="line"><span class="javascript">                            type:<span class="string">'bar'</span>,</span></span><br><span class="line"><span class="undefined">                            data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name:<span class="string">'平均温度'</span>,</span></span><br><span class="line"><span class="javascript">                            type:<span class="string">'line'</span>,</span></span><br><span class="line"><span class="undefined">                            yAxisIndex: 1,</span></span><br><span class="line"><span class="undefined">                            data:[2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 23.4, 23.0, 16.5, 12.0, 6.2]</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span> <span class="attr">style</span>=<span class="string">"width: 1200px;height:800px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="数据区域缩放组件-dataZoom"><a href="#数据区域缩放组件-dataZoom" class="headerlink" title="数据区域缩放组件 dataZoom"></a>数据区域缩放组件 dataZoom</h3><p>“概览数据整体，按需关注数据细节”是数据可视化的基本交互需求。dataZoom 组件能够在直角坐标系（grid）、极坐标系（polar）中实现这一功能。</p>
<p>dataZoom 组件是对数轴（axis）进行数据窗口缩放、数据窗口平移操作。</p>
<p>现在支持这几种类型的 dataZoom 组件：</p>
<ul>
<li><p>内置型数据区域缩放组件（dataZoomInside）：内置于坐标系中，使用户可以在坐标系上通过鼠标拖拽、鼠标滚轮、手指滑动（触屏上）来缩放或漫游坐标系。</p>
</li>
<li><p>滑动条型数据区域缩放组件（dataZoomSlider）：有单独的滑动条，用户在滑动条上进行缩放或漫游。</p>
</li>
<li><p>框选型数据区域缩放组件（dataZoomSelect）：提供一个选框进行数据区域缩放。即 toolbox.feature.dataZoom，配置项在 toolbox 工具栏中。</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/echarts.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> data1 = [];</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> data2 = [];</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> data3 = [];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> random = <span class="function"><span class="keyword">function</span> (<span class="params">max</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> (<span class="built_in">Math</span>.random() * max).toFixed(<span class="number">2</span>);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// x轴, y轴, 半径</span></span></span><br><span class="line"><span class="undefined">                    data1.push([random(15), random(10), random(1)]);</span></span><br><span class="line"><span class="undefined">                    data2.push([random(10), random(10), random(1)]);</span></span><br><span class="line"><span class="undefined">                    data3.push([random(15), random(10), random(1)]);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="javascript">                    animation: <span class="literal">false</span>,</span></span><br><span class="line"><span class="undefined">                    legend: &#123;</span></span><br><span class="line"><span class="javascript">                        data: [<span class="string">'scatter'</span>, <span class="string">'scatter2'</span>, <span class="string">'scatter3'</span>]</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    tooltip: &#123;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    xAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                        min: <span class="string">'dataMin'</span>,</span></span><br><span class="line"><span class="javascript">                        max: <span class="string">'dataMax'</span>,</span></span><br><span class="line"><span class="undefined">                        splitLine: &#123;</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">true</span></span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="undefined">                    yAxis: &#123;</span></span><br><span class="line"><span class="javascript">                        type: <span class="string">'value'</span>,</span></span><br><span class="line"><span class="javascript">                        min: <span class="string">'dataMin'</span>,</span></span><br><span class="line"><span class="javascript">                        max: <span class="string">'dataMax'</span>,</span></span><br><span class="line"><span class="undefined">                        splitLine: &#123;</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">true</span></span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 区域缩放</span></span></span><br><span class="line"><span class="undefined">                    dataZoom: [</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 可设置多个</span></span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 滑动条型数据区域缩放组件</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'slider'</span>,</span></span><br><span class="line"><span class="javascript">                            show: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 第一条x轴, yAxisIndex即y轴</span></span></span><br><span class="line"><span class="undefined">                            xAxisIndex: [0],</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 滑动条数据窗口范围的起始/结束百分比</span></span></span><br><span class="line"><span class="undefined">                            start: 0,</span></span><br><span class="line"><span class="undefined">                            end: 35</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 内置型数据区域缩放组件</span></span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'inside'</span>,</span></span><br><span class="line"><span class="undefined">                            xAxisIndex: [0],</span></span><br><span class="line"><span class="undefined">                            start: 1,</span></span><br><span class="line"><span class="undefined">                            end: 35</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ],</span></span><br><span class="line"><span class="undefined">                    series: [</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: &#123;</span></span><br><span class="line"><span class="undefined">                                normal: &#123;</span></span><br><span class="line"><span class="undefined">                                    opacity: 0.8</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            symbolSize: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">return</span> val[<span class="number">2</span>] * <span class="number">40</span>;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            data: data1</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'scatter2'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: &#123;</span></span><br><span class="line"><span class="undefined">                                normal: &#123;</span></span><br><span class="line"><span class="undefined">                                    opacity: 0.8</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            symbolSize: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">return</span> val[<span class="number">2</span>] * <span class="number">40</span>;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            data: data2</span></span><br><span class="line"><span class="undefined">                        &#125;,</span></span><br><span class="line"><span class="undefined">                        &#123;</span></span><br><span class="line"><span class="javascript">                            name: <span class="string">'scatter3'</span>,</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'scatter'</span>,</span></span><br><span class="line"><span class="undefined">                            itemStyle: &#123;</span></span><br><span class="line"><span class="undefined">                                normal: &#123;</span></span><br><span class="line"><span class="undefined">                                    opacity: 0.8,</span></span><br><span class="line"><span class="undefined">                                &#125;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="javascript">                            symbolSize: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">return</span> val[<span class="number">2</span>] * <span class="number">40</span>;</span></span><br><span class="line"><span class="undefined">                            &#125;,</span></span><br><span class="line"><span class="undefined">                            data: data3</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    ]</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 1500px;height:800px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/02/13/前端-ECharts/缩放.gif" alt="前端-ECharts/缩放.gif"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/13/前端-ECharts/" data-id="cjt5i3krr0046coutwj8ozuja" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/echarts/">echarts</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-JavaScript基础-tool工具集合" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/12/前端-JavaScript基础-tool工具集合/" class="article-date">
  <time datetime="2019-02-12T05:42:45.000Z" itemprop="datePublished">2019-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/12/前端-JavaScript基础-tool工具集合/">前端-JavaScript基础-tool工具集合</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>工具目录：</p>
<!-- TOC -->
<ul>
<li><a href="#addclassobj-cn-给元素添加class属性">addClass(obj, cn) 给元素添加class属性</a></li>
<li><a href="#hasclassobj-cn-判断元素是否有某个class属性">hasClass(obj, cn) 判断元素是否有某个class属性</a></li>
<li><a href="#removeclassobj-cn-删除一个元素指定的class属性">removeClass(obj, cn) 删除一个元素指定的class属性</a></li>
<li><a href="#toggleclssobj-cn-切换类如果元素具有该类则删除如果没有则添加">toggleClss(obj, cn) 切换类(如果元素具有该类，则删除；如果没有则添加)</a></li>
<li><a href="#getstyleobj-name-获取元素当前可用样式值">getStyle(obj, name) 获取元素当前可用样式值</a></li>
<li><a href="#moveobj-attr-speed-target-callback-元素动画效果">move(obj, attr, speed, target, callback) 元素动画效果</a></li>
<li><a href="#bindobj-eventstr-callback-多事件绑定">bind(obj, eventStr, callback) 多事件绑定</a></li>
</ul>
<!-- /TOC -->
<h3 id="addClass-obj-cn-给元素添加class属性"><a href="#addClass-obj-cn-给元素添加class属性" class="headerlink" title="addClass(obj, cn) 给元素添加class属性"></a>addClass(obj, cn) 给元素添加class属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 给元素添加class属性</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * cn: 类名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!hasClass(obj, cn))&#123;</span><br><span class="line">        obj.className += <span class="string">" "</span> + cn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="hasClass-obj-cn-判断元素是否有某个class属性"><a href="#hasClass-obj-cn-判断元素是否有某个class属性" class="headerlink" title="hasClass(obj, cn) 判断元素是否有某个class属性"></a>hasClass(obj, cn) 判断元素是否有某个class属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 判断元素是否有某个class属性</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * cn: 类名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 判断obj中有没有cn这个类</span></span><br><span class="line">    <span class="comment">// 使用构造函数拼接动态正则表达式</span></span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span> + cn + <span class="string">"\\b"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> reg.test(obj.className);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="removeClass-obj-cn-删除一个元素指定的class属性"><a href="#removeClass-obj-cn-删除一个元素指定的class属性" class="headerlink" title="removeClass(obj, cn) 删除一个元素指定的class属性"></a>removeClass(obj, cn) 删除一个元素指定的class属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 删除一个元素指定的class属性</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * cn: 类名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 正则表达式</span></span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span> + cn + <span class="string">"\\b"</span>);</span><br><span class="line">                        </span><br><span class="line">    <span class="comment">// 删除class</span></span><br><span class="line">    obj.className = obj.className.replace(reg, <span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="toggleClss-obj-cn-切换类-如果元素具有该类，则删除；如果没有则添加"><a href="#toggleClss-obj-cn-切换类-如果元素具有该类，则删除；如果没有则添加" class="headerlink" title="toggleClss(obj, cn) 切换类(如果元素具有该类，则删除；如果没有则添加)"></a>toggleClss(obj, cn) 切换类(如果元素具有该类，则删除；如果没有则添加)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 切换类。如果元素中具有该类，则删除；如果没有则添加。</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * cn: 类名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleClss</span>(<span class="params">obj, cn</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断是否有cn</span></span><br><span class="line">    <span class="keyword">if</span> (hasClass(obj, cn)) &#123;</span><br><span class="line">        removeClass(obj, cn)</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        addClass(obj, cn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="getStyle-obj-name-获取元素当前可用样式值"><a href="#getStyle-obj-name-获取元素当前可用样式值" class="headerlink" title="getStyle(obj, name) 获取元素当前可用样式值"></a>getStyle(obj, name) 获取元素当前可用样式值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取元素当前可用样式值。兼容浏览器</span></span><br><span class="line"><span class="comment"> * obj：对象</span></span><br><span class="line"><span class="comment"> * name：样式名字符串</span></span><br><span class="line"><span class="comment"> * 返回值： 属性值字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</span><br><span class="line">        <span class="comment">// 正常浏览器</span></span><br><span class="line">        <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// IE8</span></span><br><span class="line">        <span class="keyword">return</span> obj.currentStyle[name];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="move-obj-attr-speed-target-callback-元素动画效果"><a href="#move-obj-attr-speed-target-callback-元素动画效果" class="headerlink" title="move(obj, attr, speed, target, callback) 元素动画效果"></a>move(obj, attr, speed, target, callback) 元素动画效果</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 元素动画效果</span></span><br><span class="line"><span class="comment"> *  obj: 要执行动画的对象</span></span><br><span class="line"><span class="comment"> *  attr: 要执行的动画样式字符串。如："left"/"top"/"width"/"height"</span></span><br><span class="line"><span class="comment"> *  speed: 移动速度绝对值</span></span><br><span class="line"><span class="comment"> *  target: 上下限</span></span><br><span class="line"><span class="comment"> *  callback: 回调函数，可以添加默认！回调函数有无限可能^——^</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, speed, target, callback</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 关闭上一个定时器，在对象内部新建的一个定时器</span></span><br><span class="line">    clearInterval(obj.timer);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断速度的正负值,即左右运动方向</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">parseInt</span>(getStyle(obj, attr)) &gt; target)&#123;</span><br><span class="line">        speed = -speed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 开启一个定时器,用来执行动画效果</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 先执行动画的对象中添加一个timer对象，用来保存自己的定时器</span></span><br><span class="line"><span class="comment">     * 避免多个对象同时使用定时器造成混乱</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    obj.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取obj的attr</span></span><br><span class="line">        <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在旧值基础上增加</span></span><br><span class="line">        <span class="keyword">var</span> newValue = oldValue + speed;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 判断最值</span></span><br><span class="line">        <span class="keyword">if</span>((speed &lt; <span class="number">0</span> &amp;&amp; newValue &lt; target) || (speed &gt; <span class="number">0</span> &amp;&amp; newValue &gt; target))&#123;</span><br><span class="line">            newValue = target;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 新值设置给obj</span></span><br><span class="line">        obj.style[attr] = newValue + <span class="string">"px"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当元素移动到400px时,停止执行动画</span></span><br><span class="line">        <span class="keyword">if</span>(newValue == target)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 关闭定时器</span></span><br><span class="line">            clearInterval(obj.timer);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 动画执行完毕的回调函数,只有有回调函数时候才执行,也就是可以不传回调函数!!!</span></span><br><span class="line">            callback &amp;&amp; callback();</span><br><span class="line">        &#125;</span><br><span class="line">                    </span><br><span class="line">    &#125;, <span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="bind-obj-eventStr-callback-多事件绑定"><a href="#bind-obj-eventStr-callback-多事件绑定" class="headerlink" title="bind(obj, eventStr, callback) 多事件绑定"></a>bind(obj, eventStr, callback) 多事件绑定</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 多事件绑定。兼容浏览器，统一this。</span></span><br><span class="line"><span class="comment"> * obj: 要绑定的事件的对象</span></span><br><span class="line"><span class="comment"> * eventStr: 事件的字符串(不要on)</span></span><br><span class="line"><span class="comment"> * callback: 回调函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, eventStr, callback</span>)</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 兼容浏览器</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">if</span>(obj.addEventListener)&#123;</span><br><span class="line">        <span class="comment">// 大部分浏览器</span></span><br><span class="line">        obj.addEventListener(eventStr, callback, <span class="literal">false</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// IE8及以下浏览器，并在匿名函数中使用回调函数，统一this</span></span><br><span class="line">        obj.attachEvent(<span class="string">"on"</span> + eventStr, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">// 在匿名函数中调用回调函数</span></span><br><span class="line">            callback.call(obj);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/12/前端-JavaScript基础-tool工具集合/" data-id="cjt5i3k0g0019coutae9x8q5g" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/">tool</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-JavaScript基础-BOM基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/08/前端-JavaScript基础-BOM基础/" class="article-date">
  <time datetime="2019-02-08T15:16:25.000Z" itemprop="datePublished">2019-02-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/08/前端-JavaScript基础-BOM基础/">前端-JavaScript基础-BOM基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：</p>
<!-- TOC -->
<ul>
<li><a href="#什么是bom">什么是BOM</a></li>
<li><a href="#bom对象">BOM对象</a></li>
<li><a href="#window">window</a><ul>
<li><a href="#setinterval定时调动">setInterval()定时调动</a></li>
<li><a href="#settimeout延时调动">setTimeout()延时调动</a></li>
</ul>
</li>
<li><a href="#navigator">Navigator</a><ul>
<li><a href="#useragent">userAgent</a></li>
<li><a href="#内容说明">内容说明</a></li>
<li><a href="#浏览器判断">浏览器判断</a></li>
</ul>
</li>
<li><a href="#location">Location</a></li>
<li><a href="#history">History</a></li>
<li><a href="#screen">Screen</a></li>
<li><a href="#综合案例动画">综合案例——动画</a></li>
<li><a href="#综合案例轮播图">综合案例——轮播图</a></li>
<li><a href="#综合案例二级菜单">综合案例——二级菜单</a></li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="什么是BOM"><a href="#什么是BOM" class="headerlink" title="什么是BOM"></a>什么是BOM</h3><p>BOM全程Browser Object Model，即浏览器对象模型。</p>
<p>BOM提供了独立于内容 而与浏览器窗口进行交互的对象；由于BOM主要用于管理窗口与窗口之间的通讯，因此其核心对象是window；BOM由一系列相关的对象构成，并且每个对象都提供了很多方法与属性；BOM缺乏标准，JavaScript语法的标准化组织是ECMA，DOM的标准化组织是W3C，BOM最初是Netscape浏览器标准的一部分。</p>
<hr>
<h3 id="BOM对象"><a href="#BOM对象" class="headerlink" title="BOM对象"></a>BOM对象</h3><p>更多：<a href="http://www.w3school.com.cn/jsref/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/index.asp</a>  Browser对象</p>
<p>这些BOM对象在浏览器中都是作为window对象的属性保存的，可以通过window对象来使用，也可以直接使用。</p>
<hr>
<h3 id="window"><a href="#window" class="headerlink" title="window"></a>window</h3><p>代表的是整个浏览器的窗口，同时也是网页中的全局对象。</p>
<p>window是最常用的BOM对象。</p>
<p>更多：<a href="http://www.w3school.com.cn/jsref/dom_obj_window.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_window.asp</a></p>
<hr>
<h4 id="setInterval-定时调动"><a href="#setInterval-定时调动" class="headerlink" title="setInterval()定时调动"></a>setInterval()定时调动</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> count = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnOn = <span class="built_in">document</span>.getElementById(<span class="string">"btnOn"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnOff = <span class="built_in">document</span>.getElementById(<span class="string">"btnOff"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 计数器</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num = <span class="number">1</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 定时器对象</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> timer;</span></span><br><span class="line"><span class="undefined">               </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 绑定点击事件，每点击一次开始，就会新建一个定时器！！！</span></span><br><span class="line"><span class="undefined">                 * 关闭定时器是，如果有多个定时器叠加在一起，只会关闭最新的一个。</span></span><br><span class="line"><span class="undefined">                 * 也就是说之前叠加的不会被关闭，仍然继续执行。</span></span><br><span class="line"><span class="undefined">                 * 所以在开启定时器之前，必须关闭同一对象上定时器！！！</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                btnOn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="javascript">                     * 关闭已有的定时器，如果是第一次点击，timer为<span class="literal">undefined</span>，无效值，会被忽略</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    clearInterval(timer);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * setInterval()</span></span><br><span class="line"><span class="undefined">                     *  - 定时调用</span></span><br><span class="line"><span class="undefined">                     *  - 将一个函数，每隔一定时间执行一次</span></span><br><span class="line"><span class="undefined">                     *  - 参数：</span></span><br><span class="line"><span class="undefined">                     *      1. 回调函数</span></span><br><span class="line"><span class="undefined">                     *      2. 间隔时间, 毫秒</span></span><br><span class="line"><span class="javascript">                     *  - 返回值：返回一个<span class="built_in">Number</span>类型的数据作为定时器标识</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                        count.innerHTML = num++;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;, 500);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btnOff.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 使用clearInterval(定时器标识)关闭指定的定时器</span></span><br><span class="line"><span class="undefined">                     * 如果传入的参数有效，则关闭对应的定时器，无效则忽略</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    clearInterval(timer);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnOn"</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnOff"</span>&gt;</span>停止<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在DOM基础中有一节内容按键事件控制div的移动中，浏览器的默认行为导致移动的第一次和第二次之间有卡顿，需要定时器来解决。这里我们来改造当时的代码。</p>
<p>我们将按键控制和移动功能分开，移动功能使用定时器刷新来实现。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 默认叔叔</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> speed = <span class="number">5</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 方向变量</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> dir = <span class="number">0</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 按钮按下只控制方向及速度</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    event = event || event;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(event.ctrlKey)&#123;</span></span><br><span class="line"><span class="undefined">                        speed = 10;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                        speed = 5;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    dir = event.keyCode;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 当按下松开时,div不再移动</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.onkeyup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    dir = 0;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * bug:</span></span><br><span class="line"><span class="undefined">                 * 这里还有一个小问题，就是长按时候的第一次与第二次间隔稍长。</span></span><br><span class="line"><span class="undefined">                 * 这是浏览器默认行为，需要定时器才能取消。见BOM基础！</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 开启一个定时器,来控制div的移动</span></span></span><br><span class="line"><span class="javascript">                setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 37 左</span></span><br><span class="line"><span class="undefined">                     * 38 上</span></span><br><span class="line"><span class="undefined">                     * 39 又</span></span><br><span class="line"><span class="undefined">                     * 40 下</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">switch</span>(dir)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">37</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.left = box1.offsetLeft - speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">38</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.top = box1.offsetTop - speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">39</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.left = box1.offsetLeft + speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">40</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.top = box1.offsetTop + speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;, 30);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="setTimeout-延时调动"><a href="#setTimeout-延时调动" class="headerlink" title="setTimeout()延时调动"></a>setTimeout()延时调动</h4><p>延时调用和定时调用用法完全相同，唯一的区别就是，延时调用只执行一次，定时调用会执行多次。</p>
<p>同样也可以使用关闭延时调用。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clearTimeout(定时器标识);</span><br></pre></td></tr></table></figure></p>
<p>延时调用和定时调用实际上是可以互相代替的，所以使用定时调用更好。</p>
<hr>
<h3 id="Navigator"><a href="#Navigator" class="headerlink" title="Navigator"></a>Navigator</h3><p>代表的是浏览器信息，通过该对象可以来识别不同的浏览器。</p>
<p>由于历史原因，Navigator对象中的大部分属性都已经不能帮助我们识别浏览器了。一般我们只会使用userAgent(等价于浏览器)来判断浏览器的信息，不同的浏览器有不同的userAgent。</p>
<p>更多：<a href="http://www.w3school.com.cn/jsref/dom_obj_navigator.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_navigator.asp</a></p>
<h4 id="userAgent"><a href="#userAgent" class="headerlink" title="userAgent"></a>userAgent</h4><ul>
<li><p>火狐：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; WOW64; rv:65.0) Gecko/20100101 Firefox/65.0</p>
</li>
<li><p>谷歌：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36</p>
</li>
<li><p>IE 11 (已经没有任何微软和IE的标识了)：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; rv:11.0) like Gecko</p>
</li>
<li><p>IE 10：</p>
<p>  Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</p>
</li>
<li><p>IE 9：</p>
<p>  Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</p>
</li>
<li><p>IE 8：</p>
<p>  Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</p>
</li>
<li><p>Edge (内置浏览器，其实也是用内置chrome)：</p>
<p>  Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/18.17763</p>
</li>
</ul>
<h4 id="内容说明"><a href="#内容说明" class="headerlink" title="内容说明"></a>内容说明</h4><ul>
<li><p>Mozilla/5.0 ：Mozilla基金会5.0版本。</p>
</li>
<li><p>Windows NT 10.0 ：Windows版本代号。Windows NT 10.0表示window10；Windows NT 6.1表示window7。</p>
</li>
<li><p>WOW64 ：64位系统。</p>
</li>
<li><p>rv:65.0 ：浏览器版本位65.0。</p>
</li>
<li><p>Gecko ：CSS渲染引擎名。最出名的一种。</p>
</li>
<li><p>Firefox / Chrome / Edge ：浏览器名称，用来判断是什么浏览器，除了缺德的IE11……</p>
</li>
</ul>
<h4 id="浏览器判断"><a href="#浏览器判断" class="headerlink" title="浏览器判断"></a>浏览器判断</h4><p>从userAgent中的浏览器名称可以判断出大部分浏览器，而IE11，因为没有任何标识，除了有“rv:11”浏览器版本标识可以大致判断是IE11，但是这种大致判断不一定可靠！！！此外还可以通过一些浏览器中特有的对象来判断浏览器信息，如ActiveXObject，是IE发送Ajax请求的，是IE特有的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ua = navigator.userAgent;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(ua);</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * - 通过忽略大小写的正则表达式校验userAgent来判断浏览器</span></span><br><span class="line"><span class="undefined">             *</span></span><br><span class="line"><span class="undefined">             * - 无法通过userAgent方式判断时，通过浏览器特有的对象来判断，常用的ActiveXObject。</span></span><br><span class="line"><span class="javascript">             *      - 通过双感叹号来转换成bool值判断是否有该对象。但是！！！IE11会造假！！！把ActiveXObject的改成<span class="literal">false</span>……</span></span><br><span class="line"><span class="javascript">             *      - 通过<span class="keyword">in</span>表达式来判断，这种方式无法造假。</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(<span class="regexp">/firefox/i</span>.test(ua))&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"火狐浏览器！"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="regexp">/chrome/i</span>.test(ua))&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"谷歌浏览器！"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="regexp">/msie/i</span>.test(ua))&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"IE浏览器！"</span>);</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"ActiveXObject"</span> <span class="keyword">in</span> <span class="built_in">window</span>)&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"IE11浏览器"</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h3><p>代表当前浏览器的地址栏信息，可以获取浏览器地址栏信息，或者操作浏览器跳转。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取location地址</span></span></span><br><span class="line"><span class="undefined">                alert(location);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 修改location</span></span><br><span class="line"><span class="undefined">                 * 和assign()方法效果相同</span></span><br><span class="line"><span class="undefined">                 */ </span></span><br><span class="line"><span class="javascript">                location = <span class="string">"https://www.baidu.com/"</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * reload()</span></span><br><span class="line"><span class="undefined">                 * 重新加载当前页面，刷新当前页面，会有历史记录，可回退</span></span><br><span class="line"><span class="javascript">                 * 如果传递<span class="literal">true</span>，则会强制清空缓存刷新页面，即ctrl+F5效果</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                location.reload(<span class="literal">true</span>);      </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * replace()</span></span><br><span class="line"><span class="undefined">                 * 可以使用一个新的页面替代当前页面，没有历史记录，不能回退</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                location.replace();</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="History"><a href="#History" class="headerlink" title="History"></a>History</h3><p>代表浏览器的历史记录，同时通过该对象来操作浏览器的历史记录。由于隐式原因，该对象不能获取到具体的历史记录，只能操作浏览器向前或向后翻页，并且只在当次访问时有效。</p>
<p>更多：<a href="http://www.w3school.com.cn/jsref/dom_obj_history.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_history.asp</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * length: 获取当前访问数量</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                alert(<span class="built_in">window</span>.history.length);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * back()</span></span><br><span class="line"><span class="undefined">                 * 返回上一个页面，和浏览器回退按钮功能一样</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                history.back();</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * forward()</span></span><br><span class="line"><span class="undefined">                 * 返回下一个页面，和浏览器回前进按钮功能一样</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                history.forward();</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * go(int)</span></span><br><span class="line"><span class="undefined">                 * 跳转到指定的页面</span></span><br><span class="line"><span class="undefined">                 * - 整数：相当于forward()，向前跳n个页面</span></span><br><span class="line"><span class="undefined">                 * - 负数：相当于back()，向后跳n个页面</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                history.go(1);</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>history<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Screen"><a href="#Screen" class="headerlink" title="Screen"></a>Screen</h3><p>代表用户的屏幕信息，通过该对象可以获取到用户的显示器的相关信息。</p>
<p>不常用。</p>
<hr>
<h3 id="综合案例——动画"><a href="#综合案例——动画" class="headerlink" title="综合案例——动画"></a>综合案例——动画</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	*&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">                left: 0px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 获取样式值 </span></span><br><span class="line"><span class="undefined">             * 兼容IE8及常见浏览器</span></span><br><span class="line"><span class="undefined">             * obj：对象</span></span><br><span class="line"><span class="undefined">             * name：样式名字符串</span></span><br><span class="line"><span class="undefined">             * 返回值： 属性值字符串</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 正常浏览器</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// IE8</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> obj.currentStyle[name];</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 参数：</span></span><br><span class="line"><span class="undefined">             *  obj: 要执行动画的对象</span></span><br><span class="line"><span class="undefined">             *  attr: 要执行的动画样式。如：left/top/width/height，string值</span></span><br><span class="line"><span class="undefined">             *  speed: 移动速度绝对值</span></span><br><span class="line"><span class="undefined">             *  target: 上下限</span></span><br><span class="line"><span class="undefined">             *  callback: 回调函数，可以添加默认！回调函数有无限可能^——^</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, speed, target, callback</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 关闭上一个定时器</span></span></span><br><span class="line"><span class="undefined">                clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 判断速度的正负值,即左右运动方向</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(<span class="built_in">parseInt</span>(getStyle(obj, attr)) &gt; target)&#123;</span></span><br><span class="line"><span class="undefined">                    speed = -speed;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 开启一个定时器,用来执行动画效果</span></span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 先执行动画的对象中添加一个timer对象，用来保存自己的定时器</span></span><br><span class="line"><span class="undefined">                 * 避免多个对象同时使用定时器造成混乱</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                obj.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取obj的attr</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 在旧值基础上增加</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> newValue = oldValue + speed;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 判断最值</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>((speed &lt; <span class="number">0</span> &amp;&amp; newValue &lt; target) || (speed &gt; <span class="number">0</span> &amp;&amp; newValue &gt; target))&#123;</span></span><br><span class="line"><span class="undefined">                        newValue = target;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 新值设置给obj</span></span></span><br><span class="line"><span class="javascript">                    obj.style[attr] = newValue + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 当元素移动到400px时,停止执行动画</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(newValue == target)&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 关闭定时器</span></span></span><br><span class="line"><span class="undefined">                        clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 动画执行完毕的回调函数,只有有回调函数时候才执行,也就是可以不传回调函数!!!</span></span></span><br><span class="line"><span class="undefined">                        callback &amp;&amp; callback();</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;, 30);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">//</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnMoveRight = <span class="built_in">document</span>.getElementById(<span class="string">"btnMoveRight"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnMoveLeft = <span class="built_in">document</span>.getElementById(<span class="string">"btnMoveLeft"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnMoveDown = <span class="built_in">document</span>.getElementById(<span class="string">"btnMoveDown"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnMoveUp = <span class="built_in">document</span>.getElementById(<span class="string">"btnMoveUp"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnWidthUp = <span class="built_in">document</span>.getElementById(<span class="string">"btnWidthUp"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btnWidthDown = <span class="built_in">document</span>.getElementById(<span class="string">"btnWidthDown"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btnMoveRight.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"left"</span>, <span class="number">10</span>, <span class="number">400</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnMoveLeft.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"left"</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnMoveDown.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"top"</span>, <span class="number">10</span>, <span class="number">400</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnMoveUp.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"top"</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnWidthUp.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"width"</span>, <span class="number">10</span>, <span class="number">400</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btnWidthDown.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    move(box1, <span class="string">"width"</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'动画执行完毕'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveRight"</span>&gt;</span>向右移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveLeft"</span>&gt;</span>向左移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveDown"</span>&gt;</span>向下移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnMoveUp"</span>&gt;</span>向上移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnWidthUp"</span>&gt;</span>宽度增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnWidthDown"</span>&gt;</span>宽度减少<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="综合案例——轮播图"><a href="#综合案例——轮播图" class="headerlink" title="综合案例——轮播图"></a>综合案例——轮播图</h3><p>结合setInterval()定时调动和动画效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	*&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#outer</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 520px;</span></span><br><span class="line"><span class="undefined">                height: 333px;</span></span><br><span class="line"><span class="undefined">                margin: 50px auto;</span></span><br><span class="line"><span class="undefined">                background-color: greenyellow;</span></span><br><span class="line"><span class="undefined">                padding: 10px 0;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 父元素开启相对定位 */</span></span></span><br><span class="line"><span class="undefined">                position: relative;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 裁剪多余的内容 */</span></span></span><br><span class="line"><span class="undefined">                overflow: hidden;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#imgList</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 去除项目符号 */</span></span></span><br><span class="line"><span class="undefined">                list-style: none;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 子元素开启绝对定位 */</span></span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="comment">/* 设置图片中的li */</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#imgList</span> <span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置浮动，将垂直排列变成水平排列 */</span></span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">                margin: 0 10px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="comment">/* 设置导航按钮 */</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#navDiv</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 开启绝对定位 */</span></span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置位置 */</span></span></span><br><span class="line"><span class="undefined">                bottom: 15px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#navDiv</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置浮动 */</span></span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">                width: 15px;</span></span><br><span class="line"><span class="undefined">                height: 15px;</span></span><br><span class="line"><span class="undefined">                margin: 0 5px;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background-color</span>: <span class="selector-id">#FF0000</span>;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置透明 */</span></span></span><br><span class="line"><span class="css">                <span class="selector-tag">opacity</span>: 0<span class="selector-class">.5</span>;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 兼容IE透明 */</span></span></span><br><span class="line"><span class="undefined">                filter: alpha(opacity = 50);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="comment">/* 鼠标移入效果 */</span></span></span><br><span class="line"><span class="css">            <span class="selector-id">#navDiv</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="undefined">                background-color: black;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 获取样式值 </span></span><br><span class="line"><span class="undefined">             * 兼容IE8及常见浏览器</span></span><br><span class="line"><span class="undefined">             * obj：对象</span></span><br><span class="line"><span class="undefined">             * name：样式名字符串</span></span><br><span class="line"><span class="undefined">             * 返回值： 属性值字符串</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 正常浏览器</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// IE8</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> obj.currentStyle[name];</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 参数：</span></span><br><span class="line"><span class="undefined">             *  obj: 要执行动画的对象</span></span><br><span class="line"><span class="undefined">             *  attr: 要执行的动画样式。如：left/top/width/height</span></span><br><span class="line"><span class="undefined">             *  speed: 移动速度绝对值</span></span><br><span class="line"><span class="undefined">             *  target: 上下限</span></span><br><span class="line"><span class="undefined">             *  callback: 回调函数，可以添加默认！回调函数有无限可能^——^</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, speed, target, callback</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 关闭上一个定时器</span></span></span><br><span class="line"><span class="undefined">                clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 判断速度的正负值,即左右运动方向</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(<span class="built_in">parseInt</span>(getStyle(obj, attr)) &gt; target)&#123;</span></span><br><span class="line"><span class="undefined">                    speed = -speed;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 开启一个定时器,用来执行动画效果</span></span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 先执行动画的对象中添加一个timer对象，用来保存自己的定时器</span></span><br><span class="line"><span class="undefined">                 * 避免多个对象同时使用定时器造成混乱</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                obj.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 获取obj的attr</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 在旧值基础上增加</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> newValue = oldValue + speed;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 判断最值</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>((speed &lt; <span class="number">0</span> &amp;&amp; newValue &lt; target) || (speed &gt; <span class="number">0</span> &amp;&amp; newValue &gt; target))&#123;</span></span><br><span class="line"><span class="undefined">                        newValue = target;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 新值设置给obj</span></span></span><br><span class="line"><span class="javascript">                    obj.style[attr] = newValue + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 当元素移动到400px时,停止执行动画</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(newValue == target)&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 关闭定时器</span></span></span><br><span class="line"><span class="undefined">                        clearInterval(obj.timer);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 动画执行完毕的回调函数,只有有回调函数时候才执行,也就是可以不传回调函数!!!</span></span></span><br><span class="line"><span class="undefined">                        callback &amp;&amp; callback();</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;, 30);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 设置ul的宽度</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取imgList</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> imgList = <span class="built_in">document</span>.getElementById(<span class="string">"imgList"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取ul中所有img标签</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> imgArr = imgList.getElementsByTagName(<span class="string">"img"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置imgList的宽度</span></span></span><br><span class="line"><span class="javascript">                imgList.style.width = <span class="number">520</span> * imgArr.length + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 设置导航按钮的位置居中</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取navDiv</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> navDiv = <span class="built_in">document</span>.getElementById(<span class="string">"navDiv"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取outer</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> outer = <span class="built_in">document</span>.getElementById(<span class="string">"outer"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置navDiv的left值</span></span></span><br><span class="line"><span class="javascript">                navDiv.style.left = (outer.offsetWidth - navDiv.offsetWidth)/<span class="number">2</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 默认显示图片的索引</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> index = <span class="number">0</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 获取所有的a并设置默认选中效果</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> allA = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 设置默认选中的效果</span></span></span><br><span class="line"><span class="javascript">                allA[index].style.backgroundColor = <span class="string">"black"</span>;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 点击超链接切换到指定的图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;allA.length; i++) &#123;</span></span><br><span class="line"><span class="undefined">                	</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 为超链接添加索引属性</span></span></span><br><span class="line"><span class="undefined">                    allA[i].num = i;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 为超链接绑定单击响应函数</span></span></span><br><span class="line"><span class="javascript">                    allA[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 关闭自动切换的定时器</span></span></span><br><span class="line"><span class="undefined">                        clearInterval(timer);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 获取点击超链接的索引,并将其设置为index</span></span></span><br><span class="line"><span class="javascript">                        index = <span class="keyword">this</span>.num;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 切换图片</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//imgList.style.left = "-" + 520 * index + "px";</span></span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 使用move函数切换图片</span></span></span><br><span class="line"><span class="javascript">                        move(imgList, <span class="string">"left"</span>, <span class="number">30</span>, <span class="number">-520</span>*index, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">/* 重新开始自动切换图片 */</span></span></span><br><span class="line"><span class="undefined">                            autoChange();</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 修改选中的a</span></span></span><br><span class="line"><span class="undefined">                        setA();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 自动切换图片</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                autoChange();</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 定时器对象</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> timer;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 开启自动切换</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">autoChange</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 开启定时器</span></span></span><br><span class="line"><span class="javascript">                    timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 索引自增</span></span></span><br><span class="line"><span class="undefined">                        index ++;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                        index %= imgArr.length;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        move(imgList, <span class="string">"left"</span>, <span class="number">30</span>, <span class="number">-520</span>*index, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 修改导航按钮</span></span></span><br><span class="line"><span class="undefined">                            setA();</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;, 2000);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 导航按钮的颜色改变的方法</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="keyword">function</span> <span class="title">setA</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                     </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 判断当前索引是否是最后一张额外的图片</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(index &gt;= imgArr.length - <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 修改index</span></span></span><br><span class="line"><span class="undefined">                        index = 0;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 通过css将最后一张切换成第一张,通过瞬移实现流畅</span></span></span><br><span class="line"><span class="javascript">                        imgList.style.left = <span class="number">0</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 清空a的内联背景样式,会露出css中的样式</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;allA.length; i++)&#123;</span></span><br><span class="line"><span class="javascript">                        allA[i].style.backgroundColor = <span class="string">""</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 将选中的a设置为黑色</span></span></span><br><span class="line"><span class="javascript">                    allA[index].style.backgroundColor = <span class="string">"black"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"imgList"</span>&gt;</span></span><br><span class="line">        		<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/2.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/3.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/4.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/5.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 最后一张和第一张重复，为了动画效果流畅 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 导航按钮 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"navDiv"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>轮播图演示效果：</p>
<p><img src="/2019/02/08/前端-JavaScript基础-BOM基础/轮播图效果.gif" alt="前端-JavaScript基础-BOM基础/轮播图效果.gif"></p>
<p>轮播图原理演示：</p>
<p><img src="/2019/02/08/前端-JavaScript基础-BOM基础/轮播图原理演示.gif" alt="前端-JavaScript基础-BOM基础/轮播图原理演示.gif"></p>
<hr>
<h3 id="综合案例——二级菜单"><a href="#综合案例——二级菜单" class="headerlink" title="综合案例——二级菜单"></a>综合案例——二级菜单</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/08/前端-JavaScript基础-BOM基础/" data-id="cjt5i3kpu003kcout6j7eul18" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BOM/">BOM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-浏览器兼容" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/01/前端-浏览器兼容/" class="article-date">
  <time datetime="2019-02-01T07:06:44.000Z" itemprop="datePublished">2019-02-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/01/前端-浏览器兼容/">前端-浏览器兼容</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：</p>
<ul>
<li>CSS透明</li>
<li>HTML父容器高度塌陷问题</li>
<li>DOM操作Css获取当前有效样式</li>
<li>DOM事件对象event</li>
<li>DOM多事件绑定<ul>
<li>addEventListener()</li>
<li>attachEvent()</li>
<li>浏览器兼容并统一this</li>
</ul>
</li>
<li>浏览器默认拖拽行为</li>
<li>DOM滚轮事件</li>
</ul>
<h3 id="CSS透明"><a href="#CSS透明" class="headerlink" title="CSS透明"></a>CSS透明</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在css中设置透明：</span><br><span class="line"></span><br><span class="line">/* 设置透明 */</span><br><span class="line">opacity: 0.5;</span><br><span class="line"></span><br><span class="line">/* 兼容IE透明 */</span><br><span class="line">filter: alpha(opacity = 50);</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="HTML父容器高度塌陷问题"><a href="#HTML父容器高度塌陷问题" class="headerlink" title="HTML父容器高度塌陷问题"></a>HTML父容器高度塌陷问题</h3><p>详细见博客《Html_Css常见问题解决》</p>
<p>即不添加多余的div结构，又要解决高度塌陷问题。使用CSS的方法，通过after伪类，向元素后添加一个空白的块元素，然后清除浮动，实现html方法添加div并设置clear的效果。</p>
<p>关键代码如下，只需要在出现高度塌陷的元素中使用这个类就能实现高度缺陷问题。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.clearfix:after&#123;</span><br><span class="line">    /* 添加一个空的内容 */</span><br><span class="line">    content: "";</span><br><span class="line">    /* 转换为一个块元素，block、table都行 */</span><br><span class="line">    display: block;</span><br><span class="line">    /* 清除浮动 */</span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 兼容IE6 */</span><br><span class="line">.clearfix&#123;</span><br><span class="line">    zoom: 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="DOM操作Css获取当前有效样式"><a href="#DOM操作Css获取当前有效样式" class="headerlink" title="DOM操作Css获取当前有效样式"></a>DOM操作Css获取当前有效样式</h3><p>获取当前有效样式：（只读，不可通过这种方式修改）</p>
<ul>
<li><p>IE8及以上：getComputedStyle(元素, 伪元素(null)).样式名;</p>
<ul>
<li>该方法返回一个对象，对象中封装了当前元素对应的样式，通过.样式名来读取样式。如果获取的样式没有设置，则返回获取到真实的值，而不是auto。</li>
<li>颜色值返回的是rgb值。</li>
</ul>
</li>
<li><p>IE8及以下：元素.currentStyle.样式名;</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/* </span><br><span class="line"> * 兼容IE8及常见浏览器</span><br><span class="line"> * obj：对象</span><br><span class="line"> * name：样式名字符串</span><br><span class="line"> * 返回值： 属性值字符串</span><br><span class="line"> */</span><br><span class="line">function getStyle(obj, name)&#123;</span><br><span class="line">    // 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span><br><span class="line">    if(window.getComputedStyle)&#123;</span><br><span class="line">        // 正常浏览器</span><br><span class="line">        return getComputedStyle(obj, null)[name];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // IE8</span><br><span class="line">        return obj.currentStyle[name];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IE中如果是默认值，会返回auto，所以最好是显示指定默认值。</p>
<hr>
<h3 id="DOM事件对象event"><a href="#DOM事件对象event" class="headerlink" title="DOM事件对象event"></a>DOM事件对象event</h3><p>在IE8中，响应函数被触发时，浏览器不会传递事件对象。在IE8及以下的浏览器中，是将事件对象作为window对象的属性保存的。火狐传递事件对象，不将事件对象保存到window中，所以，IE8与火狐之间发生冲突。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/* 兼容一： */</span><br><span class="line">if(!event)&#123;</span><br><span class="line">    event = window.event;</span><br><span class="line">&#125; </span><br><span class="line">/* 兼容二： */</span><br><span class="line">event = event || window.event;</span><br><span class="line"></span><br><span class="line">var x = event.clientX;</span><br><span class="line">var y = event.clientY;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="DOM多事件绑定"><a href="#DOM多事件绑定" class="headerlink" title="DOM多事件绑定"></a>DOM多事件绑定</h3><p>使用 “对象.事件 = 函数” 的形式绑定响应函数，它只能同时为一个元素的一个事件绑定一个响应函数，如果绑定多个，则后面的会覆盖前面的。</p>
<p>有些时候元素需要一个绑定事件有多个响应函数，可以通过addEventListener()来绑定响应函数。</p>
<p>但是addEventListener()不支持IE8及以下。可以使用attachEvent()来绑定。</p>
<h4 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener()"></a>addEventListener()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素.addEventListener(string，function()&#123;&#125;, false);</span><br></pre></td></tr></table></figure>
<p>addEventListener()中的this，是绑定事件的对象。</p>
<p>效果：元素就能同时绑定多个响应函数，响应函数依次执行，且不会被覆盖。</p>
<p>参数：</p>
<ul>
<li>事件字符串：对应的事件，不要on。如果onclick事件，只填”click”即可。</li>
<li>回调函数：事件触发时该函数会被调用。</li>
<li>是否捕获阶段触发事件，一般都是false。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'1'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'2'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>弹出对话框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="attachEvent"><a href="#attachEvent" class="headerlink" title="attachEvent()"></a>attachEvent()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素.attachEvent(string, function()&#123;&#125;);</span><br></pre></td></tr></table></figure>
<p>attachEvent()中的this，是window。</p>
<p>效果：元素就能同时绑定多个响应函数，响应函数倒序执行，且不会被覆盖。</p>
<p>参数：</p>
<ul>
<li>事件字符串：对应的事件，必须要on。如果onclick事件，填”onclick”。</li>
<li>回调函数：事件触发时该函数会被调用。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.attachEvent(<span class="string">"onlick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'1'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'2'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>弹出对话框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="浏览器兼容并统一this"><a href="#浏览器兼容并统一this" class="headerlink" title="浏览器兼容并统一this"></a>浏览器兼容并统一this</h4><p>这里需要兼容的地方有两个，一个浏览器，一个this。自定义了一bind()函数来兼容。this的兼容需要重点理解。</p>
<html><br>    <head><br>        <meta charset="utf-8"><br>        <title></title><br><br>        <script type="text/javascript"><br><br>            /<em>
             </em> 参数：<br>             <em> obj: 要绑定的事件的对象
             </em> eventStr: 事件的字符串(不要on)<br>             <em> callback: 回调函数
             </em>/<br>            function bind(obj, eventStr, callback){<br>                /*<em>
                 </em> 兼容浏览器<br>                 */<br>                if(obj.addEventListener){<br>                    // 大部分浏览器<br>                    obj.addEventListener(eventStr, callback, false);<br>                } else {<br>                    // IE8及以下浏览器，并在匿名函数中使用回调函数，统一this<br>                    obj.attachEvent(“on” + eventStr, function(){<br>                        // 在匿名函数中调用回调函数<br>                        callback.call(obj);<br>                    });<br>                }<br>            };<br><br>            window.onload = function(){<br>                var btn = document.getElementById(“btn”);<br>                bind(btn, “click”, function(){<br>                    alert(‘1’);<br>                });<br>                bind(btn, “click”, function(){<br>                    alert(‘2’);<br>                })<br><br>            };<br><br>        </script><br>    </head><br>    <body><br>        <button id="btn">弹出对话框</button><br>    </body><br></html>

<h3 id="浏览器默认拖拽行为"><a href="#浏览器默认拖拽行为" class="headerlink" title="浏览器默认拖拽行为"></a>浏览器默认拖拽行为</h3><p>我们拖拽一个网页中的内容时，浏览器会默认去搜索引擎中搜索内容，此时会导致拖拽功能异常。</p>
<ul>
<li>大部分浏览器中，通过return false取消浏览器默认行为。</li>
<li>IE8及以下，通过 “元素.setCapture(); ”事件捕获来实现，需要取消捕获。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">    // 为obj绑定按下事件</span><br><span class="line">    obj.onmousedown = function(event)&#123;</span><br><span class="line"></span><br><span class="line">    //设置obj捕获所有按下事件事件</span><br><span class="line">    /**</span><br><span class="line">     * setCapture()只在IE8及以下支持</span><br><span class="line">     */</span><br><span class="line">    obj.setCapture &amp;&amp; obj.setCapture();</span><br><span class="line"></span><br><span class="line">    // 为document绑定onmousemove事件</span><br><span class="line">    document.onmousemove = function(event)&#123;</span><br><span class="line">        ......</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    // 当鼠标松开时,被拖拽元素固定在当前位置</span><br><span class="line">    // 为document绑定抬起事件,不能给obj</span><br><span class="line">    document.onmouseup = function()&#123;</span><br><span class="line"></span><br><span class="line">        // 取消onmousemove事件</span><br><span class="line">        document.onmousemove = null;</span><br><span class="line">        // 取消onmouseup事件</span><br><span class="line">        document.onmouseup = null;</span><br><span class="line"></span><br><span class="line">        // 取消obj的事件捕获</span><br><span class="line">        obj.releaseCapture &amp;&amp; obj.releaseCapture();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 当我们拖拽一个网页中的内容时，浏览器会默认去搜索引擎中搜索内容，此时会导致拖拽功能异常</span><br><span class="line">     * </span><br><span class="line">     * IE9及以上，通过return false取消浏览器默认行为</span><br><span class="line">     * IE8及以下，通过 元素.setCapture(); 事件捕获来实现，需要取消捕获</span><br><span class="line">     */</span><br><span class="line">    return false;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="DOM滚轮事件"><a href="#DOM滚轮事件" class="headerlink" title="DOM滚轮事件"></a>DOM滚轮事件</h3><p>onmousewheel鼠标滚轮滚动的事件，但是火狐不支持；在火狐中有一个DOMMouseScroll事件，并通过addEventListener()来绑定滚动事件。</p>
<p>判断鼠标滚轮方向：</p>
<ul>
<li>非火狐：event.wheelDelta，向上120,向下-120</li>
<li>火狐：event.detail，向上-3,向下3</li>
</ul>
<p>当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动，取消浏览器滚轮默认行为：</p>
<ul>
<li>使用return false;取消默认行为。</li>
<li>使用addEventListener()方法绑定响应函数，需要使用event.preventDefault();来取消默认行为</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	#box1&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 多事件绑定，浏览器兼容</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, eventStr, callback</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 兼容浏览器</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(obj.addEventListener)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 大部分浏览器</span></span></span><br><span class="line"><span class="javascript">                    obj.addEventListener(eventStr, callback, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// IE8及以下浏览器，并在匿名函数中使用回调函数，统一this</span></span></span><br><span class="line"><span class="javascript">                    obj.attachEvent(<span class="string">"on"</span> + eventStr, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 在匿名函数中调用回调函数</span></span></span><br><span class="line"><span class="undefined">                        callback.call(obj);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 当鼠标滚轮向下滚动时，box1变长，反之变短</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 判断鼠标滚轮方向</span></span><br><span class="line"><span class="undefined">                 * 非火狐：event.wheelDelta，向上120,向下-120</span></span><br><span class="line"><span class="undefined">                 * 火狐：event.detail，向上-3,向下3</span></span><br><span class="line"><span class="undefined">                 */ </span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(event.wheelDelta &gt; <span class="number">0</span> || event.detail &lt; <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    box1.style.height = box1.clientHeight - <span class="number">10</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    box1.style.height = box1.clientHeight + <span class="number">10</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 取消event默认行为</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动</span></span><br><span class="line"><span class="javascript">                 * 使用<span class="keyword">return</span> <span class="literal">false</span>;取消默认行为。</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 但是使用addEventListener()方法绑定响应函数，需要使用event来取消默认行为。</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(event.preventDefault)&#123;</span></span><br><span class="line"><span class="undefined">                    event.preventDefault();</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取box</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为box1绑定一个鼠标滚轮的事件,兼容非火狐浏览器</span></span></span><br><span class="line"><span class="undefined">                box1.onmousewheel = fun;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * onmousewheel鼠标滚轮滚动的事件，但是火狐不支持</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 在火狐中有一个DOMMouseScroll事件，并通过addEventListener()来绑定滚动事件</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                bind(box1, <span class="string">"DOMMouseScroll"</span>, fun);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"height: 2000px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/02/01/前端-浏览器兼容/" data-id="cjt5i3kdi002gcout6k1e799z" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/浏览器兼容/">浏览器兼容</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/移动端/">移动端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-前端-JavaScript基础-DOM基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/19/前端-JavaScript基础-DOM基础/" class="article-date">
  <time datetime="2019-01-19T08:21:26.000Z" itemprop="datePublished">2019-01-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/19/前端-JavaScript基础-DOM基础/">JavaScript基础_DOM基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目录：<br><!-- TOC --></p>
<ul>
<li><a href="#什么是dom">什么是DOM</a></li>
<li><a href="#节点node">节点Node</a></li>
<li><a href="#document对象">document对象</a></li>
<li><a href="#dom对象方法实现增删改查">DOM对象方法实现增删改查</a><ul>
<li><a href="#appendchild-添加子节点">appendChild() 添加子节点</a></li>
<li><a href="#insertbefore-添加子节点">insertbefore() 添加子节点</a></li>
<li><a href="#replacechild-替换子节点">replaceChild() 替换子节点</a></li>
<li><a href="#removechild-删除子节点">removeChild() 删除子节点</a></li>
<li><a href="#parennode-获取父节点">parenNode() 获取父节点</a></li>
<li><a href="#innerhtml-查看修改节点内容">innerHTML() 查看/修改节点内容</a></li>
<li><a href="#折中innerhtmlappendchild添加子节点">折中innerHTML()+appendChild()添加子节点。</a></li>
<li><a href="#综合案例">综合案例</a></li>
</ul>
</li>
<li><a href="#dom操作css">DOM操作Css</a><ul>
<li><a href="#兼容浏览器">兼容浏览器</a></li>
</ul>
</li>
<li><a href="#事件">事件</a><ul>
<li><a href="#常见的事件">常见的事件</a></li>
<li><a href="#事件对象event">事件对象event</a></li>
<li><a href="#event对象常见属性">event对象常见属性</a></li>
<li><a href="#浏览器兼容事件对象event">浏览器兼容事件对象event</a></li>
<li><a href="#事件冒泡bubble">事件冒泡(Bubble)</a></li>
<li><a href="#事件的委派">事件的委派</a></li>
<li><a href="#多个事件的绑定">多个事件的绑定</a><ul>
<li><a href="#addeventlistener">addEventListener()</a></li>
<li><a href="#attachevent">attachEvent()</a></li>
<li><a href="#浏览器兼容并统一this">浏览器兼容并统一this</a></li>
</ul>
</li>
<li><a href="#事件的传播">事件的传播</a></li>
<li><a href="#综合案例鼠标事件之鼠标移动">综合案例——鼠标事件之鼠标移动</a></li>
<li><a href="#综合案例鼠标事件之拖拽">综合案例——鼠标事件之拖拽</a></li>
<li><a href="#综合案例鼠标事件之滚轮">综合案例——鼠标事件之滚轮</a></li>
<li><a href="#综合案例键盘事件">综合案例——键盘事件</a></li>
</ul>
</li>
<li><a href="#类的操作">类的操作</a></li>
<li><a href="#综合案例二级菜单">综合案例——二级菜单</a></li>
</ul>
<!-- /TOC -->
<hr>
<h3 id="什么是DOM"><a href="#什么是DOM" class="headerlink" title="什么是DOM"></a>什么是DOM</h3><p>DOM，由三个字符组成，全称Document Object Model文档对象模型。</p>
<p>JS中通过DOM来对HTML文档进行操作，只要理解了DOM就可以随心所欲的操作WEB页面。</p>
<ul>
<li>文档：文档表示的就是整个HTML网页文档</li>
<li>对象：表示网页中的每一个部分都转换为一个对象</li>
<li>模型：使用模型来表示对象之间的关系，这样方便我们获取对象</li>
</ul>
<p>DOM的模型树：</p>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/DOM-Tree.gif" alt="DOM文档树"></p>
<hr>
<h3 id="节点Node"><a href="#节点Node" class="headerlink" title="节点Node"></a>节点Node</h3><p>节点Node，是否城网页的最基本的组成部分，网页中的每一个部分都称为一个节点，如：html标签、属性、文本、注释、整个文档等。</p>
<p>常用节点分为四类：</p>
<ul>
<li>文档节点：整个HTML文档</li>
<li>元素节点：HTML文档中的标签</li>
<li>属性节点：元素的属性</li>
<li>文本节点：HTML标签中的文本内容</li>
</ul>
<hr>
<h3 id="document对象"><a href="#document对象" class="headerlink" title="document对象"></a>document对象</h3><p>浏览器已经为我们提供文档节点对象，这个对象时window属性，可以在页面中直接使用，文档节点代表的是整个网页。document对象就是我们的文档节点，就是整个网页。</p>
<p>我们可以通过document方法来获取整个网页，然后使用document的方法来控制网页。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">            btn.innerHTML = <span class="string">"I'm button"</span>;       <span class="comment">// 修改btn的内部代码</span></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<font color="red"><br>注意此处的script写的地方，是在body中，button之后。由于浏览器在加载一个页面时，它是按代码自上而下的顺序加载的，如果此处的script写在button之前，script中的代码对象为空，无法加载，会报错。<br><br>如果非要将此处的script代码写在head中，也可以！！！不过需要将这部分代码在onload事件加载整个页面之后再执行。这样，虽然这部分代码被加载了，但是并没有执行，整个页面加载完成之后再执行，此时其中对应的对象就能正常获取了。<br><br>如果是独立的方法则无所谓，因为方法是在<br></font>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;     <span class="comment">// 整个页面加载完成之后执行的代码</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">                btn.innerHTML = <span class="string">"I'm button"</span>;       <span class="comment">// 修改btn的内部代码</span></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="DOM对象方法实现增删改查"><a href="#DOM对象方法实现增删改查" class="headerlink" title="DOM对象方法实现增删改查"></a>DOM对象方法实现增删改查</h3><p>document对象包含的方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>具体描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>getElementById()</td>
<td>根据指定id属性值得到一个元素节点对象</td>
</tr>
<tr>
<td>getElementByName()</td>
<td>根据指定的Name属性值得到一组元素节点对象</td>
</tr>
<tr>
<td>getElementByTagName()</td>
<td>根据指定的标签名得到一组元素节点的对象</td>
</tr>
<tr>
<td>querySelector()</td>
<td>根据css选择器得到一个元素节点对象，支持IE8</td>
</tr>
<tr>
<td>querySelectorAll()</td>
<td>根据css选择器得到一组元素节点对象，支持IE8</td>
</tr>
<tr>
<td>appendChild()</td>
<td>把新的子节点添加到指定节点中</td>
</tr>
<tr>
<td>removeChild()</td>
<td>删除子节点</td>
</tr>
<tr>
<td>replaceChild()</td>
<td>替换子节点</td>
</tr>
<tr>
<td>insertBefore()</td>
<td>在指定的子节点前面插入新的子节点</td>
</tr>
<tr>
<td>createAttribute()</td>
<td>创建属性节点</td>
</tr>
<tr>
<td>createElement()</td>
<td>创建元素节点</td>
</tr>
<tr>
<td>createTextNode()</td>
<td>创建文本节点</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="appendChild-添加子节点"><a href="#appendChild-添加子节点" class="headerlink" title="appendChild() 添加子节点"></a>appendChild() 添加子节点</h4><p>向父节点中添加一个新的子节点。首先必须创建该元素，然后把它追加到已有的元素上，放在最后。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父节点.appendChild(子节点);</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建p标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementP = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建Text文本标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementText = <span class="built_in">document</span>.createTextNode(<span class="string">"123"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将Text文本标签添加到p标签中 */</span></span></span><br><span class="line"><span class="undefined">                newElementP.appendChild(newElementText);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为div1的标签节点 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父节点.appendChild(新节点); */</span></span></span><br><span class="line"><span class="undefined">                div1.appendChild(newElementP);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="insertbefore-添加子节点"><a href="#insertbefore-添加子节点" class="headerlink" title="insertbefore() 添加子节点"></a>insertbefore() 添加子节点</h4><p>在指定的子节点前面插入新的子节点。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建p标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementP = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建Text文本标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementText = <span class="built_in">document</span>.createTextNode(<span class="string">"New paragraph."</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将Text文本标签添加到p标签中 */</span></span></span><br><span class="line"><span class="undefined">                newElementP.appendChild(newElementText);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为p1的标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父容器.insertBrfor(新节点, 指定节点); */</span></span></span><br><span class="line"><span class="undefined">                div1.insertBefore(newElementP, p1);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is first paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is second paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">This is first paragraph.</span><br><span class="line">New paragraph.</span><br><span class="line">This is second paragraph.</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="replaceChild-替换子节点"><a href="#replaceChild-替换子节点" class="headerlink" title="replaceChild() 替换子节点"></a>replaceChild() 替换子节点</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建p标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementP = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建Text文本标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementText = <span class="built_in">document</span>.createTextNode(<span class="string">"New paragraph."</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将Text文本标签添加到p标签中 */</span></span></span><br><span class="line"><span class="undefined">                newElementP.appendChild(newElementText);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为p1的标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父容器.replaceChild(新节点, 旧节点); */</span></span></span><br><span class="line"><span class="undefined">                div1.replaceChild(newElementP, p1);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is first paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is second paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="removeChild-删除子节点"><a href="#removeChild-删除子节点" class="headerlink" title="removeChild() 删除子节点"></a>removeChild() 删除子节点</h4><p>删除指定子节点。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为p1的标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父节点.removeChild(子节点) */</span></span></span><br><span class="line"><span class="undefined">                div1.removeChild(p1);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is first paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is second paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="parenNode-获取父节点"><a href="#parenNode-获取父节点" class="headerlink" title="parenNode() 获取父节点"></a>parenNode() 获取父节点</h4><p>因为节点的增删改都是父节点的属性，因此，为了方便获取某个节点的父节点，就有了通过子节点来查询父节点的操作。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">子节点.parentNode.xxxChild(子节点);</span><br></pre></td></tr></table></figure>
<p>这样要对某个节点进行删除之类的操作，就不同再单独获取它的父节点，就能进行了。</p>
<hr>
<h4 id="innerHTML-查看-修改节点内容"><a href="#innerHTML-查看-修改节点内容" class="headerlink" title="innerHTML() 查看/修改节点内容"></a>innerHTML() 查看/修改节点内容</h4><p>innerHTML()方法可以查看节点的内容，也可以给节点.innerHTML赋值修改内容。所以这种方式也可以实现添加删除的功能，但是动作比较大，有弊端，但是写法比较方便。所以，建议和上面的方法结合使用，而不是全部使用innerHTML方式添加内容。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为p1的标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">"p1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 查看p1节点的内容 */</span></span></span><br><span class="line"><span class="undefined">                alert(p1.innerHTML);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 修改p1内容 */</span></span></span><br><span class="line"><span class="javascript">                p1.innerHTML = <span class="string">"New paragraph."</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is first paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is second paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="折中innerHTML-appendChild-添加子节点。"><a href="#折中innerHTML-appendChild-添加子节点。" class="headerlink" title="折中innerHTML()+appendChild()添加子节点。"></a>折中innerHTML()+appendChild()添加子节点。</h4><p>使用这种折中的方式实现添加节点，可以减少代码使用量，同时也不会大幅度改变代码。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建p标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementP = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 方法一： */</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 新建Text文本标签 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newElementText = <span class="built_in">document</span>.createTextNode(<span class="string">"New paragraph."</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将Text文本标签添加到p标签中 */</span></span></span><br><span class="line"><span class="undefined">                newElementP.appendChild(newElementText);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 方法二： */</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 将新建完的p标签直接使用innerHTML添加文本内容。 */</span></span></span><br><span class="line"><span class="javascript">                newElementP.innerHTML = <span class="string">"New paragraph."</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 获取id为div1的标签节点 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 父节点.appendChild(新节点); */</span></span></span><br><span class="line"><span class="undefined">                div1.appendChild(newElementP);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h4><p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/综合案例.jpg" alt="综合案例"><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>添加删除记录练习<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css/css.css"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 删除一行的响应函数 */</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">Del</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 删除对应行</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取当前tr，这里只能用this，获取当前的a</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> tr = <span class="keyword">this</span>.parentNode.parentNode;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取名字</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = tr.getElementsByTagName(<span class="string">"td"</span>)[<span class="number">0</span>].innerHTML;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 确认弹出框</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> flag = confirm(<span class="string">"是否确认删除"</span> + name);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 删除</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(flag)&#123;</span></span><br><span class="line"><span class="undefined">                    tr.parentNode.removeChild(tr);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 取消超链接默认行为</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="comment">/* 添加员工信息 */</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">Add</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取信息</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = <span class="built_in">document</span>.getElementById(<span class="string">"empName"</span>).value;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> email = <span class="built_in">document</span>.getElementById(<span class="string">"email"</span>).value;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> salary = <span class="built_in">document</span>.getElementById(<span class="string">"salary"</span>).value;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// alert(name + "," + email + "," + salary);</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /* 纯DOM方法拼tr，复杂！！！</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 创建四个td</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTdName = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTdEmail = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTdSalary = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newA = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 创建一个a</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 添加td和a中的文本内容</span></span></span><br><span class="line"><span class="undefined">                newTdName.innerHTML = name;</span></span><br><span class="line"><span class="undefined">                newTdEmail.innerHTML = email;</span></span><br><span class="line"><span class="undefined">                newTdSalary.innerHTML = salary;</span></span><br><span class="line"><span class="javascript">                a.innerHTML = <span class="string">"Delete"</span>;</span></span><br><span class="line"><span class="javascript">                a.href = <span class="string">"javascript:;"</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为新加的a绑定删除事件</span></span></span><br><span class="line"><span class="undefined">                a.onclick = Del;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 将a添加到td中</span></span></span><br><span class="line"><span class="undefined">                newA.appendChild(a);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 创建tr，并将td添加到tr中</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTr = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="undefined">                newTr.appendChild(newTdName);</span></span><br><span class="line"><span class="undefined">                newTr.appendChild(newTdEmail);</span></span><br><span class="line"><span class="undefined">                newTr.appendChild(newTdSalary);</span></span><br><span class="line"><span class="undefined">                newTr.appendChild(newA);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">//alert(newTr.innerHTML);</span></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 结合innerHTML,拼tr字符串,简单</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> newTr = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">                newTr.innerHTML = <span class="string">"&lt;td&gt;"</span> + name + <span class="string">"&lt;/td&gt;"</span></span></span><br><span class="line"><span class="javascript">                                    + <span class="string">"&lt;td&gt;"</span> + email + <span class="string">"&lt;/td&gt;"</span></span></span><br><span class="line"><span class="javascript">                                    + <span class="string">"&lt;td&gt;"</span> + salary + <span class="string">"&lt;/td&gt;"</span></span></span><br><span class="line"><span class="xml">                                    + "<span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'javascript:;'</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span>";</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 给a绑定单击响应函数</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> a = newTr.getElementsByTagName(<span class="string">"a"</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="undefined">                a.onclick = Del;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取table</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> table = <span class="built_in">document</span>.getElementById(<span class="string">"employeeTable"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取tbody</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> tbody = table.getElementsByTagName(<span class="string">"tbody"</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="undefined">                tbody.appendChild(newTr);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> allA = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 给当前的每一个a添加绑定事件 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; allA.length; i++)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 注意for循环的执行和响应函数的执行顺序</span></span></span><br><span class="line"><span class="undefined">                    allA[i].onclick = Del;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">/* 添加员工的功能 */</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> botton = <span class="built_in">document</span>.getElementById(<span class="string">"addEmpButton"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 绑定点击事件</span></span></span><br><span class="line"><span class="undefined">                botton.onclick = Add;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">"employeeTable"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>Salary<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Tom<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>tom@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>5000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Jerry<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>jerry@sohu.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>8000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Bob<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>bob@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>10000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"formDiv"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h4</span>&gt;</span>添加新员工<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>name: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"empName"</span> <span class="attr">id</span>=<span class="string">"empName"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>email: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>salary: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"salary"</span> <span class="attr">id</span>=<span class="string">"salary"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"addEmpButton"</span>&gt;</span></span><br><span class="line">                            Submit</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>可以使用事件委派来完善删除的监听函数。</p>
<hr>
<h3 id="DOM操作Css"><a href="#DOM操作Css" class="headerlink" title="DOM操作Css"></a>DOM操作Css</h3><p>DOM中操作Css规则如下：</p>
<ul>
<li><p>设置内联样式CSS：元素.style.样式名 = “样式值”; </p>
</li>
<li><p>读取内联样式CSS：var a = 元素.style.样式名;       // 如：a = 200px；无法读取style样式表中的样式</p>
</li>
<li><p>获取当前有效样式：（只读，不可通过这种方式修改）</p>
<ul>
<li><p>IE8及以上：getComputedStyle(元素, 伪元素(null)).样式名;<br>  该方法返回一个对象，对象中封装了当前元素对应的样式，通过.样式名来读取样式。如果获取的样式没有设置，则返回获取到真实的值，而不是auto。<br>  颜色值返回的是rgb值。</p>
</li>
<li><p>IE8及以下：元素.currentStyle.样式名;</p>
</li>
</ul>
</li>
<li><p>如果CSS样式名中含有’-‘，如background-color，此时需要将这种有样式名改为驼峰命名法。</p>
</li>
</ul>
<p>我们通过这个方式设置的样式都是内联样式，有较高的优先级，通过JS修改的有样式会立即修改。但是如果在style样式表中写了’!important’，此时JS修改无效。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 200px;</span></span><br><span class="line"><span class="undefined">                height: 200px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /*</span></span><br><span class="line"><span class="undefined">                 * 点击按钮修改box1大小</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取box1</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 绑定单击响应函数</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">"btn01"</span>);</span></span><br><span class="line"><span class="javascript">                btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 修改box1的宽度</span></span></span><br><span class="line"><span class="javascript">                    box1.style.width = <span class="string">"400px"</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    box1.style.backgroundColor = <span class="string">"aqua"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn01"</span>&gt;</span>修改<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>更多详见CSS手册：<a href="http://www.w3school.com.cn/cssref/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/cssref/index.asp</a></p>
<h4 id="兼容浏览器"><a href="#兼容浏览器" class="headerlink" title="兼容浏览器"></a>兼容浏览器</h4><p>从上可以知道，不同浏览器之间不兼容。而且，都写也会报错！！！所以要做到兼容，最好还是自己写。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/* </span><br><span class="line"> * 兼容IE8及常见浏览器</span><br><span class="line"> * obj：对象</span><br><span class="line"> * name：样式名字符串</span><br><span class="line"> * 返回值： 属性值字符串</span><br><span class="line"> */</span><br><span class="line">function getStyle(obj, name)&#123;</span><br><span class="line">    // 因为判断浏览器比较麻烦,所以我们通过判断是window中是否有getComputedStyle方法来判断使用哪种方式</span><br><span class="line">    if(window.getComputedStyle)&#123;</span><br><span class="line">        // 正常浏览器</span><br><span class="line">        return getComputedStyle(obj, null)[name];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // IE8</span><br><span class="line">        return obj.currentStyle[name];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><p>参考文档：<a href="http://www.w3school.com.cn/jsref/dom_obj_event.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/jsref/dom_obj_event.asp</a></p>
<p>事件，就是文档或浏览器窗口中发生的一些特定的交互瞬间。JavaScript和HTML之间的交互式通过事件实现的。如，鼠标点击、鼠标移动、关闭窗口等。</p>
<p>我们可以在事件对应的属性中设置一些js代码，这样当事件触发时，这些代码将会执行。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"alert('讨厌,点我干嘛')"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>为了解决结构和行为耦合，可以为按钮的对应事件绑定处理函数来响应事件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>"&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">"讨厌,点我干嘛"</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">script|</span> &gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">bod|</span> <span class="attr">y</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="常见的事件"><a href="#常见的事件" class="headerlink" title="常见的事件"></a>常见的事件</h4><table>
<thead>
<tr>
<th>属性</th>
<th>事件发生时间</th>
</tr>
</thead>
<tbody>
<tr>
<td>onabort</td>
<td>图像的加载被中断。</td>
</tr>
<tr>
<td>onblur</td>
<td>元素失去焦点。</td>
</tr>
<tr>
<td>onchange</td>
<td>域的内容被改变。</td>
</tr>
<tr>
<td>onclick</td>
<td>当用户点击某个对象时调用的事件句柄。</td>
</tr>
<tr>
<td>ondblclick</td>
<td>当用户双击某个对象时调用的事件句柄。</td>
</tr>
<tr>
<td>onerror</td>
<td>在加载文档或图像时发生错误。</td>
</tr>
<tr>
<td>onfocus</td>
<td>元素获得焦点。</td>
</tr>
<tr>
<td>onkeydown</td>
<td>某个键盘按键被按下。</td>
</tr>
<tr>
<td>onkeypress</td>
<td>某个键盘按键被按下并松开。</td>
</tr>
<tr>
<td>onkeyup</td>
<td>某个键盘按键被松开。</td>
</tr>
<tr>
<td>onload</td>
<td>一张页面或一幅图像完成加载。</td>
</tr>
<tr>
<td>onmousedown</td>
<td>鼠标按钮被按下。</td>
</tr>
<tr>
<td>onmousemove</td>
<td>鼠标被移动。</td>
</tr>
<tr>
<td>onmouseout</td>
<td>鼠标从某元素移开。</td>
</tr>
<tr>
<td>onmouseover</td>
<td>鼠标移到某元素之上。</td>
</tr>
<tr>
<td>onmouseup</td>
<td>鼠标按键被松开。</td>
</tr>
<tr>
<td>onreset</td>
<td>重置按钮被点击。</td>
<td></td>
</tr>
<tr>
<td>onresize</td>
<td>窗口或框架被重新调整大小。</td>
</tr>
<tr>
<td>onselect</td>
<td>文本被选中。</td>
</tr>
<tr>
<td>onsubmit</td>
<td>确认按钮被点击。</td>
</tr>
<tr>
<td>onunload</td>
<td>用户退出页面。</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="事件对象event"><a href="#事件对象event" class="headerlink" title="事件对象event"></a>事件对象event</h4><p>当事件的响应函数被触发时，浏览器每次都会将一个事件对象作为实参传递进响应函数。在事件对象中封装了当前事件相关的一切信息，如，鼠标坐标、键盘按下、鼠标滚轮滚动方向……</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* 其中event就是事件对象，也可以自命名 */</span><br><span class="line">对象.事件 = function(event)&#123;</span><br><span class="line">    x = event.clientX;      // 通过事件对象中的属性来获取值</span><br><span class="line">    y = event.clientY;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="event对象常见属性"><a href="#event对象常见属性" class="headerlink" title="event对象常见属性"></a>event对象常见属性</h4><table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>altKey</td>
<td>返回当事件被触发时，”ALT” 是否被按下。</td>
</tr>
<tr>
<td>button</td>
<td>返回当事件被触发时，哪个鼠标按钮被点击。</td>
</tr>
<tr>
<td>clientX</td>
<td>返回当事件被触发时，鼠标指针的水平坐标。</td>
</tr>
<tr>
<td>clientY</td>
<td>返回当事件被触发时，鼠标指针的垂直坐标。</td>
</tr>
<tr>
<td>ctrlKey</td>
<td>返回当事件被触发时，”CTRL” 键是否被按下。</td>
</tr>
<tr>
<td>metaKey</td>
<td>返回当事件被触发时，”meta” 键是否被按下。</td>
</tr>
<tr>
<td>relatedTarget</td>
<td>返回与事件的目标节点相关的节点。</td>
</tr>
<tr>
<td>screenX</td>
<td>返回当某个事件被触发时，鼠标指针的水平坐标。</td>
</tr>
<tr>
<td>screenY</td>
<td>返回当某个事件被触发时，鼠标指针的垂直坐标。</td>
</tr>
<tr>
<td>shiftKey</td>
<td>返回当事件被触发时，”SHIFT” 键是否被按下。</td>
</tr>
<tr>
<td>cancelBubble</td>
<td>如果事件句柄想阻止事件传播到包容对象，必须把该属性设为 true。</td>
</tr>
<tr>
<td>fromElement</td>
<td>对于 mouseover 和 mouseout 事件，fromElement 引用移出鼠标的元素。</td>
</tr>
<tr>
<td>keyCode</td>
<td>对于 keypress 事件，该属性声明了被敲击的键生成的 Unicode 字符码.对于 keydown 和 keyup 事件，它指定了被敲击的键的虚拟键盘码。虚拟键盘码可能和使用的键盘的布局相关。</td>
</tr>
<tr>
<td>offsetX,offsetY</td>
<td>发生事件的地点在事件源元素的坐标系统中的 x 坐标和 y 坐标。</td>
</tr>
<tr>
<td>returnValue</td>
<td>如果设置了该属性，它的值比事件句柄的返回值优先级高。把这个属性设置为 fasle，可以取消发生事件的源元素的默认动作。</td>
</tr>
<tr>
<td>srcElement</td>
<td>对于生成事件的 Window 对象、Document 对象或 Element 对象的引用。</td>
</tr>
<tr>
<td>toElement</td>
<td>对于 mouseover 和 mouseout 事件，该属性引用移入鼠标的元素。</td>
</tr>
<tr>
<td>x,y</td>
<td>事件发生的位置的 x 坐标和 y 坐标，它们相对于用CSS动态定位的最内。</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="浏览器兼容事件对象event"><a href="#浏览器兼容事件对象event" class="headerlink" title="浏览器兼容事件对象event"></a>浏览器兼容事件对象event</h4><p>在IE8中，响应函数被触发时，浏览器不会传递事件对象。在IE8及以下的浏览器中，是将事件对象作为window对象的属性保存的。火狐传递事件对象，不将事件对象保存到window中，所以，IE8与火狐之间发生冲突。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/* 兼容一： */</span><br><span class="line">if(!event)&#123;</span><br><span class="line">    event = window.event;</span><br><span class="line">&#125; </span><br><span class="line">/* 兼容二：推荐 */</span><br><span class="line">event = event || window.event;</span><br><span class="line"></span><br><span class="line">var x = event.clientX;</span><br><span class="line">var y = event.clientY;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="事件冒泡-Bubble"><a href="#事件冒泡-Bubble" class="headerlink" title="事件冒泡(Bubble)"></a>事件冒泡(Bubble)</h4><p>所谓的事件冒泡，就是值子元素的向上传导，当后代元素上的事件被触发时，其祖先元素的相同事件也会被触发。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    		<span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">    	        width: 200px;</span></span><br><span class="line"><span class="undefined">    	        height: 200px;</span></span><br><span class="line"><span class="undefined">    	        background-color: yellowgreen;</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#s1</span>&#123;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> s1 = <span class="built_in">document</span>.getElementById(<span class="string">"s1"</span>);</span></span><br><span class="line"><span class="javascript">                s1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'我是span的单击函数'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="javascript">                box1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'我是box的单击函数'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> body = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"body"</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">                body.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'我是body的单击函数'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">    	    &#125;;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line">            我是box1</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"s1"</span>&gt;</span>我是span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 依次弹出span、box、body对话框，其上html和document也会有事件冒泡 --&gt;</span></span><br></pre></td></tr></table></figure>
<p>在开发中，事件冒泡往往是有用的，而小部分时候有无用的或者有害的！这时候就要取消事件冒泡。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> s1 = <span class="built_in">document</span>.getElementById(<span class="string">"s1"</span>);</span></span><br><span class="line"><span class="javascript">            s1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 浏览器兼容</span></span></span><br><span class="line"><span class="javascript">                event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                alert(<span class="string">'我是span的单击函数'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 取消冒泡</span></span></span><br><span class="line"><span class="javascript">                event.cancelBubble = <span class="literal">true</span>;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 依次弹出span、box、body对话框，其上html和document也会有事件冒泡 --&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="事件的委派"><a href="#事件的委派" class="headerlink" title="事件的委派"></a>事件的委派</h4><p>事件的委派：指将事件统一绑定给元素的共同的祖先元素，这样当后代元素上的事件触发时，会一直冒泡到祖先元素，从而通过祖先元素的响应函数来处理事件。事件委派是利用了冒泡，通过委派可以减少事件绑定的次数，提高程序的性能。</p>
<p>在以前的代码中，点击按钮添加超链接并绑定点击相应函数，当时的那种绑定方法比较麻烦，且性能不佳，这里我们使用事件的委派来实现相同的效果，使得代码效率提升。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                /* </span></span><br><span class="line"><span class="undefined">                 * 为所有超链接保定单击响应函数，这种方法比较麻烦，且性能不好</span></span><br><span class="line"><span class="undefined">                 * 只能绑定当前有的超链接</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> allA = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;allA.length; i++)&#123;</span></span><br><span class="line"><span class="javascript">                    allA[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'a的单击响应函数'</span>)</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                */</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                /* </span></span><br><span class="line"><span class="undefined">                 * 只绑定一次事件，即可应用到多个元素上，即时是后添加的</span></span><br><span class="line"><span class="undefined">                 * 可以尝试将其绑定给元素的共同祖先元素</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                ul.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 如果触发事件的对象是我们期望的元素,则执行</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(event.target.className == <span class="string">"link"</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'我是ul的单击响应函数'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取ul</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> u1 = <span class="built_in">document</span>.getElementById(<span class="string">"ul"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">                btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 创建li </span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> newLi = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span></span><br><span class="line"><span class="xml">                    newLi.innerHTML = "<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'javascript:;'</span> <span class="attr">class</span>=<span class="string">'link'</span>&gt;</span>新建的超链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span>";</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 将li添加到ul中</span></span></span><br><span class="line"><span class="undefined">                    ul.appendChild(newLi);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"link"</span>&gt;</span>超链接一<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"link"</span>&gt;</span>超链接二<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"link"</span>&gt;</span>超链接三<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>添加超链接<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="多个事件的绑定"><a href="#多个事件的绑定" class="headerlink" title="多个事件的绑定"></a>多个事件的绑定</h4><p>使用 “对象.事件 = 函数” 的形式绑定响应函数，它只能同时为一个元素的一个事件绑定一个响应函数，如果绑定多个，则后面的会覆盖前面的。</p>
<p>有些时候元素需要一个绑定事件有多个响应函数，可以通过addEventListener()来绑定响应函数。</p>
<p>但是addEventListener()不支持IE8及以下。可以使用attachEvent()来绑定。</p>
<h5 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener()"></a>addEventListener()</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素.addEventListener(string，function()&#123;&#125;, false);</span><br></pre></td></tr></table></figure>
<p>addEventListener()中的this，是绑定事件的对象。</p>
<p>效果：元素就能同时绑定多个响应函数，响应函数依次执行，且不会被覆盖。</p>
<p>参数：</p>
<ul>
<li>事件字符串：对应的事件，不要on。如果onclick事件，只填”click”即可。</li>
<li>回调函数：事件触发时该函数会被调用。</li>
<li>是否捕获阶段触发事件，一般都是false。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'1'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'2'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>弹出对话框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="attachEvent"><a href="#attachEvent" class="headerlink" title="attachEvent()"></a>attachEvent()</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素.attachEvent(string, function()&#123;&#125;);</span><br></pre></td></tr></table></figure>
<p>attachEvent()中的this，是window。</p>
<p>效果：元素就能同时绑定多个响应函数，响应函数倒序执行，且不会被覆盖。</p>
<p>参数：</p>
<ul>
<li>事件字符串：对应的事件，必须要on。如果onclick事件，填”onclick”。</li>
<li>回调函数：事件触发时该函数会被调用。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    	    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.attachEvent(<span class="string">"onlick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'1'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">'2'</span>);</span></span><br><span class="line"><span class="javascript">                &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="undefined">    	    &#125;</span></span><br><span class="line"><span class="undefined">    	</span></span><br><span class="line"><span class="undefined">    	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>弹出对话框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="浏览器兼容并统一this"><a href="#浏览器兼容并统一this" class="headerlink" title="浏览器兼容并统一this"></a>浏览器兼容并统一this</h5><p>这里需要兼容的地方有两个，一个浏览器，一个this。自定义了一bind()函数来兼容。this的兼容需要重点理解。</p>
<html><br>    <head><br>        <meta charset="utf-8"><br>        <title></title><br><br>        <script type="text/javascript"><br><br>            /<em>
             </em> 参数：<br>             <em> obj: 要绑定的事件的对象
             </em> eventStr: 事件的字符串(不要on)<br>             <em> callback: 回调函数
             </em>/<br>            function bind(obj, eventStr, callback){<br>                /*<em>
                 </em> 兼容浏览器<br>                 */<br>                if(obj.addEventListener){<br>                    // 大部分浏览器<br>                    obj.addEventListener(eventStr, callback, false);<br>                } else {<br>                    // IE8及以下浏览器，并在匿名函数中使用回调函数，统一this<br>                    obj.attachEvent(“on” + eventStr, function(){<br>                        // 在匿名函数中调用回调函数<br>                        callback.call(obj);<br>                    });<br>                }<br>            };<br><br>            window.onload = function(){<br>                var btn = document.getElementById(“btn”);<br>                bind(btn, “click”, function(){<br>                    alert(‘1’);<br>                });<br>                bind(btn, “click”, function(){<br>                    alert(‘2’);<br>                })<br><br>            };<br><br>        </script><br>    </head><br>    <body><br>        <button id="btn">弹出对话框</button><br>    </body><br></html>

<hr>
<h4 id="事件的传播"><a href="#事件的传播" class="headerlink" title="事件的传播"></a>事件的传播</h4><p>W3C将事件的传播分成三个阶段：</p>
<ul>
<li>捕获阶段：在捕获阶段时从最外层的祖先元素，向目标元素进行事件的捕获，但是默认此时不会触发事件。</li>
<li>目标阶段：事件捕获到目标元素，捕获结束开始在目标元素上触发事件。</li>
<li>冒泡阶段：事件从目标元素向他的祖先元素传递，依次触发祖先元素上的事件。</li>
</ul>
<p>在IE9之上浏览器中，如果希望在捕获阶段就执行事件，可以将addEventListener()的第三个参数设置为true。一般情况下，我们不会希望在捕获阶段触发事件，所以这个参数一般为false。而在IE8及以下，没有捕获阶段。</p>
<hr>
<h4 id="综合案例——鼠标事件之鼠标移动"><a href="#综合案例——鼠标事件之鼠标移动" class="headerlink" title="综合案例——鼠标事件之鼠标移动"></a>综合案例——鼠标事件之鼠标移动</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        	<span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                height: 200px;</span></span><br><span class="line"><span class="undefined">                width: 200px;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background-color</span>: <span class="selector-id">#87CEEB</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 获取鼠标在box1中的坐标，并在box2中显示出来</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box2 = <span class="built_in">document</span>.getElementById(<span class="string">"box2"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                box1.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 浏览器兼容</span></span></span><br><span class="line"><span class="javascript">                    event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 通过event事件对象获取鼠标坐标</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> x = event.clientX;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> y = event.clientY;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    box2.innerHTML = <span class="string">"x="</span> + x + <span class="string">", y="</span> + y;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>此处忽略鼠标，gif没有弄进去</p>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/move.gif" alt="JavaScript基础-DOM基础/move.gif"></p>
<h4 id="综合案例——鼠标事件之拖拽"><a href="#综合案例——鼠标事件之拖拽" class="headerlink" title="综合案例——鼠标事件之拖拽"></a>综合案例——鼠标事件之拖拽</h4><p>拖拽事件的理解点在于事件对象选用哪个。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        	<span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-id">#box2</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="css">                <span class="comment">/* 设置偏移量 */</span></span></span><br><span class="line"><span class="undefined">                top: 200px;</span></span><br><span class="line"><span class="undefined">                left: 200px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            body&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0px;</span></span><br><span class="line"><span class="undefined">                padding: 0px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 拖拽方法</span></span><br><span class="line"><span class="undefined">             * obj: 要开启拖拽的元素</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">drag</span>(<span class="params">obj</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 拖拽obj元素</span></span><br><span class="line"><span class="undefined">                 * - 拖拽流程</span></span><br><span class="line"><span class="undefined">                 *      1. 当鼠标在被拖拽元素上按下时，开始拖拽</span></span><br><span class="line"><span class="undefined">                 *      2. 当鼠标移动时，被拖拽元素跟随鼠标移动</span></span><br><span class="line"><span class="undefined">                 *      3. 当鼠标松开时，被拖拽元素固定在当前位置</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为obj绑定按下事件</span></span></span><br><span class="line"><span class="javascript">                obj.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">//设置obj捕获所有按下事件事件</span></span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * setCapture()只在IE8及以下支持</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    obj.setCapture &amp;&amp; obj.setCapture();</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 获取div的偏移量</span></span><br><span class="line"><span class="undefined">                     * offsetLeft: 获取的是当前对象左侧距离父对象左侧的值(均不包含border);</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> outLeft = event.clientX - obj.offsetLeft;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> outTop = event.clientY - obj.offsetTop;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 为document绑定onmousemove事件</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 获取鼠标的坐标</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> x = event.clientX;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> y = event.clientY;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 修改obj的位置,需要减去偏移量</span></span></span><br><span class="line"><span class="javascript">                        obj.style.left = x - outLeft + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                        obj.style.top = y - outTop + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 当鼠标松开时,被拖拽元素固定在当前位置</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 为document绑定抬起事件,不能给obj</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.onmouseup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 取消onmousemove事件</span></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 取消onmouseup事件</span></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 取消obj的事件捕获</span></span></span><br><span class="line"><span class="undefined">                        obj.releaseCapture &amp;&amp; obj.releaseCapture();</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 当我们拖拽一个网页中的内容时，浏览器会默认去搜索引擎中搜索内容，此时会导致拖拽功能异常</span></span><br><span class="line"><span class="undefined">                     * </span></span><br><span class="line"><span class="javascript">                     * IE9及以上，通过<span class="keyword">return</span> <span class="literal">false</span>取消浏览器默认行为</span></span><br><span class="line"><span class="undefined">                     * IE8及以下，通过 元素.setCapture(); 事件捕获来实现，需要取消捕获</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取box</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box2 = <span class="built_in">document</span>.getElementById(<span class="string">"box2"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                drag(box1);</span></span><br><span class="line"><span class="undefined">                drag(box2);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/drag.gif" alt="JavaScript基础-DOM基础/drag.gif"></p>
<hr>
<h4 id="综合案例——鼠标事件之滚轮"><a href="#综合案例——鼠标事件之滚轮" class="headerlink" title="综合案例——鼠标事件之滚轮"></a>综合案例——鼠标事件之滚轮</h4><p>onmousewheel鼠标滚轮滚动的事件，但是火狐不支持；在火狐中有一个DOMMouseScroll事件，并通过addEventListener()来绑定滚动事件。</p>
<p>判断鼠标滚轮方向：</p>
<ul>
<li>非火狐：event.wheelDelta，向上120,向下-120</li>
<li>火狐：event.detail，向上-3,向下3</li>
</ul>
<p>当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动，取消浏览器滚轮默认行为：</p>
<ul>
<li>使用return false;取消默认行为。</li>
<li>使用addEventListener()方法绑定响应函数，需要使用event.preventDefault();来取消默认行为</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        	<span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 多事件绑定，浏览器兼容</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, eventStr, callback</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 兼容浏览器</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(obj.addEventListener)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 大部分浏览器</span></span></span><br><span class="line"><span class="javascript">                    obj.addEventListener(eventStr, callback, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// IE8及以下浏览器，并在匿名函数中使用回调函数，统一this</span></span></span><br><span class="line"><span class="javascript">                    obj.attachEvent(<span class="string">"on"</span> + eventStr, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 在匿名函数中调用回调函数</span></span></span><br><span class="line"><span class="undefined">                        callback.call(obj);</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 当鼠标滚轮向下滚动时，box1变长，反之变短</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                event = event || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 判断鼠标滚轮方向</span></span><br><span class="line"><span class="undefined">                 * 非火狐：event.wheelDelta，向上120,向下-120</span></span><br><span class="line"><span class="undefined">                 * 火狐：event.detail，向上-3,向下3</span></span><br><span class="line"><span class="undefined">                 */ </span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(event.wheelDelta &gt; <span class="number">0</span> || event.detail &lt; <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    box1.style.height = box1.clientHeight - <span class="number">10</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    box1.style.height = box1.clientHeight + <span class="number">10</span> + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 取消event默认行为</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动</span></span><br><span class="line"><span class="javascript">                 * 使用<span class="keyword">return</span> <span class="literal">false</span>;取消默认行为。</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 但是使用addEventListener()方法绑定响应函数，需要使用event来取消默认行为。</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(event.preventDefault)&#123;</span></span><br><span class="line"><span class="undefined">                    event.preventDefault();</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取box</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为box1绑定一个鼠标滚轮的事件,兼容非火狐浏览器</span></span></span><br><span class="line"><span class="undefined">                box1.onmousewheel = fun;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * onmousewheel鼠标滚轮滚动的事件，但是火狐不支持</span></span><br><span class="line"><span class="undefined">                 * </span></span><br><span class="line"><span class="undefined">                 * 在火狐中有一个DOMMouseScroll事件，并通过addEventListener()来绑定滚动事件</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                bind(box1, <span class="string">"DOMMouseScroll"</span>, fun);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"height: 2000px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/scroll.gif" alt="JavaScript基础-DOM基础/scroll.gif"></p>
<hr>
<h4 id="综合案例——键盘事件"><a href="#综合案例——键盘事件" class="headerlink" title="综合案例——键盘事件"></a>综合案例——键盘事件</h4><p>键盘事件一般都会绑定给一些可以<font color="red">获取到焦点的对象</font>或者<font color="red">document</font>。给div之类的对象绑定毫无意义，且没有响应！</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 键盘事件：</span></span><br><span class="line"><span class="undefined">                 *  onkeydown：键盘被按下。</span></span><br><span class="line"><span class="undefined">                 *      如果长按，事件会被连续触发。连续触发时，第一次与第二次之间会间隔稍长，之后会非常快，这是为了防止长按误操作！</span></span><br><span class="line"><span class="undefined">                 *  onkeyup：键盘被松开。</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    event = event || event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 通过keyCode属性获取按下的键的unicode编码</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(event.keyCode);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 功能键：</span></span><br><span class="line"><span class="javascript">                     *  altKey: <span class="string">"ALT"</span> 是否被按下，返回boolean值。</span></span><br><span class="line"><span class="javascript">                     *  ctrlKey：<span class="string">"CTRL"</span> 键是否被按下，返回boolean值。</span></span><br><span class="line"><span class="javascript">                     *  shiftKey：<span class="string">"SHIFT"</span> 键是否被按下，返回boolean值。</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(event.keyCode == <span class="number">65</span> &amp;&amp; event.altKey)&#123;</span></span><br><span class="line"><span class="javascript">                        alert(<span class="string">'同时按下a和alt'</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>使用键盘按键控制div移动：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                position: absolute;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    event = event || event;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> speed = <span class="number">5</span>;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(event.ctrlKey)&#123;</span></span><br><span class="line"><span class="undefined">                        speed = 10;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 37 左</span></span><br><span class="line"><span class="undefined">                     * 38 上</span></span><br><span class="line"><span class="undefined">                     * 39 又</span></span><br><span class="line"><span class="undefined">                     * 40 下</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">switch</span>(event.keyCode)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">37</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.left = box1.offsetLeft - speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">38</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.top = box1.offsetTop - speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">39</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.left = box1.offsetLeft + speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">case</span> <span class="number">40</span>:</span></span><br><span class="line"><span class="javascript">                            box1.style.top = box1.offsetTop + speed + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * bug:</span></span><br><span class="line"><span class="undefined">                     * 这里还有一个小问题，就是长按时候的第一次与第二次间隔稍长。</span></span><br><span class="line"><span class="undefined">                     * 这是浏览器默认行为，需要定时器才能取消。见BOM基础！</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="类的操作"><a href="#类的操作" class="headerlink" title="类的操作"></a>类的操作</h3><p>类的操作，通过修改或者叠加类，可以修改样式，降低代码耦合，提高性能。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        	<span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="undefined">                height: 100px;</span></span><br><span class="line"><span class="undefined">                width: 100px;</span></span><br><span class="line"><span class="undefined">                background-color: red;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="comment">/* height: 200px; */</span></span></span><br><span class="line"><span class="undefined">                width: 200px;</span></span><br><span class="line"><span class="undefined">                background-color: yellow;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">"btn01"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 有以下两种方式修改box的样式</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 第一种：</span></span><br><span class="line"><span class="undefined">                     *      通过style属性来修改元素的样式，每修改一个样式，浏览器就需要重新渲染一次页面。</span></span><br><span class="line"><span class="undefined">                     *  这样的执行性能比较差，而且这种形式修改多个样式时，不太方便。并且会导致行为与表现的耦合。</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript"><span class="comment">//                     box.style.width = "200px";</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//                     box.style.height = "200px";</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//                     box.style.backgroundColor = "yellow";</span></span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 第二种：</span></span><br><span class="line"><span class="javascript">                     *      修改<span class="class"><span class="keyword">class</span>属性来修改样式，这样一来，只需要修改一次即可修改多个样式，浏览器只需要重新渲染一次页面即可，性能较高。</span></span></span><br><span class="line"><span class="undefined">                     *  并且这种方式可以使表现和行为进一步分离。</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 在类中添加一个类</span></span></span><br><span class="line"><span class="javascript">                    addClass(box, <span class="string">"box2"</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 移除一个类</span></span></span><br><span class="line"><span class="javascript">                    removeClass(box, <span class="string">"box2"</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 切换类</span></span></span><br><span class="line"><span class="javascript">                    toggleClss(box, <span class="string">"box2"</span>);</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 添加类</span></span><br><span class="line"><span class="undefined">                     * 参数：</span></span><br><span class="line"><span class="undefined">                     *  obj：对象</span></span><br><span class="line"><span class="undefined">                     *  cn: 类名</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(!hasClass(obj, cn))&#123;</span></span><br><span class="line"><span class="javascript">                            obj.className += <span class="string">" "</span> + cn;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 类去重</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 判断obj中有没有cn这个类</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 使用构造函数拼接动态正则表达式</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span> + cn + <span class="string">"\\b"</span>);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span> reg.test(obj.className);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="javascript">                     * 删除一个元素中指定的<span class="class"><span class="keyword">class</span>属性</span></span></span><br><span class="line"><span class="undefined">                     * 参数：</span></span><br><span class="line"><span class="undefined">                     *  obj：对象</span></span><br><span class="line"><span class="undefined">                     *  cn: 类名</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="keyword">function</span> <span class="title">removeClass</span>(<span class="params">obj, cn</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 正则表达式</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span> + cn + <span class="string">"\\b"</span>);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 删除class</span></span></span><br><span class="line"><span class="javascript">                        obj.className = obj.className.replace(reg, <span class="string">""</span>);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="undefined">                    /**</span></span><br><span class="line"><span class="undefined">                     * 切换类</span></span><br><span class="line"><span class="undefined">                     *  如果元素中具有该类，则删除；如果没有则添加</span></span><br><span class="line"><span class="undefined">                     */</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="keyword">function</span> <span class="title">toggleClss</span>(<span class="params">obj, cn</span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 判断是否有cn</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (hasClass(obj, cn)) &#123;</span></span><br><span class="line"><span class="undefined">                        	removeClass(obj, cn)</span></span><br><span class="line"><span class="javascript">                        &#125; <span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="undefined">                        	addClass(obj, cn)</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn01"</span>&gt;</span>点击按钮以后修改box的样式<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="综合案例——二级菜单"><a href="#综合案例——二级菜单" class="headerlink" title="综合案例——二级菜单"></a>综合案例——二级菜单</h3><p>此案例结合类的操作、动画、延时操作等实现。动画、延时操作可见博客“前端-JavaScript基础-BOM基础”，tool工具类见“前端-JavaScript基础-tool工具”。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        	* &#123;</span></span><br><span class="line"><span class="undefined">                margin: 0;</span></span><br><span class="line"><span class="undefined">                padding: 0;</span></span><br><span class="line"><span class="undefined">                list-style-type: none;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            a, img&#123;</span></span><br><span class="line"><span class="undefined">                border: 0;</span></span><br><span class="line"><span class="undefined">                text-decoration: none;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            body&#123;</span></span><br><span class="line"><span class="undefined">                font: 12px/180% "arial, helvetica, sans-serif", "新宋体";</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span>&#123;</span></span><br><span class="line"><span class="undefined">                margin: 0 auto;</span></span><br><span class="line"><span class="undefined">                width: 150px;</span></span><br><span class="line"><span class="undefined">                font-family: Arial, sans-serif;</span></span><br><span class="line"><span class="undefined">                font-size: 12px;</span></span><br><span class="line"><span class="undefined">                background: url(css/bottom.gif) no-repeat right bottom;</span></span><br><span class="line"><span class="undefined">                padding-bottom: 10px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: url(css/title.gif);</span></span><br><span class="line"><span class="undefined">                overflow: hidden;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span><span class="selector-pseudo">:first-child</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: url(css/toptitle.gif) no-repeat;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">span</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">                padding: 5px 10px;</span></span><br><span class="line"><span class="undefined">                font-weight: bold;</span></span><br><span class="line"><span class="undefined">                font-size: 12px;</span></span><br><span class="line"><span class="undefined">                background: url(css/expanded.gif) no-repeat 10px center;</span></span><br><span class="line"><span class="undefined">                padding: 5px 25px;</span></span><br><span class="line"><span class="undefined">                height: 15px;</span></span><br><span class="line"><span class="undefined">                cursor: pointer;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;</span></span><br><span class="line"><span class="undefined">                display: block;</span></span><br><span class="line"><span class="undefined">                line-height: 15px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span><span class="selector-class">.collapsed</span> <span class="selector-tag">span</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: url(css/collapsed.gif) no-repeat 10px center;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line"><span class="undefined">                display: block;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-id">#eee</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;</span></span><br><span class="line"><span class="undefined">                padding: 5px 10px;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#066</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="undefined">                background: #066 url(css/linkarrow.gif) no-repeat right center;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="css">            <span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span><span class="selector-class">.collapsed</span>&#123;</span></span><br><span class="line"><span class="undefined">                height: 25px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span>   </span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"tool.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="javascript">        	<span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 每一个菜单都是一个div</span></span><br><span class="line"><span class="undefined">                 * 当div有collapsed类时，折叠，反之展开</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="undefined">                /**</span></span><br><span class="line"><span class="undefined">                 * 点击菜单，切换菜单的显示状态</span></span><br><span class="line"><span class="undefined">                 */</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 获取class为menuSpan的元素</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> menuSpan = <span class="built_in">document</span>.querySelectorAll(<span class="string">".menuSpan"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 保存当前打开的菜单</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> openDiv = menuSpan[<span class="number">0</span>].parentNode;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 为span绑定菜单点击函数</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;menuSpan.length; i++)&#123;</span></span><br><span class="line"><span class="undefined">                    </span></span><br><span class="line"><span class="javascript">                    menuSpan[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// this代表当前点击的span,获取span的父元素</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> parentDiv = <span class="keyword">this</span>.parentNode;</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 切换菜单显示状态</span></span></span><br><span class="line"><span class="undefined">                        toggleMenu(parentDiv);</span></span><br><span class="line"><span class="undefined">                        </span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 为了可以和之前的toggleClass可以使用同一个动画效果,这里不使用用addClass</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 只让toggleClass执行添加的作用,只要不进判断就行了</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(openDiv != parentDiv &amp;&amp; !hasClass(openDiv, <span class="string">"collapsed"</span>))&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 关闭之前打开的菜单</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// addClass(openDiv, "collapsed");</span></span></span><br><span class="line"><span class="undefined">                            toggleMenu(openDiv);</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 更新openDiv</span></span></span><br><span class="line"><span class="undefined">                        openDiv = parentDiv;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            </span></span><br><span class="line"><span class="undefined">            /**</span></span><br><span class="line"><span class="undefined">             * 切换菜单的折叠和显示状态</span></span><br><span class="line"><span class="undefined">             */</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">toggleMenu</span>(<span class="params">obj</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 切换之前获取元素的高度</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> begin = obj.offsetHeight;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 开/关div</span></span></span><br><span class="line"><span class="javascript">                toggleClass(obj, <span class="string">"collapsed"</span>);</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// 切换之后获取一个高度</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> end = obj.offsetHeight;</span></span><br><span class="line"><span class="undefined">                </span></span><br><span class="line"><span class="javascript">                <span class="comment">// alert(begin + " " + end);</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 动画效果就是从begin到end过度</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 将元素的高度重置到begin,然后添加动画效果</span></span></span><br><span class="line"><span class="javascript">                obj.style.height = begin + <span class="string">"px"</span>;</span></span><br><span class="line"><span class="javascript">                move(obj, <span class="string">"height"</span>, <span class="number">30</span>, end, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 动画执行完毕，清除内联样式</span></span></span><br><span class="line"><span class="javascript">                    obj.style.height = <span class="string">""</span>;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"my_menu"</span> <span class="attr">class</span>=<span class="string">"sdmenu"</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        		<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第一个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">            	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第二个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">            	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第三个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">            	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第四个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">            	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>第五个二级菜单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>6<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>图片资源如下：</p>
<p>bottom.gif：<br><img src="/2019/01/19/前端-JavaScript基础-DOM基础/bottom.gif" alt="JavaScript基础-DOM基础/bottom.gif"></p>
<p>collapsed.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/collapsed.gif" alt="JavaScript基础-DOM基础/collapsed.gif"></p>
<p>expanded.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/expanded.gif" alt="JavaScript基础-DOM基础/expanded.gif"></p>
<p>linkarrow.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/linkarrow.gif" alt="JavaScript基础-DOM基础/linkarrow.gif"></p>
<p>title.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/title.gif" alt="JavaScript基础-DOM基础/title.gif"></p>
<p>toptitle.gif：<img src="/2019/01/19/前端-JavaScript基础-DOM基础/toptitle.gif" alt="JavaScript基础-DOM基础/toptitle.gif"></p>
<p>二级菜单：</p>
<p><img src="/2019/01/19/前端-JavaScript基础-DOM基础/二级菜单.gif" alt="JavaScript基础-DOM基础/二级菜单.gif"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/19/前端-JavaScript基础-DOM基础/" data-id="cjt5i3kte004ecoutmk2gd9fp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DOM/">DOM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BOM/">BOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Html-Css/">Html/Css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node/">Node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/echarts/">echarts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/">tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/框架/">框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器兼容/">浏览器兼容</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端/">移动端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件配置/">软件配置</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 18.33px;">Android</a> <a href="/tags/BOM/" style="font-size: 10px;">BOM</a> <a href="/tags/DOM/" style="font-size: 10px;">DOM</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Html-Css/" style="font-size: 11.67px;">Html/Css</a> <a href="/tags/JavaScript/" style="font-size: 13.33px;">JavaScript</a> <a href="/tags/Node/" style="font-size: 11.67px;">Node</a> <a href="/tags/Python/" style="font-size: 16.67px;">Python</a> <a href="/tags/blog/" style="font-size: 11.67px;">blog</a> <a href="/tags/echarts/" style="font-size: 10px;">echarts</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/tool/" style="font-size: 10px;">tool</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/后端/" style="font-size: 11.67px;">后端</a> <a href="/tags/小程序/" style="font-size: 10px;">小程序</a> <a href="/tags/框架/" style="font-size: 11.67px;">框架</a> <a href="/tags/浏览器兼容/" style="font-size: 10px;">浏览器兼容</a> <a href="/tags/移动端/" style="font-size: 20px;">移动端</a> <a href="/tags/软件配置/" style="font-size: 10px;">软件配置</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/11/框架——Express/">框架——Express</a>
          </li>
        
          <li>
            <a href="/2019/03/10/软件配置/">软件配置</a>
          </li>
        
          <li>
            <a href="/2019/03/04/移动应用开发——Cordova/">移动应用开发——Cordova</a>
          </li>
        
          <li>
            <a href="/2019/03/02/后端基础——Nodejs/">后端基础——Node.js</a>
          </li>
        
          <li>
            <a href="/2019/02/16/前端-JavaScript基础-jQuery基础/">前端-JavaScript基础-jQuery基础</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Ai Junhao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>