<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hello, I&#39;m Junhao Ai.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hello, I&#39;m Junhao Ai.">
  
    <link rel="alternate" href="/atom.xml" title="Hello, I&#39;m Junhao Ai." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hello, I&#39;m Junhao Ai.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Python学习笔记——Pygame游戏开发" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/12/Python学习笔记——Pygame游戏开发/" class="article-date">
  <time datetime="2018-08-12T07:18:59.000Z" itemprop="datePublished">2018-08-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/12/Python学习笔记——Pygame游戏开发/">Python学习笔记——Pygame游戏开发</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>Pygame 内部是使用c语言实现的，所以Pygame游戏的效率还是比较高的。</p>
<hr>
<h3 id="安装Pygame"><a href="#安装Pygame" class="headerlink" title="安装Pygame"></a>安装Pygame</h3><p>打开cmd命令行。输入”pip install pygame”，系统自行安装即可。<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/InstallPygame.png" alt=""></p>
<p>在IDLE中测试：<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameTest.png" alt=""></p>
<p>如此，安装完成。</p>
<hr>
<h3 id="Pygame-基本框架"><a href="#Pygame-基本框架" class="headerlink" title="Pygame 基本框架"></a>Pygame 基本框架</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化Pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 画布大小，元组类型</span></span><br><span class="line">SIZE = (width, height) = <span class="number">600</span>, <span class="number">400</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建指定大小的窗口，单位为像素，返回Surface对象，作为背景画布</span></span><br><span class="line">screen = pygame.display.set_mode(SIZE)</span><br><span class="line"><span class="comment"># 设置窗口标题</span></span><br><span class="line">pygame.display.set_caption(<span class="string">"初次见面，大家多多关照!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载图片</span></span><br><span class="line"><span class="comment">#turtle = pygame.image.load("turtle.png")</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取事件</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            <span class="comment"># 退出pygame</span></span><br><span class="line">            pygame.quit()</span><br><span class="line">            <span class="comment"># 退出系统</span></span><br><span class="line">            sys.exit()</span><br></pre></td></tr></table></figure>
<p>一个游戏循环（也可以称为主循环）就做下面这三件事：</p>
<ul>
<li>处理事件</li>
<li>更新游戏状态</li>
<li>绘制游戏状态到屏幕上</li>
</ul>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameMain.png" alt=""></p>
<hr>
<h3 id="颜控，set-mode"><a href="#颜控，set-mode" class="headerlink" title="颜控，set_mode()"></a>颜控，set_mode()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># set_mode返回值为Surface对象</span></span><br><span class="line">screen = set_mode(resolution(<span class="number">0</span>, <span class="number">0</span>), flags=<span class="number">0</span>, depth=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p>flags拓展选项：<br>| 选项       | 含义                                   |<br>|:———- |:————————————– |<br>| FULLSCREEN | 全屏模式                               |<br>| DOUBLEBUF  | 双缓冲模式                             |<br>| HWSURFACE  | 硬件加速支持(只有在全屏模式下才能使用) |<br>| OPENGL     | 使用OpenGL渲染(3D游戏)                         |<br>| RESIZABLE  | 是的窗口可以调整大小                   |<br>| NOFRAME           | 使得窗口没有边框和控制按钮                                       |</p>
<p>depth一般不建议自动设置，系统会根据需要自己调整。</p>
<p>案例：全屏设置(有bug)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">SIZE = (WITDH, HEIGHT) = (<span class="number">600</span>, <span class="number">400</span>)</span><br><span class="line">WIGHT = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 全屏</span></span><br><span class="line">fullscreen = <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">screen</span><br><span class="line">= pygame.display.set_mode(SIZE)</span><br><span class="line">pygame.display.set_caption(<span class="string">"全屏设置"</span>)</span><br><span class="line">screen.fill(WIGHT)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            pygame.quit()</span><br><span class="line">            sys.exit()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.KEYDOWN:</span><br><span class="line">            <span class="comment"># 设置F11为全屏键</span></span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_F11:</span><br><span class="line">                fullscreen = <span class="keyword">not</span> fullscreen</span><br><span class="line">                <span class="keyword">if</span> fullscreen:</span><br><span class="line">                    <span class="comment"># 获取系统支持的最高分辨率</span></span><br><span class="line">                    SIZE_Biggest = pygame.display.list_modes()[<span class="number">0</span>]</span><br><span class="line">                    screen = pygame.display.set_mode(SIZE_Biggest, pygame.FULLSCREEN | pygame.HWSURFACE)</span><br><span class="line">                <span class="keyword">else</span> :</span><br><span class="line">                    screen = pygame.display.set_mode(SIZE)</span><br><span class="line">    screen.fill(WIGHT)</span><br><span class="line">    <span class="comment"># 更新界面</span></span><br><span class="line">    pygame.display.flip()</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="图像"><a href="#图像" class="headerlink" title="图像"></a>图像</h3><p>与图像有关的方法：<br>| 方法        | 作用               |<br>| ———– | —————— |<br>| flip        | 上下、左右转转图片 |<br>| scale       | 快速缩放图像       |<br>| rotate      | 旋转图像           |<br>| rotozoom    | 缩放并旋转图像     |<br>| scale2x     | 快速放大一倍图像   |<br>| smoothscale | 精准平滑缩放图像   |<br>| chop        | 裁剪图像           |</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加载png图片，使用convert_alpha加载透明alpha通道</span></span><br><span class="line">turtle_img = pygame.image.load(<span class="string">"turtle.png"</span>).convert_alpha()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载jpg图片</span></span><br><span class="line">turtle_img = pygame.image.load(<span class="string">"turtle.jpg"</span>).convert()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不支持gif</span></span><br></pre></td></tr></table></figure>
<p>实例：沿框运动的小乌龟<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化Pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">size = (width, height) = (<span class="number">600</span>, <span class="number">400</span>)</span><br><span class="line">speed = [<span class="number">2</span>, <span class="number">0</span>]</span><br><span class="line">bg = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置帧率</span></span><br><span class="line">clock = pygame.time.Clock()</span><br><span class="line"></span><br><span class="line">screen = pygame.display.set_mode(size)</span><br><span class="line">pygame.display.set_caption(<span class="string">"沿框运动的小乌龟"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载图片</span></span><br><span class="line">turtle_img = pygame.image.load(<span class="string">"turtle.png"</span>)</span><br><span class="line">turtle_right = pygame.transform.rotate(turtle_img, <span class="number">90</span>)</span><br><span class="line">turtle_top = pygame.transform.rotate(turtle_img, <span class="number">180</span>)</span><br><span class="line">turtle_left = pygame.transform.rotate(turtle_img, <span class="number">270</span>)</span><br><span class="line">turtle_bottom = turtle_img</span><br><span class="line">turtle = turtle_top</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得图像的位置矩形</span></span><br><span class="line">position = turtle.get_rect()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环持续运行</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取事件，在此处退出</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            <span class="comment"># 退出pygame</span></span><br><span class="line">            <span class="comment"># pygame.quit()</span></span><br><span class="line">            <span class="comment"># 退出系统</span></span><br><span class="line">            sys.exit()</span><br><span class="line">    <span class="comment"># 移动图像</span></span><br><span class="line">    position = position.move(speed)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> position.right &gt; width:</span><br><span class="line">        turtle = turtle_right</span><br><span class="line">        position = turtle_rect = turtle.get_rect()</span><br><span class="line">        position.left = width - turtle_rect.width</span><br><span class="line">        speed = [<span class="number">0</span>, <span class="number">2</span>]</span><br><span class="line">    <span class="keyword">if</span> position.bottom &gt; height:</span><br><span class="line">        turtle = turtle_bottom</span><br><span class="line">        position = turtle_rect = turtle.get_rect()</span><br><span class="line">        position.left = width - turtle_rect.width</span><br><span class="line">        position.top = height - turtle_rect.height</span><br><span class="line">        speed = [<span class="number">-2</span>, <span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> position.left &lt; <span class="number">0</span>:</span><br><span class="line">        turtle = turtle_left</span><br><span class="line">        position = turtle_rect = turtle.get_rect()</span><br><span class="line">        position.top = height - turtle_rect.height</span><br><span class="line">        speed = [<span class="number">0</span>, <span class="number">-2</span>]</span><br><span class="line">    <span class="keyword">if</span> position.top &lt; <span class="number">0</span>:</span><br><span class="line">        turtle = turtle_top</span><br><span class="line">        position = turtle_rect = turtle.get_rect()</span><br><span class="line">        speed = [<span class="number">2</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 填充背景</span></span><br><span class="line">    screen.fill(bg)</span><br><span class="line">    <span class="comment"># 更新图像</span></span><br><span class="line">    screen.blit(turtle, position)</span><br><span class="line">    <span class="comment"># 更新界面</span></span><br><span class="line">    pygame.display.flip()</span><br><span class="line">    <span class="comment"># 延迟10毫秒</span></span><br><span class="line">    <span class="comment"># pygame.time.delay(10)</span></span><br><span class="line">    clock.tick(<span class="number">200</span>)</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameRunAroundTurtle.gif" alt=""></p>
<h4 id="基本几何图形绘制"><a href="#基本几何图形绘制" class="headerlink" title="基本几何图形绘制"></a>基本几何图形绘制</h4><table>
<thead>
<tr>
<th>名称</th>
<th>方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>一条</td>
<td>pygame.draw.line(Surface, color, start_pos, end_pos, width)</td>
</tr>
<tr>
<td>抗锯齿的线</td>
<td>pygame.draw.aaline(Surface, color, start_pos, end_pos, blend)</td>
</tr>
<tr>
<td>折线</td>
<td>pygame.draw.lines(Surface, color, closed, pointlist, width)</td>
</tr>
<tr>
<td>矩形</td>
<td>pygame.draw.rect(Surface, color, Rect)</td>
</tr>
<tr>
<td>矩形框</td>
<td>pygame.draw.rect(Surface, color, Rect, width</td>
</tr>
<tr>
<td>椭圆</td>
<td>pygame.draw.ellipse(Surface, color, Rect)</td>
</tr>
<tr>
<td>椭圆框</td>
<td>pygame.draw.ellipse(Surface, color, Rect, width)</td>
</tr>
<tr>
<td>多边形</td>
<td>pygame.draw.polygon(Surface, color, pointlist, width)</td>
</tr>
<tr>
<td>弧线</td>
<td>pygame.draw.arc(Surface, color, Rect, start_angle, stop_angle, width)</td>
</tr>
<tr>
<td>圆</td>
<td>pygame.draw.circle(Surface, color, Rect, radius)</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入需要的模块</span></span><br><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> pi</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置窗口的大小，单位为像素</span></span><br><span class="line">screen = pygame.display.set_mode((<span class="number">400</span>,<span class="number">300</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置窗口标题</span></span><br><span class="line">pygame.display.set_caption(<span class="string">'Drawing'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义颜色</span></span><br><span class="line">BLACK = ( <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">WHITE = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line">RED = (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">GREEN = ( <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>)</span><br><span class="line">BLUE = ( <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置背景颜色</span></span><br><span class="line">screen.fill(WHITE)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一条线</span></span><br><span class="line">pygame.draw.line(screen, GREEN, [<span class="number">0</span>, <span class="number">0</span>], [<span class="number">50</span>,<span class="number">30</span>], <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一条抗锯齿的线</span></span><br><span class="line">pygame.draw.aaline(screen, GREEN, [<span class="number">0</span>, <span class="number">50</span>],[<span class="number">50</span>, <span class="number">80</span>],<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一条折线</span></span><br><span class="line">pygame.draw.lines(screen, BLACK, <span class="keyword">False</span>,</span><br><span class="line">         [[<span class="number">0</span>, <span class="number">80</span>], [<span class="number">50</span>, <span class="number">90</span>], [<span class="number">200</span>, <span class="number">80</span>], [<span class="number">220</span>, <span class="number">30</span>]], <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个空心矩形</span></span><br><span class="line">pygame.draw.rect(screen, BLACK, [<span class="number">75</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">20</span>], <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个矩形</span></span><br><span class="line">pygame.draw.rect(screen, BLACK, [<span class="number">150</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">20</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个空心椭圆</span></span><br><span class="line">pygame.draw.ellipse(screen, RED, [<span class="number">225</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">20</span>], <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个椭圆</span></span><br><span class="line">pygame.draw.ellipse(screen, RED, [<span class="number">300</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">20</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制多边形</span></span><br><span class="line">pygame.draw.polygon(screen, BLACK, [[<span class="number">100</span>, <span class="number">100</span>], [<span class="number">0</span>, <span class="number">200</span>], [<span class="number">200</span>, <span class="number">200</span>]], <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制多条弧线</span></span><br><span class="line">pygame.draw.arc(screen, BLACK,[<span class="number">210</span>, <span class="number">75</span>, <span class="number">150</span>, <span class="number">125</span>], <span class="number">0</span>, pi/<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">pygame.draw.arc(screen, GREEN,[<span class="number">210</span>, <span class="number">75</span>, <span class="number">150</span>, <span class="number">125</span>], pi/<span class="number">2</span>, pi, <span class="number">2</span>)</span><br><span class="line">pygame.draw.arc(screen, BLUE, [<span class="number">210</span>, <span class="number">75</span>, <span class="number">150</span>, <span class="number">125</span>], pi,<span class="number">3</span>*pi/<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">pygame.draw.arc(screen, RED, [<span class="number">210</span>, <span class="number">75</span>, <span class="number">150</span>, <span class="number">125</span>], <span class="number">3</span>*pi/<span class="number">2</span>, <span class="number">2</span>*pi, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个圆</span></span><br><span class="line">pygame.draw.circle(screen, BLUE, [<span class="number">60</span>, <span class="number">250</span>], <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 获取事件</span></span><br><span class="line">  <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">    <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">    <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">      <span class="comment"># 退出pygame</span></span><br><span class="line">      pygame.quit()</span><br><span class="line">      <span class="comment"># 退出系统</span></span><br><span class="line">      sys.exit()</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 绘制屏幕内容</span></span><br><span class="line">  pygame.display.flip()</span><br></pre></td></tr></table></figure>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameImage.png" alt=""></p>
<hr>
<h3 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h3><p>编写一个程序，将所有执行的事件写入到一个文件中：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">size = width, height =  <span class="number">600</span>, <span class="number">400</span></span><br><span class="line">screen = pygame.display.set_mode(size)</span><br><span class="line">pygame.display.set_caption(<span class="string">"事件处理"</span>)</span><br><span class="line"></span><br><span class="line">f = open(<span class="string">"record.txt"</span>, <span class="string">'w'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="comment"># 获取事件</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        f.write(str(event) + <span class="string">'\n'</span>)</span><br><span class="line">        <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            f.close()</span><br><span class="line">            <span class="comment"># 退出pygame</span></span><br><span class="line">            pygame.quit()</span><br><span class="line">            <span class="comment"># 退出系统</span></span><br><span class="line">            sys.exit()</span><br></pre></td></tr></table></figure></p>
<p>运行程序，随意移动鼠标、点击鼠标、按键盘等，然后关闭程序，在程序同目录下打开“record.txt”文件，可以看到如下：<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameEventTxt.png" alt=""></p>
<table>
<thead>
<tr>
<th>事件</th>
<th>产生途径</th>
<th>参数</th>
</tr>
</thead>
<tbody>
<tr>
<td>QUIT</td>
<td>用户按下关闭按钮</td>
<td>none</td>
</tr>
<tr>
<td>ACTIVEEVENT</td>
<td>Pygame被激活或者隐藏</td>
<td>gain, state</td>
</tr>
<tr>
<td>KEYDOWN</td>
<td>键盘被按下</td>
<td>unicode, key, mod</td>
</tr>
<tr>
<td>KEYUP</td>
<td>键盘被放开</td>
<td>key, mod</td>
</tr>
<tr>
<td>MOUSEMOTION</td>
<td>鼠标移动</td>
<td>pos, rel, buttons</td>
</tr>
<tr>
<td>MOUSEBUTTONDOWN</td>
<td>鼠标按下</td>
<td>pos, button</td>
</tr>
<tr>
<td>MOUSEBUTTONUP</td>
<td>鼠标放开</td>
<td>pos, button</td>
</tr>
<tr>
<td>JOYAXISMOTION</td>
<td>游戏手柄的摇杆移动</td>
<td>joy, axis, value</td>
</tr>
<tr>
<td>JOYBALLMOTION</td>
<td>游戏手柄上的轨迹球混动</td>
<td>joy, axis, value</td>
</tr>
<tr>
<td>JOYHATMOTION</td>
<td>游戏手柄上的帽子开关移动</td>
<td>joy， axis， value</td>
</tr>
<tr>
<td>JOYBUTTONDOWN</td>
<td>游戏手柄按钮被按下</td>
<td>joy,button</td>
</tr>
<tr>
<td>JOYBUTTONUP</td>
<td>游戏手柄按钮被松开</td>
<td>joy, button</td>
</tr>
<tr>
<td>VIDEORESIZE</td>
<td>Pygame窗口缩放</td>
<td>size, w, h</td>
</tr>
<tr>
<td>VIDEOEXPOSE</td>
<td>部分窗口需要重新绘制</td>
<td>none</td>
</tr>
<tr>
<td>USEERVENT</td>
<td>用户定义的事件</td>
<td>code</td>
</tr>
</tbody>
</table>
<p>运动的小乌龟事件处理：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化Pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">size = width, height = <span class="number">600</span>, <span class="number">400</span></span><br><span class="line">speed = [<span class="number">-2</span>, <span class="number">1</span>]</span><br><span class="line">bg = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 帧率</span></span><br><span class="line">clock = pygame.time.Clock()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建指定大小的窗口，单位为像素，返回Surface对象，作为背景画布</span></span><br><span class="line">screen = pygame.display.set_mode(size)</span><br><span class="line"><span class="comment"># 设置窗口标题</span></span><br><span class="line">pygame.display.set_caption(<span class="string">"初次见面，大家多多关照!"</span>)</span><br><span class="line"><span class="comment"># 加载图片</span></span><br><span class="line">turtle = pygame.image.load(<span class="string">"turtle.png"</span>)</span><br><span class="line"><span class="comment"># 获得图像的位置矩形</span></span><br><span class="line">position = turtle.get_rect()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置左右键按下时的乌龟头朝向</span></span><br><span class="line">l_head = turtle</span><br><span class="line">r_head = pygame.transform.flip(turtle, <span class="keyword">True</span>, <span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环持续运行</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取事件，在此处退出</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            <span class="comment"># 退出pygame</span></span><br><span class="line">            pygame.quit()</span><br><span class="line">            <span class="comment"># 退出系统</span></span><br><span class="line">            sys.exit()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.KEYDOWN:</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_LEFT:</span><br><span class="line">                turtle = l_head</span><br><span class="line">                speed = [<span class="number">-1</span>, <span class="number">0</span>]</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">                turtle = r_head</span><br><span class="line">                speed = [<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_UP:</span><br><span class="line">                speed = [<span class="number">0</span>, <span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_DOWN:</span><br><span class="line">                speed = [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 移动图像</span></span><br><span class="line">    position = position.move(speed)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> position.left &lt; <span class="number">0</span> <span class="keyword">or</span> position.right &gt; width:</span><br><span class="line">        <span class="comment"># 翻转图像</span></span><br><span class="line">        turtle = pygame.transform.flip(turtle, <span class="keyword">True</span>, <span class="keyword">False</span>)</span><br><span class="line">        <span class="comment"># 反方向移动</span></span><br><span class="line">        speed[<span class="number">0</span>] = -speed[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> position.top &lt; <span class="number">0</span> <span class="keyword">or</span> position.bottom &gt; height:</span><br><span class="line">        speed[<span class="number">1</span>] = -speed[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 填充背景</span></span><br><span class="line">    screen.fill(bg)</span><br><span class="line">    <span class="comment"># 更新图像</span></span><br><span class="line">    screen.blit(turtle, position)</span><br><span class="line">    <span class="comment"># 更新界面</span></span><br><span class="line">    pygame.display.flip()</span><br><span class="line">    <span class="comment"># 设置帧率</span></span><br><span class="line">    clock.tick(<span class="number">200</span>)</span><br></pre></td></tr></table></figure></p>
<p>小乌龟素材：<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/turtle.png" alt=""></p>
<p>效果如下：<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/TurtleMoveEvent.gif" alt=""></p>
<hr>
<h3 id="绘制文字"><a href="#绘制文字" class="headerlink" title="绘制文字"></a>绘制文字</h3><p>Pygame没有文本组件，大师可以通过另一种方式实现相同效果。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过字体文件获得字体对象; filename:系统文字名， size：字体大小</span></span><br><span class="line">fontObj = pygame.font.SysFont(filename, size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置要显示的文字；text：要显示的文字， antialias：是否抗锯齿(Ture/False), color：字体颜色，background：背景色</span></span><br><span class="line">textSurfaceObj = fontObj.render(text, antialias, color, background=<span class="keyword">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得要显示的对象的rect</span></span><br><span class="line">textRectObj = textSurfaceObj.get_rect()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置显示对象的坐标</span></span><br><span class="line">textRectObj.center = (<span class="number">250</span>, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制字体</span></span><br><span class="line">screen.blit(textSurfaceObj, textRectObj)</span><br></pre></td></tr></table></figure></p>
<p>如果不知道系统中用什么字体，可以在IDLE环境中通过以下获取：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pygame</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(pygame.font.get_fonts())</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameFont.png" alt=""></p>
<p>文字绘制案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入需要的模块</span></span><br><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义颜色</span></span><br><span class="line">WHITE = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line">GREEN = ( <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>)</span><br><span class="line">BLUE = ( <span class="number">0</span>, <span class="number">0</span>, <span class="number">128</span>)</span><br><span class="line">SIZE = (width, height) = (<span class="number">500</span>, <span class="number">400</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置窗口的大小，单位为像素</span></span><br><span class="line">screen = pygame.display.set_mode(SIZE)</span><br><span class="line"><span class="comment"># 设置背景</span></span><br><span class="line">screen.fill(WHITE)</span><br><span class="line"><span class="comment"># 设置窗口的标题</span></span><br><span class="line">pygame.display.set_caption(<span class="string">'Font'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过字体文件获得字体对象</span></span><br><span class="line">fontObj = pygame.font.SysFont(<span class="string">"华文彩云"</span>, <span class="number">50</span>)</span><br><span class="line"><span class="comment"># 配置要显示的文字</span></span><br><span class="line">textSurfaceObj = fontObj.render(<span class="string">'Pygame'</span>, <span class="keyword">True</span>, BLUE, GREEN)</span><br><span class="line"><span class="comment"># 获得要显示的对象的rect</span></span><br><span class="line">textRectObj = textSurfaceObj.get_rect()</span><br><span class="line"><span class="comment"># 设置显示对象的坐标</span></span><br><span class="line">textRectObj.center = (<span class="number">250</span>, <span class="number">200</span>)</span><br><span class="line"><span class="comment"># 绘制字体</span></span><br><span class="line">screen.blit(textSurfaceObj, textRectObj)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 获取事件</span></span><br><span class="line">  <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">    <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">    <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">      <span class="comment"># 退出pygame</span></span><br><span class="line">      pygame.quit()</span><br><span class="line">      <span class="comment"># 退出系统</span></span><br><span class="line">      sys.exit()</span><br><span class="line"></span><br><span class="line">  pygame.display.flip()</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameFontTest.png" alt=""></p>
<p>模拟文本，在页面上打印event事件：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">SIZE = (width, height) = (<span class="number">600</span>, <span class="number">400</span>)</span><br><span class="line">BLACK = (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">GREEN = (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>)</span><br><span class="line">screen = pygame.display.set_mode(SIZE)</span><br><span class="line">pygame.display.set_caption(<span class="string">"Font"</span>)</span><br><span class="line"></span><br><span class="line">font = pygame.font.SysFont(<span class="keyword">None</span>, <span class="number">20</span>)</span><br><span class="line">line_height = font.get_linesize()</span><br><span class="line">postion = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">screen.fill(BLACK)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            pygame.quit()</span><br><span class="line">            sys.exit()</span><br><span class="line">        screen.blit(font.render(str(event), <span class="keyword">True</span>, GREEN), (<span class="number">0</span>, postion))</span><br><span class="line">        postion += line_height</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> postion &gt; height:</span><br><span class="line">            postion = <span class="number">0</span></span><br><span class="line">            screen.fill(BLACK)</span><br><span class="line"></span><br><span class="line">    pygame.display.flip()</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameFont2.png" alt=""></p>
<hr>
<h3 id="Pygame-动画精灵"><a href="#Pygame-动画精灵" class="headerlink" title="Pygame 动画精灵"></a>Pygame 动画精灵</h3><p>pygame.sprite.Sprite就是Pygame里面用来实现精灵的一个类，使用时，并不需要对它实例化，只需要继承他，然后按需写出自己的类就好了，因此非常简单实用。</p>
<h4 id="创建精灵"><a href="#创建精灵" class="headerlink" title="创建精灵"></a>创建精灵</h4><p>创建Sprite精灵类，用过调用精灵，创建对象：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义一个类，继承Sprite类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span><span class="params">(pygame.sprite.Sprite)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        pygame.sprite.Sprite.__init__(self)     <span class="comment"># 调用基类及init方法</span></span><br></pre></td></tr></table></figure></p>
<h4 id="精灵组"><a href="#精灵组" class="headerlink" title="精灵组"></a>精灵组</h4><p>当程序中有大量的实体的时候，操作这些实体将会是一件相当麻烦的事，使用精灵组来管理精灵绘制和更新，会轻松很多。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">group = pygame.sprite.Group()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>常用方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Group.sprites</td>
<td>精灵组</td>
</tr>
<tr>
<td>Group.add</td>
<td>添加</td>
</tr>
<tr>
<td>Group.copy</td>
<td>复制</td>
</tr>
<tr>
<td>Group.remove</td>
<td>移除</td>
</tr>
<tr>
<td>Group.has</td>
<td>判断精灵组成员</td>
</tr>
<tr>
<td>Group.update</td>
<td>更新</td>
</tr>
<tr>
<td>Group.draw</td>
<td>位块显示</td>
</tr>
<tr>
<td>Group.clear</td>
<td>绘制背景</td>
</tr>
<tr>
<td>Group.empty</td>
<td>清空</td>
</tr>
</tbody>
</table>
<h4 id="一个基本动画精灵小游戏代码："><a href="#一个基本动画精灵小游戏代码：" class="headerlink" title="一个基本动画精灵小游戏代码："></a>一个基本动画精灵小游戏代码：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span><span class="params">(pygame.sprite.Sprite)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, image, position, speed, bg_size)</span>:</span></span><br><span class="line">        pygame.sprite.Sprite.__init__(self)</span><br><span class="line"></span><br><span class="line">        self.image = pygame.image.load(image).convert_alpha()</span><br><span class="line">        self.rect = self.image.get_rect()</span><br><span class="line">        (self.rect.left, self.rect.top) = position</span><br><span class="line">        self.speed = speed</span><br><span class="line">        (self.width, self.height) = bg_size</span><br><span class="line">        <span class="comment"># 确定半径，在sprite内置碰撞检测中使用</span></span><br><span class="line">        self.radius = self.rect.width / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 运动检测</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.rect = self.rect.move(self.speed)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 完全穿过时穿越</span></span><br><span class="line">        <span class="keyword">if</span> self.rect.right &lt; <span class="number">0</span>:</span><br><span class="line">            self.rect.left = self.width</span><br><span class="line">        <span class="keyword">elif</span> self.rect.left &gt; self.width:</span><br><span class="line">            self.rect.right = <span class="number">0</span></span><br><span class="line">        <span class="keyword">elif</span> self.rect.bottom &lt; <span class="number">0</span>:</span><br><span class="line">            self.rect.top = self.height</span><br><span class="line">        <span class="keyword">elif</span> self.rect.top &gt; self.height:</span><br><span class="line">            self.rect.bottom = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义的碰撞检测方法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">collide_check</span><span class="params">(item, target)</span>:</span></span><br><span class="line">    col_balls = []</span><br><span class="line">    <span class="keyword">for</span> each <span class="keyword">in</span> target:</span><br><span class="line">        distance = math.sqrt(</span><br><span class="line">            math.pow((item.rect.center[<span class="number">0</span>] - each.rect.center[<span class="number">0</span>]), <span class="number">2</span>) +</span><br><span class="line">            math.pow((item.rect.center[<span class="number">1</span>] - each.rect.center[<span class="number">1</span>]), <span class="number">2</span>))</span><br><span class="line">        <span class="keyword">if</span> distance &lt;= (item.rect.width + each.rect.width) / <span class="number">2</span>:</span><br><span class="line">            col_balls.append(each)</span><br><span class="line">    <span class="keyword">return</span> col_balls</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    pygame.init()</span><br><span class="line"></span><br><span class="line">    ball_image = <span class="string">"gray_ball.png"</span></span><br><span class="line">    bg_image = <span class="string">"background.png"</span></span><br><span class="line"></span><br><span class="line">    running = <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">    bg_size = (width, height) = (<span class="number">1024</span>, <span class="number">681</span>)</span><br><span class="line">    screen = pygame.display.set_mode(bg_size)</span><br><span class="line">    pygame.display.set_caption(<span class="string">"PlayTheBall"</span>)</span><br><span class="line"></span><br><span class="line">    background = pygame.image.load(bg_image).convert_alpha()</span><br><span class="line"></span><br><span class="line">    balls = []</span><br><span class="line">    group = pygame.sprite.Group()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建5个小球</span></span><br><span class="line">    BALL_NUM = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(BALL_NUM):</span><br><span class="line">        <span class="comment"># 位置随机，速度随机</span></span><br><span class="line">        position = (random.randint(<span class="number">0</span>, width<span class="number">-100</span>), random.randint(<span class="number">0</span>, height<span class="number">-100</span>))</span><br><span class="line">        speed = [random.randint(<span class="number">-10</span>, <span class="number">10</span>), random.randint(<span class="number">-10</span>, <span class="number">10</span>)]</span><br><span class="line">        ball = Ball(ball_image, position, speed, bg_size)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 生成球时的碰撞检测</span></span><br><span class="line">        <span class="string">""" # 自定义碰撞检测</span></span><br><span class="line"><span class="string">        while collide_check(ball, balls):</span></span><br><span class="line"><span class="string">            (ball.rect.left, ball.rect.top) = random.randint(0, width-100), random.randint(0, height-100)"""</span></span><br><span class="line">        <span class="comment"># sprite方法碰撞检测</span></span><br><span class="line">        <span class="keyword">while</span> pygame.sprite.spritecollide(ball, group, <span class="keyword">False</span>, pygame.sprite.collide_circle):</span><br><span class="line">            (ball.rect.left, ball.rect.top) = (random.randint(<span class="number">0</span>, width - <span class="number">100</span>), random.randint(<span class="number">0</span>, height - <span class="number">100</span>))</span><br><span class="line"></span><br><span class="line">        balls.append(ball)</span><br><span class="line">        group.add(ball)</span><br><span class="line"></span><br><span class="line">    clock = pygame.time.Clock()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> running:</span><br><span class="line">        <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">            <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">                pygame.quit()</span><br><span class="line">                sys.exit()</span><br><span class="line"></span><br><span class="line">        screen.blit(background, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> balls:</span><br><span class="line">            each.move()</span><br><span class="line">            screen.blit(each.image, each.rect)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># sprite 的碰撞检测</span></span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> group:</span><br><span class="line">            group.remove(each)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> pygame.sprite.spritecollide(each, group, <span class="keyword">False</span>, pygame.sprite.collide_circle):</span><br><span class="line">                each.speed[<span class="number">0</span>] = -each.speed[<span class="number">0</span>]</span><br><span class="line">                each.speed[<span class="number">1</span>] = -each.speed[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            group.add(each)</span><br><span class="line"></span><br><span class="line">        <span class="string">"""# 自定义的碰撞检测</span></span><br><span class="line"><span class="string">        for i in range(BALL_NUM):</span></span><br><span class="line"><span class="string">            item = balls.pop(i)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            if collide_check(item, balls):</span></span><br><span class="line"><span class="string">                item.speed[0] = -item.speed[0]</span></span><br><span class="line"><span class="string">                item.speed[1] = -item.speed[1]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            balls.insert(i, item)"""</span></span><br><span class="line"></span><br><span class="line">        pygame.display.flip()</span><br><span class="line">        clock.tick(<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameSpriteBall.gif" alt=""></p>
<hr>
<h4 id="播放音乐和音效"><a href="#播放音乐和音效" class="headerlink" title="播放音乐和音效"></a>播放音乐和音效</h4><p>背景音乐是时刻伴随着游戏存在的，往往是重复播放的一首歌或曲子。<br>音效是某种条件下呗出发产生的，如小球碰撞时发出声音。</p>
<p>Pygame支持的声音格式十分有限，一般使用ogg格式作为背景音乐，用无压缩的wav格式作为音效。格式可以通过“格式工厂”来转换。</p>
<p>格式工厂官网链接：<a href="http://www.pcfreetime.com/" target="_blank" rel="noopener">http://www.pcfreetime.com/</a></p>
<h4 id="音效"><a href="#音效" class="headerlink" title="音效"></a>音效</h4><p>播放音效使用mixer模块，先生成一个Sound对象，然后调用play()方法来播放。</p>
<p>音效可以有多个。</p>
<p>Sound支持的方法：<br>| 方法               | 描述                           |<br>| —————— | —————————— |<br>| play()             | 播放音效                       |<br>| stop()             | 停止播放                       |<br>| fadeout()          | 淡出                           |<br>| set_volume()       | 设置音量                       |<br>| get_volune()       | 获取音量                       |<br>| get_num_channels() | 计算该音效播放了多少次         |<br>| get_length()       | 获得该音效的长度，多少秒       |<br>| get_raw()          | 将音效以二进制格式的字符串返回 |</p>
<h4 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h4><p>音乐使用music模块。</p>
<p>背景音乐只能有一个。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>load()</td>
<td>载入音乐</td>
</tr>
<tr>
<td>play()</td>
<td>播放音乐</td>
</tr>
<tr>
<td>rewind()</td>
<td>重新播放</td>
</tr>
<tr>
<td>stop()</td>
<td>停止播放</td>
</tr>
<tr>
<td>pause()</td>
<td>暂停播放</td>
</tr>
<tr>
<td>uppause()</td>
<td>恢复播放</td>
</tr>
<tr>
<td>fadeout()</td>
<td>淡出</td>
</tr>
<tr>
<td>set_volume()</td>
<td>设置音量</td>
</tr>
<tr>
<td>get_volume()</td>
<td>获取音量</td>
</tr>
<tr>
<td>get_busy()</td>
<td>监测音乐流是否正在播放</td>
</tr>
<tr>
<td>set_pos()</td>
<td>设置开始播放的位置</td>
</tr>
<tr>
<td>get_pos()</td>
<td>获取已经播放的时间</td>
</tr>
<tr>
<td>queue()</td>
<td>将音乐文件放入待播放列表中</td>
</tr>
<tr>
<td>set_endevent()</td>
<td>在音乐播放完毕时发送事件</td>
</tr>
<tr>
<td>get_endevent()</td>
<td>获取音乐播放完毕时发送的事件类型</td>
</tr>
</tbody>
</table>
<p>声音播放案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line">pygame.mixer.init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载背景音乐</span></span><br><span class="line">pygame.mixer.music.load(<span class="string">"bg_music.ogg"</span>)</span><br><span class="line">pygame.mixer.music.set_volume(<span class="number">0.2</span>)</span><br><span class="line">pygame.mixer.music.play()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载音效</span></span><br><span class="line">cat_sound = pygame.mixer.Sound(<span class="string">"cat.wav"</span>)</span><br><span class="line">cat_sound.set_volume(<span class="number">0.2</span>)</span><br><span class="line">dog_sound = pygame.mixer.Sound(<span class="string">"dog.wav"</span>)</span><br><span class="line">dog_sound.set_volume(<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line">bg_size = (width, height) = (<span class="number">300</span>, <span class="number">200</span>)</span><br><span class="line">screen = pygame.display.set_mode(bg_size)</span><br><span class="line">pygame.display.set_caption(<span class="string">"Music"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 音乐暂停标志</span></span><br><span class="line">pause = <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载暂停和开始图片，并设置居中</span></span><br><span class="line">pause_img = pygame.image.load(<span class="string">"pause.png"</span>).convert_alpha()</span><br><span class="line">unpause_img = pygame.image.load(<span class="string">"unpause.png"</span>).convert_alpha()</span><br><span class="line">pause_rect = pause_img.get_rect()</span><br><span class="line">(pause_rect.left, pause_rect.top) = ((width - pause_rect.width) // <span class="number">2</span>, (height - pause_rect.height) // <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">clock = pygame.time.Clock()</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            pygame.quit()</span><br><span class="line">            sys.exit()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 鼠标点击事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.MOUSEBUTTONDOWN:</span><br><span class="line">            <span class="comment"># 1为鼠标左键，2为鼠标中键，3为鼠标右键</span></span><br><span class="line">            <span class="keyword">if</span> event.button == <span class="number">1</span>:</span><br><span class="line">                cat_sound.play()</span><br><span class="line">            <span class="keyword">if</span> event.button == <span class="number">3</span>:</span><br><span class="line">                dog_sound.play()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 设置按键事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.KEYDOWN:</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_SPACE:</span><br><span class="line">                pause = <span class="keyword">not</span> pause</span><br><span class="line"></span><br><span class="line">    screen.fill((<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 根据pause状态画图标，的并设置背景的暂停和播放</span></span><br><span class="line">    <span class="keyword">if</span> pause:</span><br><span class="line">        screen.blit(pause_img, pause_rect)</span><br><span class="line">        pygame.mixer.music.pause()</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        screen.blit(unpause_img, pause_rect)</span><br><span class="line">        pygame.mixer.music.unpause()</span><br><span class="line"></span><br><span class="line">    pygame.display.flip()</span><br><span class="line"></span><br><span class="line">    clock.tick(<span class="number">30</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameMusic.png" alt=""></p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/12/Python学习笔记——Pygame游戏开发/" data-id="cjkqx87n60000l8utp8oendzv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——网络爬虫" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/09/Python学习笔记——网络爬虫/" class="article-date">
  <time datetime="2018-08-09T07:05:46.000Z" itemprop="datePublished">2018-08-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/09/Python学习笔记——网络爬虫/">Python学习笔记——网络爬虫</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h3 id="网络爬虫"><a href="#网络爬虫" class="headerlink" title="网络爬虫"></a>网络爬虫</h3><p>网络爬虫（又被称为网页蜘蛛，网络机器人，在FOAF社区中间，更经常的称为网页追逐者），是一种按照一定的规则，自动地抓取万维网信息的程序或者脚本。网络爬虫就是根据网页的地址来寻找网页的，也就是URL。举一个简单的例子，我们在浏览器的地址栏中输入的字符串就是URL，例如：<a href="https://www.baidu.com/" target="_blank" rel="noopener">https://www.baidu.com/</a></p>
<hr>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><p>URL的一般格式为(当方括号[]的为可选项)：protocol://hostname[:port]/path/[;parameters][?query]#fragment</p>
<ul>
<li>“protocol://“ : 协议，如http, https, ftp, file(本地磁盘文件), ed2k …</li>
<li>“hostname[:port]” : 存放资源的服务器的域名系统或IP地址(有时候包含端口号，各种传输协议都有默认的端口嗷，如http的80端口)</li>
<li>“path/[;parameters][?query]#fragment” : 资源的具体地址，如目录或文件名等。</li>
</ul>
<hr>
<h3 id="python访问URL测试"><a href="#python访问URL测试" class="headerlink" title="python访问URL测试"></a>python访问URL测试</h3><p>使用urllib.request实现：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> urllib.request       <span class="comment"># 导入urllib.request包</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>response = urllib.request.urlopen(<span class="string">"http://www.aijunhao.com.cn"</span>)     <span class="comment"># 获取我的个人网站首页</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>html = response.read().decode(<span class="string">"utf-8"</span>)      <span class="comment"># 读取我的个人网站首页，并用utf-8编码模式</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(html)             <span class="comment"># 打印</span></span><br><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=utf-8"</span>/&gt;</span><br><span class="line">        &lt;link rel=<span class="string">"shortcut icon"</span> href=<span class="string">"images/1.ico"</span>&gt;</span><br><span class="line">        &lt;link href=<span class="string">"css/menu.css"</span> rel=<span class="string">"stylesheet"</span>&gt;</span><br><span class="line">        &lt;title&gt;AI , Sparks of fire&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;!-- 背景画布开始 --&gt;</span><br><span class="line">        &lt;canvas id="canvas" &gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script src="js/background.js" type="text/javascript"&gt;&lt;/script&gt;</span><br><span class="line">        &lt;!-- 背景画布结束 --&gt;</span><br><span class="line">        &lt;!-- 使用外联播放器，并隐藏播放器 --&gt;</span><br><span class="line">        &lt;iframe frameborder="no" border="0" width=0 height=0  src="//music.163.com/outchain/player?type=2&amp;id=491757187&amp;auto=1&amp;height=66"&gt;&lt;/iframe&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class="cs" &gt;</span><br><span class="line">            &lt;div class="introduction" align="center"&gt;</span><br><span class="line"></span><br><span class="line">                &lt;header style="color: white;font-size: 4rem;"&gt;Hello，&lt;/header&gt;</span><br><span class="line">                &lt;header style=<span class="string">"color: white;font-size: 2rem;"</span>&gt;I<span class="string">'m Junhao Ai.&lt;/header&gt;</span></span><br><span class="line"><span class="string">                &lt;p style="color: white;font-size: 1rem;"&gt;A student of the Zhijiang College of ZheJiang University of Technology.&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;br&gt; &lt;br&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;p&gt;Whatever is worth doing is worth doing well.&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;br&gt; &lt;br&gt; &lt;br&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;a href="http://user.qzone.qq.com/1172949809/infocenter" class="btn-slide" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle"&gt;&lt;i class="fa fa-rocket"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title"&gt;QQ Zone&lt;/span&gt; &lt;span class="title-hover"&gt;Visit me.&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href="files/test.php" class="btn-slide2" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle2"&gt;&lt;i class="fa fa-download"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title2"&gt;About Me&lt;/span&gt; &lt;span class="title-hover2"&gt;Building...&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href="https://aijunhao.github.io" class="btn-slide" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle"&gt;&lt;i class="fa fa-rocket"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title"&gt;My Blog&lt;/span&gt; &lt;span class="title-hover"&gt;Building...&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href="files/test.php" class="btn-slide2" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle2"&gt;&lt;i class="fa fa-download"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title2"&gt;My Gains&lt;/span&gt; &lt;span class="title-hover2"&gt;Building...&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=1172949809&amp;website=www.oicqzone.com" class="btn-slide" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle"&gt;&lt;i class="fa fa-rocket"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title"&gt;Contact Me&lt;/span&gt; &lt;span class="title-hover"&gt;QQ Test&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/09/Python学习笔记——网络爬虫/myweb.png" alt=""></p>
<hr>
<h3 id="爬虫实战"><a href="#爬虫实战" class="headerlink" title="爬虫实战"></a>爬虫实战</h3><h4 id="实例1-抓取一张网络图片"><a href="#实例1-抓取一张网络图片" class="headerlink" title="实例1 抓取一张网络图片"></a>实例1 抓取一张网络图片</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">response = urllib.request.urlopen(<span class="string">"http://www.aijunhao.com.cn/images/building.png"</span>)</span><br><span class="line">img = response.read()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'webTest.jpg'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(img)</span><br></pre></td></tr></table></figure>
<h4 id="实例2"><a href="#实例2" class="headerlink" title="实例2"></a>实例2</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/09/Python学习笔记——网络爬虫/" data-id="cjkqx87oe000il8utbpxa9ff1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——GUI编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/08/Python学习笔记——GUI编程/" class="article-date">
  <time datetime="2018-08-08T11:48:50.000Z" itemprop="datePublished">2018-08-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/08/Python学习笔记——GUI编程/">Python学习笔记——GUI编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>GUI的终极选择：Tkinter</p>
<h2 id="https-blog-csdn-net-u014380159-article-details-51941842"><a href="#https-blog-csdn-net-u014380159-article-details-51941842" class="headerlink" title="https://blog.csdn.net/u014380159/article/details/51941842"></a><a href="https://blog.csdn.net/u014380159/article/details/51941842" target="_blank" rel="noopener">https://blog.csdn.net/u014380159/article/details/51941842</a></h2><h3 id="第一个实例"><a href="#第一个实例" class="headerlink" title="第一个实例"></a>第一个实例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk      <span class="comment"># 导入tkinter模块</span></span><br><span class="line"></span><br><span class="line">root = tk.Tk()        <span class="comment"># 生成窗口实例，即父容器</span></span><br><span class="line"></span><br><span class="line">photo = tk.PhotoImage(file=<span class="string">'bg.gif'</span>)      <span class="comment"># 添加图片</span></span><br><span class="line">theLabel = tk.Label(root,</span><br><span class="line">                  text=<span class="string">'我们一起学猫叫\n一起喵喵喵喵~'</span>,</span><br><span class="line">                  justify=tk.LEFT,</span><br><span class="line">                  image=photo,</span><br><span class="line">                  compound=tk.CENTER,</span><br><span class="line">                  font=(<span class="string">"华康少女文字W5"</span>, <span class="number">20</span>),</span><br><span class="line">                  fg=<span class="string">"white"</span>)</span><br><span class="line"></span><br><span class="line">theLabel.pack()</span><br><span class="line"></span><br><span class="line">tk.mainloop()   <span class="comment"># 进入消息循环</span></span><br></pre></td></tr></table></figure>
<h2 id=""><a href="#" class="headerlink" title=""></a><img src="/2018/08/08/Python学习笔记——GUI编程/FirstTkinter.PNG" alt=""></h2><h3 id="tkinter-常用方法"><a href="#tkinter-常用方法" class="headerlink" title="tkinter 常用方法"></a>tkinter 常用方法</h3><table>
<thead>
<tr>
<th style="text-align:left">方法名</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">案例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Tk()</td>
<td style="text-align:left">生成窗口实例</td>
<td style="text-align:left">root = tkinter.Tk()</td>
</tr>
<tr>
<td style="text-align:left">title()</td>
<td style="text-align:left">设置窗口标题</td>
<td style="text-align:left">root.title(‘title’)</td>
</tr>
<tr>
<td style="text-align:left">geometry()</td>
<td style="text-align:left">设置窗口大小</td>
<td style="text-align:left">root.geometry(‘300x200’)</td>
</tr>
<tr>
<td style="text-align:left">mainloop()</td>
<td style="text-align:left">主事件循环</td>
<td style="text-align:left">root.mainloop() 或 tkinter.mainloop()</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<hr>
<h3 id="Label-文本"><a href="#Label-文本" class="headerlink" title="Label 文本"></a>Label 文本</h3><p>标签控件，可以显示文本和位图。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">label = tkinter.Label(master, option=value, ... )</span><br><span class="line"></span><br><span class="line">l.pack()</span><br></pre></td></tr></table></figure></p>
<p>案例:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">counter = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">counter_label</span><span class="params">(label)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">global</span> counter</span><br><span class="line">        counter += <span class="number">1</span></span><br><span class="line">        label.config(text=str(counter))</span><br><span class="line">        label.after(<span class="number">1000</span>, count)</span><br><span class="line"></span><br><span class="line">    count()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root = tk.Tk()</span><br><span class="line">root.title(<span class="string">"Counting Seconds"</span>)</span><br><span class="line">label = tk.Label(root, fg=<span class="string">"green"</span>)</span><br><span class="line">label.pack()</span><br><span class="line">counter_label(label)</span><br><span class="line">button = tk.Button(root, text=<span class="string">'Stop'</span>, width=<span class="number">25</span>, command=root.destroy)</span><br><span class="line">button.pack()</span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th>可选项(option)</th>
<th>描述</th>
<th>案例</th>
</tr>
</thead>
<tbody>
<tr>
<td>activebackground</td>
<td>设置当Label处于活动状态(state选项设置状态)，选择框的背景色。</td>
<td>activebackground=”#000000”</td>
</tr>
<tr>
<td>activeforeground</td>
<td>设置当Label处于活动状态(当鼠标点击时)，选择框的文本颜色。</td>
<td>activeforeground=”yellow”</td>
</tr>
<tr>
<td>anchor</td>
<td>锚选项，可选项为n, ne, e, se, s, sw, w, nw, center(默认)。</td>
<td>anchor=’w’</td>
</tr>
<tr>
<td>bg/background</td>
<td>标签的背景色。</td>
<td>bg=”yellow”</td>
</tr>
<tr>
<td>compound</td>
<td>文本和图像的混合模式</td>
<td>image=img, <br> compound=tkinter.LEFT</td>
</tr>
<tr>
<td>fg</td>
<td>按钮文本的颜色。</td>
<td>fg=”yellow”</td>
</tr>
<tr>
<td>font</td>
<td>文本字体。</td>
<td>font=”楷体”</td>
</tr>
<tr>
<td>height/width</td>
<td>按钮的高度/宽度。</td>
<td>height=5,width=15</td>
</tr>
<tr>
<td>image</td>
<td>按钮图片。</td>
<td>img_png = tkinter.PhotoImage(file = ‘18.gif’)  <br>  button = tkinter.Label(root,image=img_png)</td>
</tr>
<tr>
<td>justify</td>
<td>显示多行文本的对齐方式，可选项包括left, right, cneter(默认)。</td>
<td>justify=”center” <br> 或 justify=tkinter.CENTER</td>
</tr>
<tr>
<td>text</td>
<td>按钮的文本内容</td>
<td>text=”…”</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="Button-按钮"><a href="#Button-按钮" class="headerlink" title="Button 按钮"></a>Button 按钮</h3><p>按钮控件，在程序中显示按钮。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line">button = tkinter.Button(master, option=value, ... )       <span class="comment"># master:按钮父容器,option:可选项</span></span><br><span class="line"></span><br><span class="line">button.pack()       <span class="comment"># 将小部件放置到窗口中</span></span><br></pre></td></tr></table></figure>
<p>案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter</span><br><span class="line"></span><br><span class="line">root = tkinter.Tk()</span><br><span class="line">button = tkinter.Button(root, text=<span class="string">"Button"</span>)</span><br><span class="line"></span><br><span class="line">button.pack()</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/08/Python学习笔记——GUI编程/Button.PNG" alt=""></p>
<table>
<thead>
<tr>
<th>可选项(option)</th>
<th>描述</th>
<th>案例</th>
</tr>
</thead>
<tbody>
<tr>
<td>activebackground</td>
<td>当鼠标点击时，按钮的背景色。</td>
<td>activebackground=”#000000”</td>
</tr>
<tr>
<td>activeforeground</td>
<td>当鼠标点击时，按钮的文本颜色。</td>
<td>activeforeground=”yellow”</td>
</tr>
<tr>
<td>anchor</td>
<td>锚选项，可选项为n, ne, e, se, s, sw, w, nw, center(默认)。</td>
<td>anchor=’w’</td>
</tr>
<tr>
<td>bd</td>
<td>按钮边框的大小，默认为 2 个像素。</td>
<td>bd=5</td>
</tr>
<tr>
<td>bg/background</td>
<td>按钮的背景色。</td>
<td>bg=”blue”</td>
</tr>
<tr>
<td>command</td>
<td>按钮关联的函数，当按钮被点击时，执行该函数。</td>
<td>command=函数名</td>
</tr>
<tr>
<td>fg</td>
<td>按钮文本的颜色。</td>
<td>fg=”yellow”</td>
</tr>
<tr>
<td>font</td>
<td>文本字体。</td>
<td>font=”楷体”</td>
</tr>
<tr>
<td>height/width</td>
<td>按钮的高度/宽度。</td>
<td>height=5,width=15</td>
</tr>
<tr>
<td>image</td>
<td>按钮图片。</td>
<td>img_png = tkinter.PhotoImage(file = ‘18.gif’)  <br>  button = tkinter.Button(root,image=img_png)</td>
</tr>
<tr>
<td>justify</td>
<td>显示多行文本的对齐方式，可选项包括left, right, cneter(默认)。</td>
<td>justify=”center” <br> 或 justify=tkinter.CENTER</td>
</tr>
<tr>
<td>padx/pady</td>
<td>按钮在x/y轴防线上的内边距。</td>
<td>padx=30, pady=30</td>
</tr>
<tr>
<td>relief</td>
<td>边框样式，设置控件3D效果，可选的有：flat(默认)、sunken、raised、groove、ridge。</td>
<td>relief=”flat”</td>
</tr>
<tr>
<td>state</td>
<td>设置按钮组件状态,可选的有normal(默认)、active、 disabled。</td>
<td>state=”disabled”</td>
</tr>
<tr>
<td>underline</td>
<td>下划线。</td>
<td>有些小问题。underline=0</td>
</tr>
<tr>
<td>text</td>
<td>按钮的文本内容</td>
<td>text=”…”</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="Checkbutton-复选框"><a href="#Checkbutton-复选框" class="headerlink" title="Checkbutton 复选框"></a>Checkbutton 复选框</h3><p>多选框控件，用于在程序中提供多项选择框。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line">c = Checkbutton ( master, option=value, ... )</span><br><span class="line">c.pack()</span><br></pre></td></tr></table></figure>
<p>案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter</span><br><span class="line"></span><br><span class="line">root = tkinter.Tk()</span><br><span class="line"></span><br><span class="line">c = tkinter.Checkbutton(root, text=<span class="string">"选择框"</span>)</span><br><span class="line"></span><br><span class="line">c.pack()</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/08/Python学习笔记——GUI编程/CheckButton1.PNG" alt=""></p>
<table>
<thead>
<tr>
<th style="text-align:left">可选项(option)</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">案例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">activebackground</td>
<td style="text-align:left">设置当Button处于活动状态(当鼠标点击时)，选择框的背景色。</td>
<td style="text-align:left">activebackground=”#000000”</td>
</tr>
<tr>
<td style="text-align:left">activeforeground</td>
<td style="text-align:left">设置当Button处于活动状态(当鼠标点击时)，选择框的文本颜色。</td>
<td style="text-align:left">activeforeground=”yellow”</td>
</tr>
<tr>
<td style="text-align:left">anchor</td>
<td style="text-align:left">锚选项，可选项为n, ne, e, se, s, sw, w, nw, center(默认)。</td>
<td style="text-align:left">anchor=’w’</td>
</tr>
<tr>
<td style="text-align:left">bg/background</td>
<td style="text-align:left">按钮的背景色。</td>
<td style="text-align:left">bg=”blue”</td>
</tr>
<tr>
<td style="text-align:left">bitmap</td>
<td style="text-align:left">使用位图，可选项有error，gray75，gray50，gray25，gray12，<br>hourglass，info，questhead，question，warning</td>
<td style="text-align:left">bitmap=”error”</td>
</tr>
<tr>
<td style="text-align:left">bd</td>
<td style="text-align:left">边框的大小，默认为 2 个像素</td>
<td style="text-align:left">bd=10</td>
</tr>
<tr>
<td style="text-align:left">command</td>
<td style="text-align:left">按钮关联的函数，当按钮被点击时，执行该函数。</td>
<td style="text-align:left">command=函数名</td>
</tr>
<tr>
<td style="text-align:left">cursor</td>
<td style="text-align:left">光标的形状设定，可选项有arrow(默认), circle, cross, plus</td>
<td style="text-align:left">cursor=”circle”</td>
</tr>
<tr>
<td style="text-align:left">disabledforeground</td>
<td style="text-align:left">禁用选项的前景色</td>
<td style="text-align:left">disabledforeground=”#123456”</td>
</tr>
<tr>
<td style="text-align:left">font</td>
<td style="text-align:left">文本字体</td>
<td style="text-align:left">font=”…”</td>
</tr>
<tr>
<td style="text-align:left">fg</td>
<td style="text-align:left">选项的前景色</td>
<td style="text-align:left">fg=”red”</td>
</tr>
<tr>
<td style="text-align:left">image</td>
<td style="text-align:left">是否使用图标。</td>
<td style="text-align:left">img = tkinter.PhotoImage(file=”bg.gif”) <br>c = tkinter.Checkbutton(root,image=img)</td>
</tr>
<tr>
<td style="text-align:left">justify</td>
<td style="text-align:left">多行文本设置不同行之间的对齐方式，可选项包括left, right, cneter(默认)。</td>
<td style="text-align:left">justify=“center” <br> 或 justify=tkinter.CENTER</td>
</tr>
<tr>
<td style="text-align:left">onvalue/offvalue</td>
<td style="text-align:left">设置 Checkbutton 的状态值。</td>
<td style="text-align:left">onvalue = 1, offvalue = 0</td>
</tr>
<tr>
<td style="text-align:left">padx/pady</td>
<td style="text-align:left">设置选择框在x轴/y轴方向上的内边距，默认为1像素</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">relief</td>
<td style="text-align:left">边框样式，设置控件3D效果，可选的有：flat(默认)、sunken、raised、groove、ridge。</td>
<td style="text-align:left">relief=”flat”</td>
</tr>
<tr>
<td style="text-align:left">relief=”raised”</td>
<td style="text-align:left">选中后的颜色。</td>
<td style="text-align:left">selectcolor=”red”</td>
</tr>
<tr>
<td style="text-align:left">state</td>
<td style="text-align:left">设置选择框组件状态,可选的有normal(默认)、active、 disabled。</td>
<td style="text-align:left">state=”disabled”</td>
</tr>
<tr>
<td style="text-align:left">underline</td>
<td style="text-align:left">下划线。</td>
<td style="text-align:left">有些小问题。underline=0</td>
</tr>
<tr>
<td style="text-align:left">text</td>
<td style="text-align:left">选择框的文本内容</td>
<td style="text-align:left">text=”…”</td>
</tr>
<tr>
<td style="text-align:left">variable</td>
<td style="text-align:left">变量，variable 的值为 1 或 0，代表着选中或不选中</td>
<td style="text-align:left">v = tkinter.IntVar() <br> c = tkinter.Checkbutton(root, variable = v)</td>
</tr>
</tbody>
</table>
<p>常用方法<br>| 方法       | 描述                                                                       |<br>|:———- |:————————————————————————– |<br>| deselect() | 清除复选框选中选项。                                                       |<br>| flash()    | 在激活状态颜色和正常颜色之间闪烁几次单选按钮，但保持它开始时的状态。       |<br>| invoke()   | 可以调用此方法来获得与用户单击单选按钮以更改其状态时发生的操作相同的操作。 |<br>| select()   | 设置按钮为选中。                                                           |<br>| toggle()   | 选中与没有选中的选项互相切换。                                             |</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter</span><br><span class="line"></span><br><span class="line">root = tkinter.Tk()         <span class="comment"># 生成窗口</span></span><br><span class="line"></span><br><span class="line">GIRLS = [<span class="string">'西施'</span>, <span class="string">'貂蝉'</span>, <span class="string">'王昭君'</span>, <span class="string">'杨玉环'</span>]</span><br><span class="line">v = []        <span class="comment"># 表示按钮是否被选中</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> girl <span class="keyword">in</span> GIRLS:</span><br><span class="line">    v.append(tkinter.IntVar())</span><br><span class="line">    b = tkinter.Checkbutton(root, text=girl, variable=v[<span class="number">-1</span>])</span><br><span class="line">    b.pack(anchor=<span class="string">'w'</span>)</span><br><span class="line"></span><br><span class="line">tkinter.mainloop()</span><br></pre></td></tr></table></figure>
<p><img src="/2018/08/08/Python学习笔记——GUI编程/TkinterCheckButton.PNG" alt=""></p>
<hr>
<h3 id="Radiobutton"><a href="#Radiobutton" class="headerlink" title="Radiobutton"></a>Radiobutton</h3><p>单选按钮控件，显示一个单选的按钮状态。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/08/Python学习笔记——GUI编程/" data-id="cjkqx87nf0001l8utxwmp5rwk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——异常处理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/07/Python学习笔记——异常处理/" class="article-date">
  <time datetime="2018-08-07T14:22:19.000Z" itemprop="datePublished">2018-08-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/07/Python学习笔记——异常处理/">Python学习笔记——异常处理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Python标准异常总结"><a href="#Python标准异常总结" class="headerlink" title="Python标准异常总结"></a>Python标准异常总结</h3><table>
<thead>
<tr>
<th style="text-align:left">异常</th>
<th style="text-align:left">异常说明</th>
<th style="text-align:center">出现程度</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">AssertionError</td>
<td style="text-align:left">断言语句（assert）失败</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">AttributeError</td>
<td style="text-align:left">尝试访问未知的对象属性</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">EOFError</td>
<td style="text-align:left">用户输入文件末尾标志EOF（Ctrl+d）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">FloatingPointError</td>
<td style="text-align:left">浮点计算错误</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">GeneratorExit</td>
<td style="text-align:left">generator.close()方法被调用的时候</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">ImportError</td>
<td style="text-align:left">导入模块失败的时候</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">IndexError</td>
<td style="text-align:left">索引超出序列的范围</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">KeyError</td>
<td style="text-align:left">字典中查找一个不存在的关键字</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">KeyboardInterrupt</td>
<td style="text-align:left">用户输入中断键（Ctrl+c）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">MemoryError</td>
<td style="text-align:left">内存溢出（可通过删除对象释放内存）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">NameError</td>
<td style="text-align:left">尝试访问一个不存在的变量</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">NotImplementedError</td>
<td style="text-align:left">尚未实现的方法</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">OSError</td>
<td style="text-align:left">操作系统产生的异常（例如打开一个不存在的文件）</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">OverflowError</td>
<td style="text-align:left">数值运算超出最大限制</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">ReferenceError</td>
<td style="text-align:left">弱引用（weak reference）试图访问一个已经被垃圾回收机制回收了的对象</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">RuntimeError</td>
<td style="text-align:left">一般的运行时错误</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">StopIteration</td>
<td style="text-align:left">迭代器没有更多的值</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">SyntaxError</td>
<td style="text-align:left">Python的语法错误</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">IndentationError</td>
<td style="text-align:left">缩进错误</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">TabError</td>
<td style="text-align:left">Tab和空格混合使用</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">SystemError</td>
<td style="text-align:left">Python编译器系统错误</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">SystemExit</td>
<td style="text-align:left">Python编译器进程被关闭</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">TypeError</td>
<td style="text-align:left">不同类型间的无效操作</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">UnboundLocalError</td>
<td style="text-align:left">访问一个未初始化的本地变量（NameError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">UnicodeError</td>
<td style="text-align:left">Unicode相关的错误（ValueError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">UnicodeEncodeError</td>
<td style="text-align:left">Unicode编码时的错误（UnicodeError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">UnicodeDecodeError</td>
<td style="text-align:left">Unicode解码时的错误（UnicodeError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">UnicodeTranslateError</td>
<td style="text-align:left">Unicode转换时的错误（UnicodeError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">ValueError</td>
<td style="text-align:left">传入无效的参数</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">ZeroDivisionError</td>
<td style="text-align:left">除数为零</td>
<td style="text-align:center">常见</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><p>捕捉异常可以使用try/except语句。</p>
<p>try/except语句用来检测try语句块中的错误，从而让except语句捕获异常信息并处理。</p>
<p>如果你不想在异常发生时结束你的程序，只需在try里捕获它。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  &lt;语句块&gt;       <span class="comment"># 运行代码</span></span><br><span class="line"><span class="keyword">except</span> &lt;异常名&gt; [<span class="keyword">as</span> reason]:</span><br><span class="line">  &lt;语句块&gt;       <span class="comment"># 出现错误时执行的语句</span></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">  &lt;语句块&gt;        <span class="comment"># 无论都会被执行的代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = open(<span class="string">"一个错误的文件.txt"</span>)</span><br><span class="line">    print(f.read())</span><br><span class="line">    f.close()</span><br><span class="line"><span class="keyword">except</span> OSError <span class="keyword">as</span> reason:</span><br><span class="line">    print(<span class="string">'文件出错！错误原因是：'</span> + str(reason))    <span class="comment"># 打印异常名</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">文件出错！错误原因是：[Errno <span class="number">2</span>] No such file <span class="keyword">or</span> directory: <span class="string">'一个错误的文件.txt'</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="触发异常"><a href="#触发异常" class="headerlink" title="触发异常"></a>触发异常</h3><p>我们可以使用raise语句自己触发异常。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line"><span class="keyword">raise</span> [Exception [, args [, traceback]]]</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="用户自定义异常类型"><a href="#用户自定义异常类型" class="headerlink" title="用户自定义异常类型"></a>用户自定义异常类型</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自定义异常类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Networkerror</span><span class="params">(RuntimeError)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arg)</span>:</span></span><br><span class="line">        self.args = arg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 触发该异常，如下所示：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">raise</span> Networkerror(<span class="string">"Bad hostname"</span>)</span><br><span class="line"><span class="keyword">except</span> Networkerror,e:</span><br><span class="line">    <span class="keyword">print</span> e.args</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/07/Python学习笔记——异常处理/" data-id="cjkqx87of000kl8utrvz25uuk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——常用模块" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/07/Python学习笔记——常用模块/" class="article-date">
  <time datetime="2018-08-07T08:25:42.000Z" itemprop="datePublished">2018-08-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/07/Python学习笔记——常用模块/">Python学习笔记——常用模块</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="Python模块篇"><a href="#Python模块篇" class="headerlink" title="Python模块篇"></a>Python模块篇</h2><hr>
<h3 id="模块导入"><a href="#模块导入" class="headerlink" title="模块导入"></a>模块导入</h3><h4 id="import语句"><a href="#import语句" class="headerlink" title="import语句"></a>import语句</h4><p>在文件顶部位置导入模块，然后使用。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line"><span class="keyword">import</span> module_name          <span class="comment"># 导入一个模块，同一个模块只会被导入一次</span></span><br><span class="line"></span><br><span class="line">module_name.function()          <span class="comment"># 调用模块中的指定方法</span></span><br></pre></td></tr></table></figure></p>
<h3 id="from-…-import-语句"><a href="#from-…-import-语句" class="headerlink" title="from … import * 语句"></a>from … import * 语句</h3><p>不适用于大文件，容易重名冲突。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> *    <span class="comment"># 导入名为module_name的模块</span></span><br><span class="line"></span><br><span class="line">function()       <span class="comment"># 直接使用模块中的方法即可</span></span><br></pre></td></tr></table></figure></p>
<h3 id="dir-函数"><a href="#dir-函数" class="headerlink" title="dir()函数"></a>dir()函数</h3><p>返回模块中所有方法。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dir(module_name)</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="random模块"><a href="#random模块" class="headerlink" title="random模块"></a>random模块</h3><p>random模块主要用于生成随机数，由梅森旋转算法生成的伪随机数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">seed(N)</td>
<td style="text-align:left">初始化给定的随机数种子，默认为当前系统时间</td>
</tr>
<tr>
<td style="text-align:left">random()</td>
<td style="text-align:left">生成一个[0,1)之间的随机小数，与随机数种子有关</td>
</tr>
<tr>
<td style="text-align:left">randint(a,b)</td>
<td style="text-align:left">生成一个[a,b]之间的整数</td>
</tr>
<tr>
<td style="text-align:left">randrange(m,n[,k])</td>
<td style="text-align:left">生成一个[m,n)之间以k为步长的随机整数</td>
</tr>
<tr>
<td style="text-align:left">getrandbits(k)</td>
<td style="text-align:left">生成一个k比特长的随机整数</td>
</tr>
<tr>
<td style="text-align:left">uniform(a,b)</td>
<td style="text-align:left">生成一个[a,b]之间的随机小数</td>
</tr>
<tr>
<td style="text-align:left">choice(list)</td>
<td style="text-align:left">从序列中随机选择一个元素</td>
</tr>
<tr>
<td style="text-align:left">shuffle(list)</td>
<td style="text-align:left">将序列seq中元素随机排列,返回打乱后的序列</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h3><hr>
<h3 id="jieba模块"><a href="#jieba模块" class="headerlink" title="jieba模块"></a>jieba模块</h3><hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/07/Python学习笔记——常用模块/" data-id="cjkqx87oa000dl8ut71t2kyom" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——IO编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/07/Python学习笔记——IO编程/" class="article-date">
  <time datetime="2018-08-07T06:19:49.000Z" itemprop="datePublished">2018-08-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/07/Python学习笔记——IO编程/">Python学习笔记——IO编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>IO在计算机中指Input/Output，也就是输入和输出。</p>
<p>这里讲的是对文件的Strea流m处理。</p>
<hr>
<h3 id="open-方法"><a href="#open-方法" class="headerlink" title="open()方法"></a>open()方法</h3><p>文件对象方法：<br>| 文件对象方法        | 执行操作                                                                                      |<br>|:——————- |:——————————————————————————————— |<br>| f.close()           | 关闭文件                                                                                      |<br>| f.read(size = -1)   | 以文件读取size个字符，当为给定size值或给定负值的时候，读取剩余所有的字符，然后作为字符串返回  |<br>| f.readline()        | 以写入模式打开，如果文件存在，则在末尾追加写入                                                |<br>| f.write(str)        | 将字符串成str写入文件                                                                         |<br>| f.writelines(seq)   | 向文件吸入字符串序列seq，seq应该是一个返回字符串的可迭代对象                                  |<br>| f.seek(offset,from) | 当文件找那个移动文件指针，从from(0表示其实位置，1表示当前位置，2表示文件末尾)偏移offset个字节 |<br>| f.tell()            | 返回当前在文件中的为位置                                                                      |</p>
<hr>
<h4 id="读文件-调用open-方法"><a href="#读文件-调用open-方法" class="headerlink" title="读文件: 调用open()方法"></a>读文件: 调用open()方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file = open(file, mode=<span class="string">'r'</span>, buffering=<span class="number">-1</span>, encoding=<span class="keyword">None</span>, errors=<span class="keyword">None</span>, newline=<span class="keyword">None</span>, closefd=<span class="keyword">True</span>, opener=<span class="keyword">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># file: 文件路径</span></span><br><span class="line"><span class="comment"># mode: 打开模式</span></span><br><span class="line"><span class="comment"># encoding: 读取指定编码的文件</span></span><br><span class="line"><span class="comment"># errors: 是否忽略错误提醒</span></span><br></pre></td></tr></table></figure>
<p>mode参数如下：<br>| 打开模式 | 执行操作                                   |<br>|:——–:|:—————————————— |<br>|   ‘r’    | 以只读方式打开文件(默认)                   |<br>|   ‘w’    | 以写入的方式打开文件，会覆盖已存在的文件   |<br>|   ‘x’    | 创建一个新文件并打开它进行写入             |<br>|   ‘a’    | 打开写入，如果文件存在，则追加到文件的末尾 |<br>|   ‘b’    | 以二进制模式打开                           |<br>|   ‘t’    | 以文本模式打开文件(默认)                   |<br>|   ‘+’    | 打开磁盘文件进行更新（读写）               |<br>|   ‘U’    | 通用换行模式                               |</p>
<p>实例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>file = open(<span class="string">r'D:\blog\source\_posts\Python学习笔记——IO编程\test.txt'</span>, <span class="string">'r'</span>)        <span class="comment"># 使用'r'模式打开文件</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.read()</span><br><span class="line"></span><br><span class="line"><span class="string">'#include &lt;iostream&gt;\nusing namespace std;\nint main()&#123;\n\tcout &lt;&lt; "Hello, world!" &lt;&lt; endl;\n&#125;'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.read()     <span class="comment"># 此时文件指针处于文件末尾，再次读取将没有内容</span></span><br><span class="line"></span><br><span class="line"><span class="string">''</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.tell()     <span class="comment"># 当前文件指针的位置</span></span><br><span class="line"></span><br><span class="line"><span class="number">92</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.seek(<span class="number">0</span>,<span class="number">0</span>)    <span class="comment"># 设置文件指针为文件头</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(file)        <span class="comment"># 将文件内容转为列表类型</span></span><br><span class="line"></span><br><span class="line">[<span class="string">'#include &lt;iostream&gt;\n'</span>, <span class="string">'using namespace std;\n'</span>, <span class="string">'int main()&#123;\n'</span>, <span class="string">'\tcout &lt;&lt; "Hello, world!" &lt;&lt; endl;\n'</span>, <span class="string">'&#125;'</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.seek(<span class="number">0</span>,<span class="number">0</span>)      <span class="comment"># 每当遍历一次文件，文件指针就会改变</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> each_line <span class="keyword">in</span> file:      <span class="comment"># 官方高效率遍历文件的方法</span></span><br><span class="line">    print(each_line)</span><br><span class="line"></span><br><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"Hello, world!"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.close()      <span class="comment"># 记得关闭文件</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="写文件-调用open-方法，设置打开模式为’w’，调用f-write-等方法写入内容"><a href="#写文件-调用open-方法，设置打开模式为’w’，调用f-write-等方法写入内容" class="headerlink" title="写文件: 调用open()方法，设置打开模式为’w’，调用f.write()等方法写入内容"></a>写文件: 调用open()方法，设置打开模式为’w’，调用f.write()等方法写入内容</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>file = open(file_name, <span class="string">'w'</span>)     <span class="comment"># 新建一个名为"file_name"的可读写文件，可以指定文件编码格式</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list = [<span class="string">'123'</span>, <span class="string">'234'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str = <span class="string">'456'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.writelines(list)     <span class="comment"># 将list写入文件中</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.wirte(str)       <span class="comment"># 写入字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.close            <span class="comment"># 记得关闭文件，确保缓存中还未写入磁盘的数据全部写入吸盘。</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="os模块"><a href="#os模块" class="headerlink" title="os模块"></a>os模块</h3><p>os模块，系统文件操作模块。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">函数名</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">getcwd()</td>
<td style="text-align:left">获取当前文件路径</td>
</tr>
<tr>
<td style="text-align:left">rename(path)</td>
<td style="text-align:left">重命名文件</td>
</tr>
<tr>
<td style="text-align:left">chdir(path)</td>
<td style="text-align:left">改变当前工作目录</td>
</tr>
<tr>
<td style="text-align:left">mkdir(path)</td>
<td style="text-align:left">创建单层目录</td>
</tr>
<tr>
<td style="text-align:left">makedirs(path)</td>
<td style="text-align:left">创建多层目录</td>
</tr>
<tr>
<td style="text-align:left">rmdir(path)</td>
<td style="text-align:left">删除空目录</td>
</tr>
<tr>
<td style="text-align:left">remove(path)</td>
<td style="text-align:left">删除指定文件</td>
</tr>
<tr>
<td style="text-align:left">system(command)</td>
<td style="text-align:left">运行系统shell命令</td>
</tr>
<tr>
<td style="text-align:left">os.curdir</td>
<td style="text-align:left">指代当前目录</td>
</tr>
<tr>
<td style="text-align:left">os.pardir</td>
<td style="text-align:left">指代上一级目录</td>
</tr>
<tr>
<td style="text-align:left">os.sep</td>
<td style="text-align:left">输出操作系统特定的路径分隔符(win下为’\\‘，Linux下为’/‘)</td>
</tr>
<tr>
<td style="text-align:left">os.linesep</td>
<td style="text-align:left">当前平台的终止符(win下为’\r\n’，Linux下为’\n’)</td>
</tr>
<tr>
<td style="text-align:left">os.name</td>
<td style="text-align:left">指代当前使用的操作系统</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&gt;&gt;&gt; os.getcwd()       <span class="comment"># 当前目录</span></span><br><span class="line"><span class="string">'D:\\Python'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.chdir(<span class="string">r'F:\python'</span>)    <span class="comment"># 修改当前目录</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.mkdir(<span class="string">'test'</span>)          <span class="comment"># 在当前目录下新建文件</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.makedirs(<span class="string">r'F:\python\test2\test2'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.rename(<span class="string">'test'</span>, <span class="string">'t'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir()</span><br><span class="line">[<span class="string">'.idea'</span>, <span class="string">'t'</span>, <span class="string">'CalCircle.py'</span>, <span class="string">'curver.ico'</span>, <span class="string">'FindMaxAndMin.py'</span>, <span class="string">'helloName.py'</span>, <span class="string">'KochDrawV1.py'</span>, <span class="string">'PythonDraw.py'</span>, <span class="string">'Python打飞机小游戏'</span>, <span class="string">'StarDraw.py'</span>, <span class="string">'TangentCirclesDraw.py'</span>, <span class="string">'TempConvert.py'</span>, <span class="string">'test'</span>, <span class="string">'Test.py'</span>, <span class="string">'TestIDLE.py'</span>, <span class="string">'TextProBarV1.py'</span>, <span class="string">'TimeDraw.py'</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.system(<span class="string">'cmd'</span>)      <span class="comment"># 运行命令行</span></span><br><span class="line"></span><br><span class="line"><span class="number">-1073741510</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.system(<span class="string">'calc'</span>)     <span class="comment"># 打开计算器功能</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="pickle-模块-泡菜"><a href="#pickle-模块-泡菜" class="headerlink" title="pickle 模块(泡菜)"></a>pickle 模块(泡菜)</h3><p>Python数据永久储存，将对象以文件的形式存放在磁盘上。该文件只能在python中使用。</p>
<p>pickle序列化后的数据，可读性差，人一般无法识别。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>my_list = [<span class="number">123</span>, <span class="number">3.14</span>, <span class="string">'test'</span>, [<span class="string">'python'</span>, <span class="string">'list'</span>]]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pickle_file = open(<span class="string">'my_list.pkl'</span>, <span class="string">'wb'</span>)     <span class="comment"># 新建一个特殊文件，二进制可读写</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pickle.dump(my_list, pickle_file)     <span class="comment"># 将对象保存到文件pickle_file中</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pickle_file.close()</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pickle_file = open(<span class="string">'my_list.pkl'</span>, <span class="string">'rb'</span>)       <span class="comment"># 用二进制只读方式打开</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>my_list2 = pickle.load(pickle_file)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(my_list2)</span><br><span class="line"></span><br><span class="line">[<span class="number">123</span>, <span class="number">3.14</span>, <span class="string">'test'</span>, [<span class="string">'python'</span>, <span class="string">'list'</span>]]</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="StringIO-模块"><a href="#StringIO-模块" class="headerlink" title="StringIO 模块"></a>StringIO 模块</h3><p>StringIO顾名思义就是在内存中以IO流方式读写str。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> io <span class="keyword">import</span> StringIO</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = StringIO()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">'hello'</span>)</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">' '</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">'world!'</span>)</span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.getvalue()</span><br><span class="line"><span class="string">'hello world!'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = StringIO(<span class="string">'Hello!\nHi!\nGoodbye!'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"><span class="meta">... </span>    s = f.readline()</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> s == <span class="string">''</span>:</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">break</span></span><br><span class="line"><span class="meta">... </span>    print(s.strip())</span><br><span class="line">...</span><br><span class="line">Hello!</span><br><span class="line">Hi!</span><br><span class="line">Goodbye!</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="BytesIO-模块"><a href="#BytesIO-模块" class="headerlink" title="BytesIO 模块"></a>BytesIO 模块</h3><p>BytesIO实现了在内存中读写bytes，实现二进制数据操作。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = BytesIO()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">'中文'</span>.encode(<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(f.getvalue())</span><br><span class="line"><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = BytesIO(<span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.read()</span><br><span class="line"><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span></span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/07/Python学习笔记——IO编程/" data-id="cjkqx87nm0003l8utw46nk9ds" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——打飞机小游戏" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/05/Python学习笔记——打飞机小游戏/" class="article-date">
  <time datetime="2018-08-05T09:25:34.000Z" itemprop="datePublished">2018-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/05/Python学习笔记——打飞机小游戏/">Python学习笔记——打飞机小游戏</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="Python实例——打飞机小游戏开发"><a href="#Python实例——打飞机小游戏开发" class="headerlink" title="Python实例——打飞机小游戏开发"></a>Python实例——打飞机小游戏开发</h2><p>打飞机小游戏逻辑如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">加载背景音乐</span><br><span class="line">播放背景音乐（设置单曲循环）</span><br><span class="line">我方飞机诞生</span><br><span class="line">interval = 0		# 间隔</span><br><span class="line"></span><br><span class="line">while True:</span><br><span class="line">	if 用户是否点击了关闭按钮：</span><br><span class="line">		退出程序</span><br><span class="line"></span><br><span class="line">	interval += 1</span><br><span class="line">	if interval == 50:</span><br><span class="line">		interval = 0</span><br><span class="line">		小飞机诞生</span><br><span class="line"></span><br><span class="line">	小飞机移动一个位置</span><br><span class="line">	屏幕刷新</span><br><span class="line"></span><br><span class="line">	if 用户鼠标产生移动:</span><br><span class="line">		我方飞机中心位置 = 用户鼠标位置</span><br><span class="line">		屏幕刷新</span><br><span class="line"></span><br><span class="line">	if 我方飞机与小飞机发生肢体冲突:</span><br><span class="line">		我方败，播放撞机音乐</span><br><span class="line">		修改我方飞机图案</span><br><span class="line">		打印“Game over”</span><br><span class="line">		停止背景音乐，最好淡出</span><br></pre></td></tr></table></figure></p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/05/Python学习笔记——打飞机小游戏/" data-id="cjkqx87og000ml8utyr357lh5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——图形绘制" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/29/Python学习笔记——图形绘制/" class="article-date">
  <time datetime="2018-07-29T15:44:04.000Z" itemprop="datePublished">2018-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/29/Python学习笔记——图形绘制/">Python学习笔记——图形绘制</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="Python图形绘制——turtle库使用"><a href="#Python图形绘制——turtle库使用" class="headerlink" title="Python图形绘制——turtle库使用"></a>Python图形绘制——turtle库使用</h2><p><img src="/2018/07/29/Python学习笔记——图形绘制/turtle.png" alt=""></p>
<hr>
<p>要使用turtle库，需要导入先turtle库<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="设置画布大小"><a href="#设置画布大小" class="headerlink" title="设置画布大小"></a>设置画布大小</h3><p>画布就是turtle为我们展开用于绘图区域，我们可以设置它的大小和初始位置。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">语法<span class="number">1</span>：</span><br><span class="line">turtle.screensize(canvwidth=<span class="keyword">None</span>, canvheight=<span class="keyword">None</span>, bg=<span class="keyword">None</span>)</span><br><span class="line"></span><br><span class="line">参数:</span><br><span class="line">canvwidth：画布的宽(单位像素)，可为空，默认<span class="number">400</span>px</span><br><span class="line">canvheight：画布的高(单位像素)，可为空，默认<span class="number">300</span>px</span><br><span class="line">bg：背景颜色，可为空，默认白色</span><br><span class="line"></span><br><span class="line">语法<span class="number">2</span>：</span><br><span class="line">turtle.setup(width=<span class="number">0.5</span>, height=<span class="number">0.75</span>, startx=<span class="keyword">None</span>, starty=<span class="keyword">None</span>)</span><br><span class="line"></span><br><span class="line">参数:</span><br><span class="line">width, height: 画布的宽和高，为整数时, 表示像素; 为小数时, 表示占据电脑屏幕的比例。不可为空。</span><br><span class="line">startx, starty: 画布距离左上角顶点的位置，如果为空，则窗口位于屏幕中心</span><br></pre></td></tr></table></figure></p>
<p>案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">turtle.screensize(<span class="number">800</span>, <span class="number">600</span>, <span class="string">"green"</span>)      <span class="comment"># 自定义画布宽为800px，高为600px，背景被绿色</span></span><br><span class="line">turtle.screensize()         <span class="comment">#返回默认大小宽400px，高300px，背景白色</span></span><br><span class="line"></span><br><span class="line">turtle.setup(<span class="number">0.6</span>, <span class="number">0.6</span>)</span><br><span class="line">turtle.setup(<span class="number">800</span>, <span class="number">800</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="turtle空间坐标体系"><a href="#turtle空间坐标体系" class="headerlink" title="turtle空间坐标体系"></a>turtle空间坐标体系</h3><ol>
<li><p>绝对坐标体系：画布中心是(0,0)就是我们初中就开始学的绝对坐标体系</p>
</li>
<li><p>相对坐标体系，turtle是海龟，头部朝向左侧为正，右侧朝向为负的一个体系</p>
</li>
</ol>
<hr>
<h3 id="turtle角度坐标体系"><a href="#turtle角度坐标体系" class="headerlink" title="turtle角度坐标体系"></a>turtle角度坐标体系</h3><p><img src="/2018/07/29/Python学习笔记——图形绘制/angle.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">turtle.seth(angle)      <span class="comment"># 将turtle当前的方向设置为绝对坐标下的angle角度</span></span><br><span class="line"></span><br><span class="line">turtle.left(angle)      <span class="comment"># 将turtle朝向设置为海龟当前朝向左侧的angle</span></span><br><span class="line"></span><br><span class="line">turtle.right(angle)     <span class="comment"># 将turtle朝向设置为海龟当前朝向右侧的angle</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="turtle的运动控制函数"><a href="#turtle的运动控制函数" class="headerlink" title="turtle的运动控制函数"></a>turtle的运动控制函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">turtle.fd(d)              <span class="comment"># 走直线，行进距离是d</span></span><br><span class="line">turtle.circle(r,angle)    <span class="comment"># 绘制一个弧形，r是半径，angle是弧形的角度，如果r是正数，则表示圆心在tutle的左侧，如果r是负数，则表示圆心在turtle的右侧</span></span><br><span class="line">turtle.speed(x)           <span class="comment"># x的取值从0到10，越大速度越快</span></span><br><span class="line">turtle.goto(x,y)          <span class="comment"># 可以把画笔直接移动到绝对坐标体系的某一个点</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="turtle颜色控制体系"><a href="#turtle颜色控制体系" class="headerlink" title="turtle颜色控制体系"></a>turtle颜色控制体系</h3><p>RGB色彩模式，RGB每色取值范围0-255整数或0-1小数。默认采用小数值，可切换为整数值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">turtle.colormode(mode)      <span class="comment"># mode为1，表示用0-1小数表示；mode为255，表示用0-255整数表示</span></span><br></pre></td></tr></table></figure>
<h4 id="常用RGB色彩"><a href="#常用RGB色彩" class="headerlink" title="常用RGB色彩"></a>常用RGB色彩</h4><table>
<thead>
<tr>
<th>英文名称</th>
<th style="text-align:left">RGB整数值</th>
<th style="text-align:center">RGB小数值</th>
<th style="text-align:right">中文名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>white</td>
<td style="text-align:left">255,255,255</td>
<td style="text-align:center">1,1,1</td>
<td style="text-align:right">白色</td>
</tr>
<tr>
<td>yellow</td>
<td style="text-align:left">255,255,0</td>
<td style="text-align:center">1,1,0</td>
<td style="text-align:right">黄色</td>
</tr>
<tr>
<td>magenta</td>
<td style="text-align:left">255,0,255</td>
<td style="text-align:center">1,0,1</td>
<td style="text-align:right">洋红</td>
</tr>
<tr>
<td>cyan</td>
<td style="text-align:left">0,255,255</td>
<td style="text-align:center">0,1,1</td>
<td style="text-align:right">青色</td>
</tr>
<tr>
<td>blue</td>
<td style="text-align:left">0,0,255</td>
<td style="text-align:center">0,0,1</td>
<td style="text-align:right">蓝色</td>
</tr>
<tr>
<td>black</td>
<td style="text-align:left">0,0,0</td>
<td style="text-align:center">0,0,0</td>
<td style="text-align:right">黑色</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="turtle画笔控制"><a href="#turtle画笔控制" class="headerlink" title="turtle画笔控制"></a>turtle画笔控制</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># turtle画笔默认首先在中心的位置。并且画笔是放下状态</span></span><br><span class="line">turtle.penup()          <span class="comment"># 抬起画笔</span></span><br><span class="line">turtle.pendown()        <span class="comment"># 放下画笔</span></span><br><span class="line">turtle.pensize()        <span class="comment"># 设置画笔的粗细</span></span><br><span class="line">turtle.pencolor()       <span class="comment"># 设置画笔的颜色，str类型颜色字符串，RGB表示</span></span><br><span class="line">turtle.done()           <span class="comment"># 表示状态，使得运行完之后画布不会自动退出</span></span><br><span class="line">turtle.write(c,font=(“Arial”,<span class="number">18</span>,”normal”))      <span class="comment"># 来写文字c，包括汉字</span></span><br><span class="line">turtle.hideturtle()     <span class="comment"># 函数可以隐藏turtle的的画笔</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="实例1：python蟒蛇绘制"><a href="#实例1：python蟒蛇绘制" class="headerlink" title="实例1：python蟒蛇绘制"></a>实例1：python蟒蛇绘制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line">turtle.setup(<span class="number">650</span>, <span class="number">350</span>, <span class="number">200</span>, <span class="number">200</span>)    <span class="comment"># 画布长650像素，宽350像素，距离左上角定点200像素，200像素</span></span><br><span class="line">turtle.penup()                      <span class="comment"># 提起笔</span></span><br><span class="line">turtle.fd(<span class="number">-250</span>)                     <span class="comment"># 向前移动-250像素</span></span><br><span class="line">turtle.pendown()                    <span class="comment"># 落笔</span></span><br><span class="line">turtle.pensize(<span class="number">25</span>)                  <span class="comment"># 设置笔宽度为25像素</span></span><br><span class="line">turtle.pencolor(<span class="string">"purple"</span>)           <span class="comment"># 设置笔颜色为紫色</span></span><br><span class="line">turtle.seth(<span class="number">-40</span>)                    <span class="comment"># 角度偏向-40度</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">    turtle.circle(<span class="number">40</span>, <span class="number">80</span>)           <span class="comment"># 半径为40，角度为80度，逆时针画圆弧</span></span><br><span class="line">    turtle.circle(<span class="number">-40</span>, <span class="number">80</span>)</span><br><span class="line">turtle.circle(<span class="number">40</span>, <span class="number">40</span>)</span><br><span class="line">turtle.fd(<span class="number">40</span>)                       <span class="comment"># 向前40像素</span></span><br><span class="line">turtle.circle(<span class="number">20</span>, <span class="number">180</span>)</span><br><span class="line">turtle.fd(<span class="number">40</span> * <span class="number">2</span> / <span class="number">3</span>)</span><br><span class="line">turtle.done()                       <span class="comment"># 运行完之后画布不会自动退出</span></span><br></pre></td></tr></table></figure>
<p><img src="/2018/07/29/Python学习笔记——图形绘制/pythonDraw.gif" alt=""></p>
<h4 id="实例2-绘制多个同切圆"><a href="#实例2-绘制多个同切圆" class="headerlink" title="实例2 绘制多个同切圆"></a>实例2 绘制多个同切圆</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line">turtle.pensize(<span class="number">2</span>)   <span class="comment"># 设置画笔宽度</span></span><br><span class="line">turtle.circle(<span class="number">10</span>)   <span class="comment"># 画圆，半径为正(负)，表示圆心在画笔的左边(右边)画圆</span></span><br><span class="line">turtle.circle(<span class="number">40</span>)</span><br><span class="line">turtle.circle(<span class="number">80</span>)</span><br><span class="line">turtle.circle(<span class="number">160</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2018/07/29/Python学习笔记——图形绘制/Gif.gif" alt=""></p>
<h4 id="实例3-绘制五角星"><a href="#实例3-绘制五角星" class="headerlink" title="实例3 绘制五角星"></a>实例3 绘制五角星</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> turtle <span class="keyword">import</span> *</span><br><span class="line">color(<span class="string">'red'</span>, <span class="string">'red'</span>)     <span class="comment"># 第一个是线条颜色，第二个是填充颜色</span></span><br><span class="line">begin_fill()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">    fd(<span class="number">200</span>)     <span class="comment"># 控制长度</span></span><br><span class="line">    rt(<span class="number">144</span>)     <span class="comment"># 角度</span></span><br><span class="line">end_fill()</span><br><span class="line">done()</span><br></pre></td></tr></table></figure>
<p><img src="/2018/07/29/Python学习笔记——图形绘制/StarDraw.gif" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/29/Python学习笔记——图形绘制/" data-id="cjkqx87o5000al8utun2a7gu2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——函数及用法积累" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/29/Python学习笔记——函数及用法积累/" class="article-date">
  <time datetime="2018-07-29T12:07:53.000Z" itemprop="datePublished">2018-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/29/Python学习笔记——函数及用法积累/">Python学习笔记——函数及模块用法积累</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="函数篇"><a href="#函数篇" class="headerlink" title="函数篇"></a>函数篇</h2><p>更多函数可以查看如下网址：<a href="http://www.runoob.com/python3/python3-built-in-functions.html" target="_blank" rel="noopener">http://www.runoob.com/python3/python3-built-in-functions.html</a></p>
<hr>
<h3 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h3><p>eval() 函数用来执行一个字符串表达式，并返回表达式的值。</p>
<p><em>去掉参数最外侧引号(单引号和双引号都行)并按python语法执行余下语句的函数。</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例1：执行python语句</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(<span class="string">'print("Hello World!")'</span>)</span><br><span class="line">Hello World!</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例2：执行python表达式</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(<span class="string">'1 + 2'</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 例3：str类型转化为list、dict、tuple</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="string">"[[1,2], [3,4], [5,6], [7,8], [9,0]]"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = eval(a)           <span class="comment"># 调用eval函数执行a字符串，保存到b中</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(type(a))        <span class="comment"># 输出a的数据类型</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">str</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">print</span><span class="params">(type<span class="params">(b)</span>)</span>        # 输出<span class="title">b</span>的数据类型</span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> '<span class="title">list</span>'&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"># 例4：数据类型转化</span></span><br><span class="line">&gt;&gt;&gt; c = eval("123")</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(type(c))</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">int</span>'&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h3><p>map()作为高阶函数，它把运算规则抽象了，可以计算任意复杂的函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">语法：map(函数，一个或多个可迭代对象)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(map(str, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]))     <span class="comment"># 将int类型list转化为str类型list</span></span><br><span class="line">[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">square</span><span class="params">(x)</span> :</span>       <span class="comment"># 自定义方法</span></span><br><span class="line">    <span class="keyword">return</span> x ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(map(square, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]))      <span class="comment"># 调用自定义函数</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(map(<span class="keyword">lambda</span> x: x ** <span class="number">2</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]))    <span class="comment"># 使用lambda匿名函数</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>map(<span class="keyword">lambda</span> x, y: x + y, [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>], [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>])    <span class="comment"># 两个list相同位置的数据相加</span></span><br><span class="line">[<span class="number">3</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>, <span class="number">19</span>]</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><p>迭代操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(函数，可迭代对象)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span></span><br><span class="line">      <span class="keyword">return</span> x + y</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(add, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])      <span class="comment"># 求和操作</span></span><br><span class="line"><span class="number">15</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(<span class="keyword">lambda</span> x, y: x+y, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])       <span class="comment"># lambda匿名函数</span></span><br><span class="line"><span class="number">15</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">fn</span><span class="params">(x, y)</span>:</span></span><br><span class="line">     <span class="keyword">return</span> x * <span class="number">10</span> + y</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(fn, [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>])       <span class="comment"># 把序列变整数</span></span><br><span class="line"><span class="number">13579</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h3><p>filter() 函数用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表。<br>filter() 把传入的函数依次作用于每个元素，然后根据返回值是True还是False决定保留还是丢弃。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">语法：filter(function, iterable)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(filter(<span class="keyword">lambda</span> n: n % <span class="number">2</span> == <span class="number">1</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">15</span>]))        <span class="comment"># 保留奇数</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">15</span>]</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted()"></a>sorted()</h3><p>排序算法<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">语法：sorted(iterable, key=<span class="keyword">None</span>, reverse=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="number">1.</span> iterable -- 可迭代对象。</span><br><span class="line">    <span class="number">2.</span> key -- 主要是用来进行比较的元素，只有一个参数，具体的函数的参数就是取自于可迭代对象中，指定可迭代对象中的一个元素来进行排序。</span><br><span class="line">    <span class="number">3.</span> reverse -- 排序规则，reverse = <span class="keyword">True</span> 降序 ， reverse = <span class="keyword">False</span> 升序（默认）。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted([<span class="number">36</span>, <span class="number">5</span>, <span class="number">-12</span>, <span class="number">9</span>, <span class="number">-21</span>])      <span class="comment"># 默认sort</span></span><br><span class="line">[<span class="number">-21</span>, <span class="number">-12</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">36</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># dict类型</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = &#123;<span class="number">1</span>: <span class="string">'D'</span>, <span class="number">2</span>: <span class="string">'B'</span>, <span class="number">3</span>: <span class="string">'B'</span>, <span class="number">4</span>: <span class="string">'E'</span>, <span class="number">5</span>: <span class="string">'A'</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(L)       <span class="comment"># 对dict的key值排序</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(L.items(), key = <span class="keyword">lambda</span> x:x[<span class="number">0</span>])      <span class="comment"># 按dict的key值排序，x[0]</span></span><br><span class="line">[(<span class="number">1</span>, <span class="string">'D'</span>), (<span class="number">2</span>, <span class="string">'B'</span>), (<span class="number">3</span>, <span class="string">'B'</span>), (<span class="number">4</span>, <span class="string">'E'</span>), (<span class="number">5</span>, <span class="string">'A'</span>)]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(L.items(), key = <span class="keyword">lambda</span> x:x[<span class="number">1</span>])      <span class="comment"># 按dict的value值排序，x[1]</span></span><br><span class="line">[(<span class="number">5</span>, <span class="string">'A'</span>), (<span class="number">2</span>, <span class="string">'B'</span>), (<span class="number">3</span>, <span class="string">'B'</span>), (<span class="number">1</span>, <span class="string">'D'</span>), (<span class="number">4</span>, <span class="string">'E'</span>)]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> operator</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(L.items(), key = operator.itemgetter(<span class="number">1</span>), reverse = <span class="keyword">True</span>)       <span class="comment"># 按dict的value值排序，x[1]，使用降序排列</span></span><br><span class="line">[(<span class="number">4</span>, <span class="string">'E'</span>), (<span class="number">1</span>, <span class="string">'D'</span>), (<span class="number">2</span>, <span class="string">'B'</span>), (<span class="number">3</span>, <span class="string">'B'</span>), (<span class="number">5</span>, <span class="string">'A'</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 元组</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = [(<span class="string">'Bob'</span>, <span class="number">75</span>), (<span class="string">'Adam'</span>, <span class="number">92</span>), (<span class="string">'Bart'</span>, <span class="number">66</span>), (<span class="string">'Lisa'</span>, <span class="number">88</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(L, key = <span class="keyword">lambda</span> x : x[<span class="number">0</span>])        <span class="comment"># 元组排序</span></span><br><span class="line">[(<span class="string">'Adam'</span>, <span class="number">92</span>), (<span class="string">'Bart'</span>, <span class="number">66</span>), (<span class="string">'Bob'</span>, <span class="number">75</span>), (<span class="string">'Lisa'</span>, <span class="number">88</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted([<span class="string">'bob'</span>, <span class="string">'About'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>], key=str.lower)      <span class="comment"># 忽略字符串大小写排序</span></span><br><span class="line">[<span class="string">'About'</span>, <span class="string">'bob'</span>, <span class="string">'Credit'</span>, <span class="string">'Zoo'</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sort()</span></span><br><span class="line">&gt;&gt;&gt;a=[<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.sort()      <span class="comment"># 使用list.sort()方法会修改原始的list，返回值为None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/29/Python学习笔记——函数及用法积累/" data-id="cjkqx87nr0004l8ut0p0ouumt" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——面向对象编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/28/Python学习笔记——面向对象编程/" class="article-date">
  <time datetime="2018-07-28T15:28:02.000Z" itemprop="datePublished">2018-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/28/Python学习笔记——面向对象编程/">Python学习笔记——面向对象编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>面向对象编程——Object Oriented Programming，简称OOP，是一种程序设计思想。OOP把对象作为程序的基本单元，一个对象包含了数据和操作数据的函数。</p>
<hr>
<p>面向对象的三大特点：封装、继承、多态。</p>
<hr>
<p>面向对象最重要的概念就是类(Class)和实例(Instance),类是抽象的模板，而实例是根据类创建出来的一个个具体的“对象”。</p>
<hr>
<h3 id="封装-encapsulation"><a href="#封装-encapsulation" class="headerlink" title="封装(encapsulation)"></a>封装(encapsulation)</h3><p>把客观事物封装成抽象的类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> 类名<span class="params">(父类)</span>:</span>   <span class="comment"># 类名以大写字母开头，父类不确定可以使用object类</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 构造方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, 属性名 * n)</span>:</span></span><br><span class="line">    <span class="comment"># 属性</span></span><br><span class="line">    self.属性名 = 属性名      <span class="comment"># public类型 ，self相当于C++的this</span></span><br><span class="line">    self.__属性名 = 属性名    <span class="comment"># private类型</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">get_</span>属性<span class="params">(self)</span>:</span>       <span class="comment"># 输出保护</span></span><br><span class="line">    <span class="keyword">return</span> self.__属性</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">set_</span>属性<span class="params">(self)</span>:</span></span><br><span class="line">    self.__属性 = 属性      <span class="comment"># 写入保护</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> 自定义方法<span class="params">(self)</span>:</span></span><br><span class="line">    具体内容</span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test = 类名()     <span class="comment"># 对象时类的实例化，类是对象的抽象化。</span></span><br></pre></td></tr></table></figure>
<p>注意：</p>
<ol>
<li><p>变量名类似<strong>xxx</strong>的，是特殊变量，特殊变量是可以直接访问的，不是private变量。</p>
</li>
<li><p>以一个下划线开头的实例变量名，比如_name，这样的实例变量外部是可以访问的，但是，按照约定俗成的规定，视为私有变量，不要随意访问。</p>
</li>
<li><p>不能直接访问Student类中<strong>name属性是因为Python解释器对外把</strong>name变量改成了_Student__name，所以，仍然可以通过_Student__name来访问<strong>name变量。**但是强烈建议不要这么干，因为不同版本的Python解释器可能会把</strong>name改成不同的变量名**</p>
</li>
</ol>
<p>实例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, score)</span>:</span></span><br><span class="line">        self.__name = name</span><br><span class="line">        self.__score = score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_score</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'%s: %s'</span> % (self.__name, self.__score))</span><br></pre></td></tr></table></figure></p>
<p>反例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student(<span class="string">'Bart Simpson'</span>, <span class="number">59</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.get_name()</span><br><span class="line"><span class="string">'Bart Simpson'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.__name = <span class="string">'New Name'</span> <span class="comment">#  错误方法设置__name变量！</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.__name   <span class="comment"># 错误的获取__name属性</span></span><br><span class="line"><span class="string">'New Name'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.get_name() <span class="comment"># get_name()内部返回self.__name</span></span><br><span class="line"><span class="string">'Bart Simpson'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python没有错误阻止机制，上述代码中错误的设置__name变量和错误和获取__name属性虽然看上去没毛病，但是实际上这个__name变量和class内部的__name变量不是同一个变量！</span></span><br><span class="line"><span class="comment"># 外部的代码给bart新增了一个__name变量，而而内部的__name变量被python解释器自动改成了_Student__name，所以，接下去获取内部的__name变量属性，仍然是原先那个值。</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="继承-Inheritance"><a href="#继承-Inheritance" class="headerlink" title="继承(Inheritance)"></a>继承(Inheritance)</h3><p>在OOP程序设计中，当我们定义一个class的时候，可以从某个现有的class继承，新的class称为子类（Subclass），而被继承的class称为基类、父类或超类（Base class、Super class）。</p>
<p>所有类的父类是object。另外，Python支持多重继承，即一个子类同时继承多个父类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Parent</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(self)</span>:</span></span><br><span class="line">	       print(<span class="string">"正在调用父类的方法。。。"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Child</span><span class="params">(Parent)</span>:</span>    <span class="comment"># 继承父类</span></span><br><span class="line">	       <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Parent()</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.hello()</span><br><span class="line"></span><br><span class="line">正在调用父类的方法。。。</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = Child()</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.hello()     <span class="comment"># 调用父类方法</span></span><br><span class="line"></span><br><span class="line">正在调用父类的方法。。。</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Child</span><span class="params">(Parent)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(self)</span>:</span>     <span class="comment"># 方法覆盖</span></span><br><span class="line">	       print(<span class="string">"正在调用子类的方法..."</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = Child()</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.hello()</span><br><span class="line"></span><br><span class="line">正在调用子类的方法...</span><br></pre></td></tr></table></figure>
<p>当子类继承父类时，可以使用<strong>super()方法</strong>调用父类方法。</p>
<hr>
<h3 id="多态-Polymorphism"><a href="#多态-Polymorphism" class="headerlink" title="多态(Polymorphism)"></a>多态(Polymorphism)</h3><p>多态指的是一类事物有多种形态。</p>
<hr>
<h3 id="获取对象信息"><a href="#获取对象信息" class="headerlink" title="获取对象信息"></a>获取对象信息</h3><h4 id="type"><a href="#type" class="headerlink" title="type()"></a>type()</h4><p>基本类型判断，使用type()函数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="number">123</span>)       <span class="comment"># int类型</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">int</span>'&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span><span class="params">(<span class="string">'str'</span>)</span>     # <span class="title">str</span>类型</span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> '<span class="title">str</span>'&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span><span class="params">(None)</span>      # <span class="title">None</span></span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> '<span class="title">NoneType</span>'&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span><span class="params">(abs)</span>       # 内置函数</span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> '<span class="title">builtin_function_or_method</span>'&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"># 比较两个类型是否相同</span></span><br><span class="line">&gt;&gt;&gt; type(123) == type(456)</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="number">123</span>) == int</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="string">'abc'</span>) == type(<span class="string">'123'</span>)</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="string">'abc'</span>) == str</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="string">'abc'</span>) == type(<span class="number">123</span>)</span><br><span class="line"><span class="keyword">False</span></span><br></pre></td></tr></table></figure></p>
<h4 id="isinstance"><a href="#isinstance" class="headerlink" title="isinstance()"></a>isinstance()</h4><p>继承关系判断，当然能用type()判断的类型也能用isinstance()判断。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(a, object)   <span class="comment"># 判断object类是不是在对象a的父类链上。</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], (list, tuple))</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance((<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), (list, tuple))</span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="实例属性和类属性"><a href="#实例属性和类属性" class="headerlink" title="实例属性和类属性"></a>实例属性和类属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="meta">... </span>    name = <span class="string">'Student'</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = Student() <span class="comment"># 创建实例s</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(s.name) <span class="comment"># 打印name属性，因为实例并没有name属性，所以会继续查找class的name属性</span></span><br><span class="line">Student</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(Student.name) <span class="comment"># 打印类的name属性</span></span><br><span class="line">Student</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.name = <span class="string">'Michael'</span> <span class="comment"># 给实例绑定name属性</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(s.name) <span class="comment"># 由于实例属性优先级比类属性高，因此，它会屏蔽掉类的name属性</span></span><br><span class="line">Michael</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(Student.name) <span class="comment"># 但是类属性并未消失，用Student.name仍然可以访问</span></span><br><span class="line">Student</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> s.name <span class="comment"># 如果删除实例的name属性</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(s.name) <span class="comment"># 再次调用s.name，由于实例的name属性没有找到，类的name属性就显示出来了</span></span><br><span class="line">Student</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="魔法方法"><a href="#魔法方法" class="headerlink" title="魔法方法"></a>魔法方法</h3><h4 id="new-cls-…"><a href="#new-cls-…" class="headerlink" title="__new__(cls[, … ])"></a>__new__(cls[, … ])</h4><p>是在一个对象实例化的时候所调用的第一个方法，主要是用于继承一个不可变的类型比如一个 tuple 或者 string。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">CapStr</span><span class="params">(str)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls, string)</span>:</span></span><br><span class="line">		string = string.upper()</span><br><span class="line">		<span class="keyword">return</span> str.__new__(cls, string)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = CapStr(<span class="string">'Hello, World!'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="string">'HELLO, WORLD!'</span></span><br></pre></td></tr></table></figure>
<h4 id="init-self-…"><a href="#init-self-…" class="headerlink" title="__init__(self[, … ])"></a>__init__(self[, … ])</h4><p>构造器，当一个实例被创建的时候调用的初始化方法。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x, y)</span>:</span>    <span class="comment"># 无返回，给对象初始化时需要调用</span></span><br><span class="line">		self.x = x</span><br><span class="line">		self.y = y</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">getPeri</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> (self.x + self.y)* <span class="number">2</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">getArea</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> self.x * self.y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rect = Rectangle(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rect.getPeri()</span><br><span class="line"><span class="number">14</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rect.getArea()</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure></p>
<h4 id="del-self"><a href="#del-self" class="headerlink" title="__del__(self)"></a>__del__(self)</h4><p>析构器，当一个实例被销毁的时候调用的方法，作为内置的垃圾回收机制。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">		print(<span class="string">'__init__方法被调用了...'</span>)</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span></span><br><span class="line">		print(<span class="string">'__del__方法被调用了...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = C()</span><br><span class="line">__init__方法被调用了...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> c</span><br><span class="line">__del__方法被调用了...</span><br></pre></td></tr></table></figure>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/28/Python学习笔记——面向对象编程/" data-id="cjkqx87ov000yl8uttouee3vz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/">book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/介绍/">介绍</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/book/" style="font-size: 10px;">book</a> <a href="/tags/介绍/" style="font-size: 10px;">介绍</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/08/12/Python学习笔记——Pygame游戏开发/">Python学习笔记——Pygame游戏开发</a>
          </li>
        
          <li>
            <a href="/2018/08/09/Python学习笔记——网络爬虫/">Python学习笔记——网络爬虫</a>
          </li>
        
          <li>
            <a href="/2018/08/08/Python学习笔记——GUI编程/">Python学习笔记——GUI编程</a>
          </li>
        
          <li>
            <a href="/2018/08/07/Python学习笔记——异常处理/">Python学习笔记——异常处理</a>
          </li>
        
          <li>
            <a href="/2018/08/07/Python学习笔记——常用模块/">Python学习笔记——常用模块</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Ai Junhao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>