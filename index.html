<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hello, I&#39;m Junhao Ai.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hello, I&#39;m Junhao Ai.">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hello, I&#39;m Junhao Ai.">
  
    <link rel="alternate" href="/atom.xml" title="Hello, I&#39;m Junhao Ai." type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hello, I&#39;m Junhao Ai.</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Android开发之手机影音" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/26/Android开发之手机影音/" class="article-date">
  <time datetime="2018-08-26T06:44:25.000Z" itemprop="datePublished">2018-08-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/26/Android开发之手机影音/">Android开发之手机影音</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Anroid开发之手机影音"><a href="#Anroid开发之手机影音" class="headerlink" title="Anroid开发之手机影音"></a>Anroid开发之手机影音</h2><p>此学习笔记来源于“尚硅谷——Android项目视频——手机影音”</p>
<hr>
<p>svn资源地址：<a href="https://47.96.118.115/svn/MobliePlayer" target="_blank" rel="noopener">https://47.96.118.115/svn/MobliePlayer</a></p>
<hr>
<h3 id="手机影音项目总结"><a href="#手机影音项目总结" class="headerlink" title="手机影音项目总结"></a>手机影音项目总结</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">1. 市场上百分之八十的软件架构</span><br><span class="line">2. 读取本地视频</span><br><span class="line">3. VideoView和MediaPlayer</span><br><span class="line">4. VideoView继承SurfaceView</span><br><span class="line">5. MediaPlayer的三个监听：错误监听，准备监听，播放完成监听</span><br><span class="line">6. 播放列表传递-序列化</span><br><span class="line">7. 播放器相关逻辑：调节声音，滑动屏幕改变声音</span><br><span class="line">8. 手势识别器</span><br><span class="line">9. 注册监听电量广播</span><br><span class="line">10. 得到系统时间</span><br><span class="line">11. 自定义VideoView，实现视频画面的大小变化</span><br><span class="line">12. Ffmpeg，VLC，Vitamio</span><br><span class="line">13. 使用Vitamio打造万能播放器</span><br><span class="line">14. 电视直播</span><br><span class="line">15. 视频播放进度的更新</span><br><span class="line"></span><br><span class="line">16. 本地音乐读取</span><br><span class="line">17. Activity通过AIDL接口文件个Service进行交互</span><br><span class="line">18. 设置音乐的播放模式</span><br><span class="line">19. 根据播放的音乐显示不同的频谱</span><br><span class="line">20. 歌词显示空间的封装</span><br><span class="line">21. 歌词解析</span><br><span class="line">22. 歌词同步</span><br><span class="line">23. 歌词解决乱码问题</span><br><span class="line">24. 使用xUtils请求网络数据和网络图片</span><br><span class="line">25. 手动解析jsohn</span><br><span class="line">26. 数据缓存</span><br><span class="line">27. 标题栏的编写</span><br><span class="line">28. EventBus</span><br><span class="line">29. 手动判断视频是否卡</span><br><span class="line">30. 监听外部请求播放视频</span><br><span class="line">31. 拼比横竖屏切换</span><br><span class="line">32. xListView的使用，下拉刷新</span><br><span class="line">33. 调节声音AudioManger</span><br><span class="line"></span><br><span class="line">重点掌握：</span><br><span class="line">多媒体相关，视频播放器</span><br><span class="line">软件框架和联网模块</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="启动页面"><a href="#启动页面" class="headerlink" title="启动页面"></a>启动页面</h3><p>效果：软件启动的第一个节目。</p>
<p>软件启动时的欢迎页面，称为SplashActivity，LaucherActivity，WelcomeActivity等。</p>
<p>首先创建名为“MobliePlayer”的项目，设置第一个Activity名称为”SplashActivity”作为启动页面。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">"#fff"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">"com.me.moblieplayer.SplashActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/iv_splash_icon"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"80dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"80dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:src</span>=<span class="string">"@drawable/login_icon"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_below</span>=<span class="string">"@id/iv_splash_icon"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_centerHorizontal</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"30dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"30dp"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:text</span>=<span class="string">"正在启动..."</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"18sp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_marginLeft</span>=<span class="string">"8dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2018/08/26/Android开发之手机影音/SplashActivity.jpg" alt=""></p>
<hr>
<h3 id="启动跳转"><a href="#启动跳转" class="headerlink" title="启动跳转"></a>启动跳转</h3><p>效果：实现特定时间从启动界面跳转到主界面。</p>
<p>如果只是普通的定时跳转，则调用Handler对象的postDelay()方法即可。但是如果要实现提前跳转，则需要特殊的操作，如果处理不好将出现极其影响用户体验的bug。</p>
<p>添加主界面：新建Activity，名为“MainActivity”，并在“AndroidManifest.xml”中注册。</p>
<p>“MainActivity”测试界面如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.me.moblieplayer.activity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.graphics.Color;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.Gravity;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 添加一个TextView并显示在屏幕中间</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        TextView textView = <span class="keyword">new</span> TextView(<span class="keyword">this</span>);</span><br><span class="line">        textView.setText(<span class="string">"我是主页面"</span>);</span><br><span class="line">        textView.setTextSize(<span class="number">30</span>);</span><br><span class="line">        textView.setGravity(Gravity.CENTER);</span><br><span class="line">        textView.setTextColor(Color.RED);</span><br><span class="line"></span><br><span class="line">        setContentView(textView);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/26/Android开发之手机影音/MainActivityTest.jpg" alt=""></p>
<h5 id="普通跳转："><a href="#普通跳转：" class="headerlink" title="普通跳转："></a>普通跳转：</h5><p>两秒钟后自动从启动界面跳转到主界面。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.moblieplayer.activity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.os.Handler;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.me.moblieplayer.R;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SplashActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = SplashActivity.class.getSimpleName();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_splash);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Handler().postDelayed(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="comment">// 两秒后才执行</span></span><br><span class="line">                <span class="comment">// 执行在主线程中，因为Hnadler在主线程中new</span></span><br><span class="line">                startMainActivity();</span><br><span class="line">                Log.e(TAG, <span class="string">"当前线程名称=="</span> + Thread.currentThread().getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 跳转到主页面，并且把当前界面关闭</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startMainActivity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, MainActivity.class);</span><br><span class="line">        startActivity(intent);</span><br><span class="line">        <span class="comment">// 关闭当前界面</span></span><br><span class="line">        finish();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="单例模式-onDestroy-实现提前跳转"><a href="#单例模式-onDestroy-实现提前跳转" class="headerlink" title="单例模式+onDestroy()实现提前跳转"></a>单例模式+onDestroy()实现提前跳转</h5><p>允许主界面启动方法启动多次，但是只执行一次。</p>
<p>单例模式：在“AndroidManifest.xml”中主界面“MainActivity”注册时，设置launchMod启动模式为“singleTask”单例模式，则主界面只启动一次。</p>
<p>在”AndroidManifest.xml”文件中注册主界面，并设置单例模式：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">".activity.MainActivity"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:launchMode</span>=<span class="string">"singleTask"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>“SplashActivity.java”中设置onDestroy()移除handler回调和信息，将Handler定义为类的成员变量，然后退出时销毁，就不会出现在跳转过程中退出后，仍然执行定时跳转的bug。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.moblieplayer.activity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.os.Handler;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"><span class="keyword">import</span> android.view.MotionEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.me.moblieplayer.R;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SplashActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = SplashActivity.class.getSimpleName();         <span class="comment">//动态获得类名</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Handler handler = <span class="keyword">new</span> Handler();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_splash);</span><br><span class="line"></span><br><span class="line">        handler.postDelayed(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="comment">// 两秒后才执行</span></span><br><span class="line">                <span class="comment">// 执行在主线程中，因为Hnadler在主线程中new</span></span><br><span class="line">                startMainActivity();</span><br><span class="line">                Log.e(TAG, <span class="string">"当前线程名称=="</span> + Thread.currentThread().getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 跳转到主页面，并且把当前界面关闭</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startMainActivity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, MainActivity.class);</span><br><span class="line">        startActivity(intent);</span><br><span class="line">        <span class="comment">// 关闭当前界面</span></span><br><span class="line">        finish();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 触摸事件，跳过等待</span></span><br><span class="line"><span class="comment">     * 此处就是需要特殊处理的原因，触摸事件会导致多次启动主界面</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> event</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouchEvent</span><span class="params">(MotionEvent event)</span> </span>&#123;</span><br><span class="line">        Log.e(TAG, <span class="string">"onTouchEvent == Action"</span> + event.getAction());</span><br><span class="line">        startMainActivity();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onTouchEvent(event);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        handler.removeCallbacksAndMessages(<span class="keyword">null</span>);        <span class="comment">// 移除handler的回调和消息</span></span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="通过启动判断"><a href="#通过启动判断" class="headerlink" title="通过启动判断"></a>通过启动判断</h5><p>从源头上主界面启动方法只能启动一次。</p>
<p>此处在”AndroidManifest.xml”文件中注册主界面即可，不需要设置为单例模式：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">".activity.MainActivity"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>修改主页面启动方法，添加一个isStartMain属性判断是否启动过。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 跳转到主页面，并且把当前界面关闭</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startMainActivity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, MainActivity.class);</span><br><span class="line">    startActivity(intent);</span><br><span class="line">    <span class="comment">// 关闭当前界面</span></span><br><span class="line">    finish();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">修改为如下代码：</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> isStartMain = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 跳转到主页面，并且把当前界面关闭</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startMainActivity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!isStartMain)&#123;</span><br><span class="line">        isStartMain = <span class="keyword">true</span>;</span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, MainActivity.class);</span><br><span class="line">        startActivity(intent);</span><br><span class="line">        <span class="comment">// 关闭当前界面</span></span><br><span class="line">        finish();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/26/Android开发之手机影音/" data-id="cjlcbuf4q00009outlyg9ki3o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android蓝牙开发学习" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/23/Android蓝牙开发学习/" class="article-date">
  <time datetime="2018-08-23T11:19:06.000Z" itemprop="datePublished">2018-08-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/23/Android蓝牙开发学习/">Android蓝牙开发学习</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/2018/08/23/Android蓝牙开发学习/BlueTooth.png" alt=""></p>
<p>无线传输方案：WIFI、NFC、BlueTooth、红外。</p>
<hr>
<h3 id="WIFI"><a href="#WIFI" class="headerlink" title="WIFI"></a>WIFI</h3><p>工作频段：2.4G/5G<br>有效传输距离：10米到数公里<br>传输速度：根据802.11协议族确定。<br>802.11b 11Mpba<br>802.11g 54Mpba<br>802.11n 600Mbps<br>802.11ac 1.3Gbps<br>常用场景：智能家居、无人机控制<br>缺陷：功耗较高</p>
<hr>
<h3 id="NFC"><a href="#NFC" class="headerlink" title="NFC"></a>NFC</h3><p>近场通信技术，能在短距离内与兼容设备进行识别和数据交换。<br>有效传输距离：13.56MHz频率云运行于20厘米距离内。<br>传输速度：400kb/s以下。<br>常用场景：手机支付、门禁、信用卡、AndroidBeam(分享照片和视频)<br>优点：不需要电池、功耗低。</p>
<hr>
<h3 id="蓝牙BlueTooth"><a href="#蓝牙BlueTooth" class="headerlink" title="蓝牙BlueTooth"></a>蓝牙BlueTooth</h3><p>是一种无线技术标准、可实现固定设置设备和楼宇个人域网络之间的短距离数据交换。<br>传输距离：一般在10米内<br>传输速度：2.4G频率，理论传输速度24Mbps(4.0版本)<br>常用场景：蓝牙耳机、蓝牙音箱、无线键鼠、可穿戴个人健康设备、无线数据传输、车载设备通信。</p>
<hr>
<h3 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h3><table>
<thead>
<tr>
<th>网络类型</th>
<th>WIFI</th>
<th>NFC</th>
<th>BlueTooth</th>
</tr>
</thead>
<tbody>
<tr>
<td>连接方式</td>
<td>单点对多点</td>
<td>点对点</td>
<td>单点对多点</td>
</tr>
<tr>
<td>使用距离</td>
<td>&lt; 10m-1000m</td>
<td>&lt;=0.02m</td>
<td>&lt;=10m</td>
</tr>
<tr>
<td>速度</td>
<td>&lt; 1.3Gbps</td>
<td>&lt; 400Kbps</td>
<td>&lt; 2424MkBPS</td>
</tr>
<tr>
<td>功耗</td>
<td>中低</td>
<td>很低</td>
<td>低</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<h3 id="蓝牙的工作流程"><a href="#蓝牙的工作流程" class="headerlink" title="蓝牙的工作流程"></a>蓝牙的工作流程</h3><hr>
<h3 id="添加权限"><a href="#添加权限" class="headerlink" title="添加权限"></a>添加权限</h3><p>在androi studio中创建项目后，在“AndroidManifest.xml”文件中添加如下权限：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 添加蓝牙权限 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 蓝牙普通权限 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.BLUETOOTH"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 高级权限，可与其他设备连接 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.BLUETOOTH_ADMIN"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>google在android6.0之后，为了更好的保护用户的数据安全，所有需要访问硬件唯一标识符的地方都需要申请位置权限，也就是需要申请:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.ACCESS_COARSE_LOCATION"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.ACCESS_FINE_LOCATION"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="蓝牙在设备上的可用性"><a href="#蓝牙在设备上的可用性" class="headerlink" title="蓝牙在设备上的可用性"></a>蓝牙在设备上的可用性</h3><p>在项目中添加蓝牙权限之后，还需要判断该设备是否拥有蓝牙设备，蓝牙在设备中是否可用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">BluetoothAdapter: 本机的蓝牙适配器</span><br><span class="line">BluetoothDevice: 远程的蓝牙适配器</span><br><span class="line"></span><br><span class="line">BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();</span><br><span class="line"><span class="keyword">if</span>( mBluetoothAdapter == <span class="keyword">null</span>)&#123;</span><br><span class="line">  <span class="comment">// Device does notsupport BlueTooth</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果设备支持蓝牙，BluetoothAdapter.getDefaultAdapter()将返回一个对象，否则将返回null值。</p>
<hr>
<h3 id="开启-关闭蓝牙"><a href="#开启-关闭蓝牙" class="headerlink" title="开启/关闭蓝牙"></a>开启/关闭蓝牙</h3><p>新建一个名为“BlueToothController.java”类：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.mybluetooth;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.bluetooth.BluetoothAdapter;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  蓝牙适配器</span></span><br><span class="line"><span class="comment"> *  Created by AiJunhao on 2018/8/23</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlueToothController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> BluetoothAdapter mAdapter;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BlueToothController</span><span class="params">()</span></span>&#123;</span><br><span class="line">        mAdapter = BluetoothAdapter.getDefaultAdapter();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 是否支持蓝牙</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSupperBlueTooth</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( mAdapter != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断当前蓝牙状态</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getBlueToothStatus</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span> (mAdapter != <span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">return</span>  mAdapter.isEnabled();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 打开蓝牙</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> activity</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> requestCode</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnOnBlueTooth</span><span class="params">(Activity activity, <span class="keyword">int</span> requestCode)</span></span>&#123;</span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);</span><br><span class="line">        activity.startActivityForResult(intent, requestCode);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 关闭蓝牙</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnOffBlueTooth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mAdapter.disable();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在“activity_main.xml”文件中添加四个测试按钮：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/is_support_blue_tooth"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">        <span class="attr">android:onClick</span>=<span class="string">"isSupperBlueTooth"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/is_support_blue_tooth"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/is_blue_tooth_enable"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:onClick</span>=<span class="string">"isBlueToothEnable"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/is_blue_tooth_enable"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/turn_on_blue_tooth"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:onClick</span>=<span class="string">"requestTurnOnBlueTooth"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/turn_on_blue_tooth"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/turn_off_blue_tooth"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:onClick</span>=<span class="string">"turnDownBlueTooth"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"@string/turn_off_blue_tooth"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在“MainActivity.java”文件中添加具体的功能：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.me.mybluetooth;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.bluetooth.BluetoothAdapter;</span><br><span class="line"><span class="keyword">import</span> android.content.BroadcastReceiver;</span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.content.IntentFilter;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> REQUEST_CODE = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> BlueToothController mController = <span class="keyword">new</span> BlueToothController();</span><br><span class="line">    <span class="keyword">private</span> Toast mToast;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 监听广播</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> BroadcastReceiver receivec = <span class="keyword">new</span> BroadcastReceiver() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceive</span><span class="params">(Context context, Intent intent)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> state = intent.getIntExtra(BluetoothAdapter.EXTRA_STATE, -<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">switch</span> (state)&#123;</span><br><span class="line">                <span class="keyword">case</span> BluetoothAdapter.STATE_OFF:</span><br><span class="line">                    showToast(<span class="string">"STATE_OFF"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> BluetoothAdapter.STATE_ON:</span><br><span class="line">                    showToast(<span class="string">"STATE_ON"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> BluetoothAdapter.STATE_TURNING_ON:</span><br><span class="line">                    showToast(<span class="string">"STATE_TURNING_ON"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> BluetoothAdapter.STATE_TURNING_OFF:</span><br><span class="line">                    showToast(<span class="string">"STATE_TURNING_OFF"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    showToast(<span class="string">"Unkown STATE"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        IntentFilter filter = <span class="keyword">new</span> IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);</span><br><span class="line">        registerReceiver(receivec, filter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">isSupperBlueTooth</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> ret = mController.isSupperBlueTooth();</span><br><span class="line">        showToast(<span class="string">"support Bluetooth? "</span> + ret);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">isBlueToothEnable</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> ret = mController.getBlueToothStatus();</span><br><span class="line">        showToast(<span class="string">"BlueTooth enable? "</span> + ret);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestTurnOnBlueTooth</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">        mController.turnOnBlueTooth(<span class="keyword">this</span>, REQUEST_CODE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnDownBlueTooth</span><span class="params">(View view)</span></span>&#123;</span><br><span class="line">        mController.turnOffBlueTooth();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">showToast</span><span class="params">(String text)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(mToast == <span class="keyword">null</span>)&#123;</span><br><span class="line">            mToast = Toast.makeText(<span class="keyword">this</span>, text, Toast.LENGTH_SHORT);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mToast.setText(text);</span><br><span class="line">        &#125;</span><br><span class="line">        mToast.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="查找设备"><a href="#查找设备" class="headerlink" title="查找设备"></a>查找设备</h3><p>使用BluetoothAdapter中的startDiscovery()方法，需要与广播向结合。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/23/Android蓝牙开发学习/" data-id="cjlcbuf9f000z9outtrkvow47" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android-BlueTooth/">Android BlueTooth</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——Pygame游戏开发" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/12/Python学习笔记——Pygame游戏开发/" class="article-date">
  <time datetime="2018-08-12T07:18:59.000Z" itemprop="datePublished">2018-08-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/12/Python学习笔记——Pygame游戏开发/">Python学习笔记——Pygame游戏开发</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>Pygame 内部是使用c语言实现的，所以Pygame游戏的效率还是比较高的。</p>
<hr>
<h3 id="安装Pygame"><a href="#安装Pygame" class="headerlink" title="安装Pygame"></a>安装Pygame</h3><p>打开cmd命令行。输入”pip install pygame”，系统自行安装即可。<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/InstallPygame.png" alt=""></p>
<p>在IDLE中测试：<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameTest.png" alt=""></p>
<p>如此，安装完成。</p>
<hr>
<h3 id="Pygame-基本框架"><a href="#Pygame-基本框架" class="headerlink" title="Pygame 基本框架"></a>Pygame 基本框架</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化Pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 画布大小，元组类型</span></span><br><span class="line">SIZE = (width, height) = <span class="number">600</span>, <span class="number">400</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建指定大小的窗口，单位为像素，返回Surface对象，作为背景画布</span></span><br><span class="line">screen = pygame.display.set_mode(SIZE)</span><br><span class="line"><span class="comment"># 设置窗口标题</span></span><br><span class="line">pygame.display.set_caption(<span class="string">"初次见面，大家多多关照!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载图片</span></span><br><span class="line"><span class="comment">#turtle = pygame.image.load("turtle.png")</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取事件</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            <span class="comment"># 退出pygame</span></span><br><span class="line">            pygame.quit()</span><br><span class="line">            <span class="comment"># 退出系统</span></span><br><span class="line">            sys.exit()</span><br></pre></td></tr></table></figure>
<p>一个游戏循环（也可以称为主循环）就做下面这三件事：</p>
<ul>
<li>处理事件</li>
<li>更新游戏状态</li>
<li>绘制游戏状态到屏幕上</li>
</ul>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameMain.png" alt=""></p>
<hr>
<h3 id="颜控，set-mode"><a href="#颜控，set-mode" class="headerlink" title="颜控，set_mode()"></a>颜控，set_mode()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># set_mode返回值为Surface对象</span></span><br><span class="line">screen = set_mode(resolution(<span class="number">0</span>, <span class="number">0</span>), flags=<span class="number">0</span>, depth=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p>flags拓展选项：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>FULLSCREEN</td>
<td>全屏模式</td>
</tr>
<tr>
<td>DOUBLEBUF</td>
<td>双缓冲模式</td>
</tr>
<tr>
<td>HWSURFACE</td>
<td>硬件加速支持(只有在全屏模式下才能使用)</td>
</tr>
<tr>
<td>OPENGL</td>
<td>使用OpenGL渲染(3D游戏)</td>
</tr>
<tr>
<td>RESIZABLE</td>
<td>是的窗口可以调整大小</td>
</tr>
<tr>
<td>NOFRAME</td>
<td>使得窗口没有边框和控制按钮</td>
</tr>
</tbody>
</table>
<p>depth一般不建议自动设置，系统会根据需要自己调整。</p>
<p>案例：全屏设置(有bug)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">SIZE = (WITDH, HEIGHT) = (<span class="number">600</span>, <span class="number">400</span>)</span><br><span class="line">WIGHT = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 全屏</span></span><br><span class="line">fullscreen = <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">screen</span><br><span class="line">= pygame.display.set_mode(SIZE)</span><br><span class="line">pygame.display.set_caption(<span class="string">"全屏设置"</span>)</span><br><span class="line">screen.fill(WIGHT)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            pygame.quit()</span><br><span class="line">            sys.exit()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.KEYDOWN:</span><br><span class="line">            <span class="comment"># 设置F11为全屏键</span></span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_F11:</span><br><span class="line">                fullscreen = <span class="keyword">not</span> fullscreen</span><br><span class="line">                <span class="keyword">if</span> fullscreen:</span><br><span class="line">                    <span class="comment"># 获取系统支持的最高分辨率</span></span><br><span class="line">                    SIZE_Biggest = pygame.display.list_modes()[<span class="number">0</span>]</span><br><span class="line">                    screen = pygame.display.set_mode(SIZE_Biggest, pygame.FULLSCREEN | pygame.HWSURFACE)</span><br><span class="line">                <span class="keyword">else</span> :</span><br><span class="line">                    screen = pygame.display.set_mode(SIZE)</span><br><span class="line">    screen.fill(WIGHT)</span><br><span class="line">    <span class="comment"># 更新界面</span></span><br><span class="line">    pygame.display.flip()</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="图像"><a href="#图像" class="headerlink" title="图像"></a>图像</h3><p>与图像有关的方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>flip</td>
<td>上下、左右转转图片</td>
</tr>
<tr>
<td>scale</td>
<td>快速缩放图像</td>
</tr>
<tr>
<td>rotate</td>
<td>旋转图像</td>
</tr>
<tr>
<td>rotozoom</td>
<td>缩放并旋转图像</td>
</tr>
<tr>
<td>scale2x</td>
<td>快速放大一倍图像</td>
</tr>
<tr>
<td>smoothscale</td>
<td>精准平滑缩放图像</td>
</tr>
<tr>
<td>chop</td>
<td>裁剪图像</td>
</tr>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加载png图片，使用convert_alpha加载透明alpha通道</span></span><br><span class="line">turtle_img = pygame.image.load(<span class="string">"turtle.png"</span>).convert_alpha()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载jpg图片</span></span><br><span class="line">turtle_img = pygame.image.load(<span class="string">"turtle.jpg"</span>).convert()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不支持gif</span></span><br></pre></td></tr></table></figure>
<p>实例：沿框运动的小乌龟<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化Pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">size = (width, height) = (<span class="number">600</span>, <span class="number">400</span>)</span><br><span class="line">speed = [<span class="number">2</span>, <span class="number">0</span>]</span><br><span class="line">bg = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置帧率</span></span><br><span class="line">clock = pygame.time.Clock()</span><br><span class="line"></span><br><span class="line">screen = pygame.display.set_mode(size)</span><br><span class="line">pygame.display.set_caption(<span class="string">"沿框运动的小乌龟"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载图片</span></span><br><span class="line">turtle_img = pygame.image.load(<span class="string">"turtle.png"</span>)</span><br><span class="line">turtle_right = pygame.transform.rotate(turtle_img, <span class="number">90</span>)</span><br><span class="line">turtle_top = pygame.transform.rotate(turtle_img, <span class="number">180</span>)</span><br><span class="line">turtle_left = pygame.transform.rotate(turtle_img, <span class="number">270</span>)</span><br><span class="line">turtle_bottom = turtle_img</span><br><span class="line">turtle = turtle_top</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得图像的位置矩形</span></span><br><span class="line">position = turtle.get_rect()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环持续运行</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取事件，在此处退出</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            <span class="comment"># 退出pygame</span></span><br><span class="line">            <span class="comment"># pygame.quit()</span></span><br><span class="line">            <span class="comment"># 退出系统</span></span><br><span class="line">            sys.exit()</span><br><span class="line">    <span class="comment"># 移动图像</span></span><br><span class="line">    position = position.move(speed)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> position.right &gt; width:</span><br><span class="line">        turtle = turtle_right</span><br><span class="line">        position = turtle_rect = turtle.get_rect()</span><br><span class="line">        position.left = width - turtle_rect.width</span><br><span class="line">        speed = [<span class="number">0</span>, <span class="number">2</span>]</span><br><span class="line">    <span class="keyword">if</span> position.bottom &gt; height:</span><br><span class="line">        turtle = turtle_bottom</span><br><span class="line">        position = turtle_rect = turtle.get_rect()</span><br><span class="line">        position.left = width - turtle_rect.width</span><br><span class="line">        position.top = height - turtle_rect.height</span><br><span class="line">        speed = [<span class="number">-2</span>, <span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> position.left &lt; <span class="number">0</span>:</span><br><span class="line">        turtle = turtle_left</span><br><span class="line">        position = turtle_rect = turtle.get_rect()</span><br><span class="line">        position.top = height - turtle_rect.height</span><br><span class="line">        speed = [<span class="number">0</span>, <span class="number">-2</span>]</span><br><span class="line">    <span class="keyword">if</span> position.top &lt; <span class="number">0</span>:</span><br><span class="line">        turtle = turtle_top</span><br><span class="line">        position = turtle_rect = turtle.get_rect()</span><br><span class="line">        speed = [<span class="number">2</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 填充背景</span></span><br><span class="line">    screen.fill(bg)</span><br><span class="line">    <span class="comment"># 更新图像</span></span><br><span class="line">    screen.blit(turtle, position)</span><br><span class="line">    <span class="comment"># 更新界面</span></span><br><span class="line">    pygame.display.flip()</span><br><span class="line">    <span class="comment"># 延迟10毫秒</span></span><br><span class="line">    <span class="comment"># pygame.time.delay(10)</span></span><br><span class="line">    clock.tick(<span class="number">200</span>)</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameRunAroundTurtle.gif" alt=""></p>
<h4 id="基本几何图形绘制"><a href="#基本几何图形绘制" class="headerlink" title="基本几何图形绘制"></a>基本几何图形绘制</h4><table>
<thead>
<tr>
<th>名称</th>
<th>方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>一条</td>
<td>pygame.draw.line(Surface, color, start_pos, end_pos, width)</td>
</tr>
<tr>
<td>抗锯齿的线</td>
<td>pygame.draw.aaline(Surface, color, start_pos, end_pos, blend)</td>
</tr>
<tr>
<td>折线</td>
<td>pygame.draw.lines(Surface, color, closed, pointlist, width)</td>
</tr>
<tr>
<td>矩形</td>
<td>pygame.draw.rect(Surface, color, Rect)</td>
</tr>
<tr>
<td>矩形框</td>
<td>pygame.draw.rect(Surface, color, Rect, width</td>
</tr>
<tr>
<td>椭圆</td>
<td>pygame.draw.ellipse(Surface, color, Rect)</td>
</tr>
<tr>
<td>椭圆框</td>
<td>pygame.draw.ellipse(Surface, color, Rect, width)</td>
</tr>
<tr>
<td>多边形</td>
<td>pygame.draw.polygon(Surface, color, pointlist, width)</td>
</tr>
<tr>
<td>弧线</td>
<td>pygame.draw.arc(Surface, color, Rect, start_angle, stop_angle, width)</td>
</tr>
<tr>
<td>圆</td>
<td>pygame.draw.circle(Surface, color, Rect, radius)</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入需要的模块</span></span><br><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> pi</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置窗口的大小，单位为像素</span></span><br><span class="line">screen = pygame.display.set_mode((<span class="number">400</span>,<span class="number">300</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置窗口标题</span></span><br><span class="line">pygame.display.set_caption(<span class="string">'Drawing'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义颜色</span></span><br><span class="line">BLACK = ( <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">WHITE = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line">RED = (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">GREEN = ( <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>)</span><br><span class="line">BLUE = ( <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置背景颜色</span></span><br><span class="line">screen.fill(WHITE)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一条线</span></span><br><span class="line">pygame.draw.line(screen, GREEN, [<span class="number">0</span>, <span class="number">0</span>], [<span class="number">50</span>,<span class="number">30</span>], <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一条抗锯齿的线</span></span><br><span class="line">pygame.draw.aaline(screen, GREEN, [<span class="number">0</span>, <span class="number">50</span>],[<span class="number">50</span>, <span class="number">80</span>],<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一条折线</span></span><br><span class="line">pygame.draw.lines(screen, BLACK, <span class="keyword">False</span>,</span><br><span class="line">         [[<span class="number">0</span>, <span class="number">80</span>], [<span class="number">50</span>, <span class="number">90</span>], [<span class="number">200</span>, <span class="number">80</span>], [<span class="number">220</span>, <span class="number">30</span>]], <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个空心矩形</span></span><br><span class="line">pygame.draw.rect(screen, BLACK, [<span class="number">75</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">20</span>], <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个矩形</span></span><br><span class="line">pygame.draw.rect(screen, BLACK, [<span class="number">150</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">20</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个空心椭圆</span></span><br><span class="line">pygame.draw.ellipse(screen, RED, [<span class="number">225</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">20</span>], <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个椭圆</span></span><br><span class="line">pygame.draw.ellipse(screen, RED, [<span class="number">300</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">20</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制多边形</span></span><br><span class="line">pygame.draw.polygon(screen, BLACK, [[<span class="number">100</span>, <span class="number">100</span>], [<span class="number">0</span>, <span class="number">200</span>], [<span class="number">200</span>, <span class="number">200</span>]], <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制多条弧线</span></span><br><span class="line">pygame.draw.arc(screen, BLACK,[<span class="number">210</span>, <span class="number">75</span>, <span class="number">150</span>, <span class="number">125</span>], <span class="number">0</span>, pi/<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">pygame.draw.arc(screen, GREEN,[<span class="number">210</span>, <span class="number">75</span>, <span class="number">150</span>, <span class="number">125</span>], pi/<span class="number">2</span>, pi, <span class="number">2</span>)</span><br><span class="line">pygame.draw.arc(screen, BLUE, [<span class="number">210</span>, <span class="number">75</span>, <span class="number">150</span>, <span class="number">125</span>], pi,<span class="number">3</span>*pi/<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">pygame.draw.arc(screen, RED, [<span class="number">210</span>, <span class="number">75</span>, <span class="number">150</span>, <span class="number">125</span>], <span class="number">3</span>*pi/<span class="number">2</span>, <span class="number">2</span>*pi, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制一个圆</span></span><br><span class="line">pygame.draw.circle(screen, BLUE, [<span class="number">60</span>, <span class="number">250</span>], <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 获取事件</span></span><br><span class="line">  <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">    <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">    <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">      <span class="comment"># 退出pygame</span></span><br><span class="line">      pygame.quit()</span><br><span class="line">      <span class="comment"># 退出系统</span></span><br><span class="line">      sys.exit()</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 绘制屏幕内容</span></span><br><span class="line">  pygame.display.flip()</span><br></pre></td></tr></table></figure>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameImage.png" alt=""></p>
<hr>
<h3 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h3><p>编写一个程序，将所有执行的事件写入到一个文件中：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">size = width, height =  <span class="number">600</span>, <span class="number">400</span></span><br><span class="line">screen = pygame.display.set_mode(size)</span><br><span class="line">pygame.display.set_caption(<span class="string">"事件处理"</span>)</span><br><span class="line"></span><br><span class="line">f = open(<span class="string">"record.txt"</span>, <span class="string">'w'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="comment"># 获取事件</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        f.write(str(event) + <span class="string">'\n'</span>)</span><br><span class="line">        <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            f.close()</span><br><span class="line">            <span class="comment"># 退出pygame</span></span><br><span class="line">            pygame.quit()</span><br><span class="line">            <span class="comment"># 退出系统</span></span><br><span class="line">            sys.exit()</span><br></pre></td></tr></table></figure></p>
<p>运行程序，随意移动鼠标、点击鼠标、按键盘等，然后关闭程序，在程序同目录下打开“record.txt”文件，可以看到如下：<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameEventTxt.png" alt=""></p>
<table>
<thead>
<tr>
<th>事件</th>
<th>产生途径</th>
<th>参数</th>
</tr>
</thead>
<tbody>
<tr>
<td>QUIT</td>
<td>用户按下关闭按钮</td>
<td>none</td>
</tr>
<tr>
<td>ACTIVEEVENT</td>
<td>Pygame被激活或者隐藏</td>
<td>gain, state</td>
</tr>
<tr>
<td>KEYDOWN</td>
<td>键盘被按下</td>
<td>unicode, key, mod</td>
</tr>
<tr>
<td>KEYUP</td>
<td>键盘被放开</td>
<td>key, mod</td>
</tr>
<tr>
<td>MOUSEMOTION</td>
<td>鼠标移动</td>
<td>pos, rel, buttons</td>
</tr>
<tr>
<td>MOUSEBUTTONDOWN</td>
<td>鼠标按下</td>
<td>pos, button</td>
</tr>
<tr>
<td>MOUSEBUTTONUP</td>
<td>鼠标放开</td>
<td>pos, button</td>
</tr>
<tr>
<td>JOYAXISMOTION</td>
<td>游戏手柄的摇杆移动</td>
<td>joy, axis, value</td>
</tr>
<tr>
<td>JOYBALLMOTION</td>
<td>游戏手柄上的轨迹球混动</td>
<td>joy, axis, value</td>
</tr>
<tr>
<td>JOYHATMOTION</td>
<td>游戏手柄上的帽子开关移动</td>
<td>joy， axis， value</td>
</tr>
<tr>
<td>JOYBUTTONDOWN</td>
<td>游戏手柄按钮被按下</td>
<td>joy,button</td>
</tr>
<tr>
<td>JOYBUTTONUP</td>
<td>游戏手柄按钮被松开</td>
<td>joy, button</td>
</tr>
<tr>
<td>VIDEORESIZE</td>
<td>Pygame窗口缩放</td>
<td>size, w, h</td>
</tr>
<tr>
<td>VIDEOEXPOSE</td>
<td>部分窗口需要重新绘制</td>
<td>none</td>
</tr>
<tr>
<td>USEERVENT</td>
<td>用户定义的事件</td>
<td>code</td>
</tr>
</tbody>
</table>
<p>运动的小乌龟事件处理：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化Pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">size = width, height = <span class="number">600</span>, <span class="number">400</span></span><br><span class="line">speed = [<span class="number">-2</span>, <span class="number">1</span>]</span><br><span class="line">bg = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 帧率</span></span><br><span class="line">clock = pygame.time.Clock()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建指定大小的窗口，单位为像素，返回Surface对象，作为背景画布</span></span><br><span class="line">screen = pygame.display.set_mode(size)</span><br><span class="line"><span class="comment"># 设置窗口标题</span></span><br><span class="line">pygame.display.set_caption(<span class="string">"初次见面，大家多多关照!"</span>)</span><br><span class="line"><span class="comment"># 加载图片</span></span><br><span class="line">turtle = pygame.image.load(<span class="string">"turtle.png"</span>)</span><br><span class="line"><span class="comment"># 获得图像的位置矩形</span></span><br><span class="line">position = turtle.get_rect()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置左右键按下时的乌龟头朝向</span></span><br><span class="line">l_head = turtle</span><br><span class="line">r_head = pygame.transform.flip(turtle, <span class="keyword">True</span>, <span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环持续运行</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取事件，在此处退出</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            <span class="comment"># 退出pygame</span></span><br><span class="line">            pygame.quit()</span><br><span class="line">            <span class="comment"># 退出系统</span></span><br><span class="line">            sys.exit()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.KEYDOWN:</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_LEFT:</span><br><span class="line">                turtle = l_head</span><br><span class="line">                speed = [<span class="number">-1</span>, <span class="number">0</span>]</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">                turtle = r_head</span><br><span class="line">                speed = [<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_UP:</span><br><span class="line">                speed = [<span class="number">0</span>, <span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_DOWN:</span><br><span class="line">                speed = [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 移动图像</span></span><br><span class="line">    position = position.move(speed)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> position.left &lt; <span class="number">0</span> <span class="keyword">or</span> position.right &gt; width:</span><br><span class="line">        <span class="comment"># 翻转图像</span></span><br><span class="line">        turtle = pygame.transform.flip(turtle, <span class="keyword">True</span>, <span class="keyword">False</span>)</span><br><span class="line">        <span class="comment"># 反方向移动</span></span><br><span class="line">        speed[<span class="number">0</span>] = -speed[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> position.top &lt; <span class="number">0</span> <span class="keyword">or</span> position.bottom &gt; height:</span><br><span class="line">        speed[<span class="number">1</span>] = -speed[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 填充背景</span></span><br><span class="line">    screen.fill(bg)</span><br><span class="line">    <span class="comment"># 更新图像</span></span><br><span class="line">    screen.blit(turtle, position)</span><br><span class="line">    <span class="comment"># 更新界面</span></span><br><span class="line">    pygame.display.flip()</span><br><span class="line">    <span class="comment"># 设置帧率</span></span><br><span class="line">    clock.tick(<span class="number">200</span>)</span><br></pre></td></tr></table></figure></p>
<p>小乌龟素材：<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/turtle.png" alt=""></p>
<p>效果如下：<br><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/TurtleMoveEvent.gif" alt=""></p>
<hr>
<h3 id="绘制文字"><a href="#绘制文字" class="headerlink" title="绘制文字"></a>绘制文字</h3><p>Pygame没有文本组件，大师可以通过另一种方式实现相同效果。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过字体文件获得字体对象; filename:系统文字名， size：字体大小</span></span><br><span class="line">fontObj = pygame.font.SysFont(filename, size)</span><br><span class="line">  </span><br><span class="line"><span class="comment"># 自定义字体</span></span><br><span class="line">fontObj = pygame.font.Font(filename, size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置要显示的文字；text：要显示的文字， antialias：是否抗锯齿(Ture/False), color：字体颜色，background：背景色</span></span><br><span class="line">textSurfaceObj = fontObj.render(text, antialias, color, background=<span class="keyword">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得要显示的对象的rect</span></span><br><span class="line">textRectObj = textSurfaceObj.get_rect()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置显示对象的坐标</span></span><br><span class="line">textRectObj.center = (<span class="number">250</span>, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制字体</span></span><br><span class="line">screen.blit(textSurfaceObj, textRectObj)</span><br></pre></td></tr></table></figure></p>
<p>如果不知道系统中用什么字体，可以在IDLE环境中通过以下获取：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pygame</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(pygame.font.get_fonts())</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameFont.png" alt=""></p>
<p>文字绘制案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入需要的模块</span></span><br><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义颜色</span></span><br><span class="line">WHITE = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line">GREEN = ( <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>)</span><br><span class="line">BLUE = ( <span class="number">0</span>, <span class="number">0</span>, <span class="number">128</span>)</span><br><span class="line">SIZE = (width, height) = (<span class="number">500</span>, <span class="number">400</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置窗口的大小，单位为像素</span></span><br><span class="line">screen = pygame.display.set_mode(SIZE)</span><br><span class="line"><span class="comment"># 设置背景</span></span><br><span class="line">screen.fill(WHITE)</span><br><span class="line"><span class="comment"># 设置窗口的标题</span></span><br><span class="line">pygame.display.set_caption(<span class="string">'Font'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过字体文件获得字体对象</span></span><br><span class="line">fontObj = pygame.font.SysFont(<span class="string">"华文彩云"</span>, <span class="number">50</span>)</span><br><span class="line"><span class="comment"># 配置要显示的文字</span></span><br><span class="line">textSurfaceObj = fontObj.render(<span class="string">'Pygame'</span>, <span class="keyword">True</span>, BLUE, GREEN)</span><br><span class="line"><span class="comment"># 获得要显示的对象的rect</span></span><br><span class="line">textRectObj = textSurfaceObj.get_rect()</span><br><span class="line"><span class="comment"># 设置显示对象的坐标</span></span><br><span class="line">textRectObj.center = (<span class="number">250</span>, <span class="number">200</span>)</span><br><span class="line"><span class="comment"># 绘制字体</span></span><br><span class="line">screen.blit(textSurfaceObj, textRectObj)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序主循环</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 获取事件</span></span><br><span class="line">  <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">    <span class="comment"># 判断事件是否为退出事件</span></span><br><span class="line">    <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">      <span class="comment"># 退出pygame</span></span><br><span class="line">      pygame.quit()</span><br><span class="line">      <span class="comment"># 退出系统</span></span><br><span class="line">      sys.exit()</span><br><span class="line"></span><br><span class="line">  pygame.display.flip()</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameFontTest.png" alt=""></p>
<p>模拟文本，在页面上打印event事件：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, sys</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line">SIZE = (width, height) = (<span class="number">600</span>, <span class="number">400</span>)</span><br><span class="line">BLACK = (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">GREEN = (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>)</span><br><span class="line">screen = pygame.display.set_mode(SIZE)</span><br><span class="line">pygame.display.set_caption(<span class="string">"Font"</span>)</span><br><span class="line"></span><br><span class="line">font = pygame.font.SysFont(<span class="keyword">None</span>, <span class="number">20</span>)</span><br><span class="line">line_height = font.get_linesize()</span><br><span class="line">postion = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">screen.fill(BLACK)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            pygame.quit()</span><br><span class="line">            sys.exit()</span><br><span class="line">        screen.blit(font.render(str(event), <span class="keyword">True</span>, GREEN), (<span class="number">0</span>, postion))</span><br><span class="line">        postion += line_height</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> postion &gt; height:</span><br><span class="line">            postion = <span class="number">0</span></span><br><span class="line">            screen.fill(BLACK)</span><br><span class="line"></span><br><span class="line">    pygame.display.flip()</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameFont2.png" alt=""></p>
<hr>
<h3 id="Pygame-动画精灵"><a href="#Pygame-动画精灵" class="headerlink" title="Pygame 动画精灵"></a>Pygame 动画精灵</h3><p>pygame.sprite.Sprite就是Pygame里面用来实现精灵的一个类，使用时，并不需要对它实例化，只需要继承他，然后按需写出自己的类就好了，因此非常简单实用。</p>
<h4 id="创建精灵"><a href="#创建精灵" class="headerlink" title="创建精灵"></a>创建精灵</h4><p>创建Sprite精灵类，用过调用精灵，创建对象：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义一个类，继承Sprite类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span><span class="params">(pygame.sprite.Sprite)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        pygame.sprite.Sprite.__init__(self)     <span class="comment"># 调用基类及init方法</span></span><br></pre></td></tr></table></figure></p>
<h4 id="精灵组"><a href="#精灵组" class="headerlink" title="精灵组"></a>精灵组</h4><p>当程序中有大量的实体的时候，操作这些实体将会是一件相当麻烦的事，使用精灵组来管理精灵绘制和更新，会轻松很多。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">group = pygame.sprite.Group()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>常用方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Group.sprites</td>
<td>精灵组</td>
</tr>
<tr>
<td>Group.add</td>
<td>添加</td>
</tr>
<tr>
<td>Group.copy</td>
<td>复制</td>
</tr>
<tr>
<td>Group.remove</td>
<td>移除</td>
</tr>
<tr>
<td>Group.has</td>
<td>判断精灵组成员</td>
</tr>
<tr>
<td>Group.update</td>
<td>更新</td>
</tr>
<tr>
<td>Group.draw</td>
<td>位块显示</td>
</tr>
<tr>
<td>Group.clear</td>
<td>绘制背景</td>
</tr>
<tr>
<td>Group.empty</td>
<td>清空</td>
</tr>
</tbody>
</table>
<h4 id="一个基本动画精灵小游戏代码："><a href="#一个基本动画精灵小游戏代码：" class="headerlink" title="一个基本动画精灵小游戏代码："></a>一个基本动画精灵小游戏代码：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span><span class="params">(pygame.sprite.Sprite)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, image, position, speed, bg_size)</span>:</span></span><br><span class="line">        pygame.sprite.Sprite.__init__(self)</span><br><span class="line"></span><br><span class="line">        self.image = pygame.image.load(image).convert_alpha()</span><br><span class="line">        self.rect = self.image.get_rect()</span><br><span class="line">        (self.rect.left, self.rect.top) = position</span><br><span class="line">        self.speed = speed</span><br><span class="line">        (self.width, self.height) = bg_size</span><br><span class="line">        <span class="comment"># 确定半径，在sprite内置碰撞检测中使用</span></span><br><span class="line">        self.radius = self.rect.width / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 运动检测</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.rect = self.rect.move(self.speed)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 完全穿过时穿越</span></span><br><span class="line">        <span class="keyword">if</span> self.rect.right &lt; <span class="number">0</span>:</span><br><span class="line">            self.rect.left = self.width</span><br><span class="line">        <span class="keyword">elif</span> self.rect.left &gt; self.width:</span><br><span class="line">            self.rect.right = <span class="number">0</span></span><br><span class="line">        <span class="keyword">elif</span> self.rect.bottom &lt; <span class="number">0</span>:</span><br><span class="line">            self.rect.top = self.height</span><br><span class="line">        <span class="keyword">elif</span> self.rect.top &gt; self.height:</span><br><span class="line">            self.rect.bottom = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义的碰撞检测方法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">collide_check</span><span class="params">(item, target)</span>:</span></span><br><span class="line">    col_balls = []</span><br><span class="line">    <span class="keyword">for</span> each <span class="keyword">in</span> target:</span><br><span class="line">        distance = math.sqrt(</span><br><span class="line">            math.pow((item.rect.center[<span class="number">0</span>] - each.rect.center[<span class="number">0</span>]), <span class="number">2</span>) +</span><br><span class="line">            math.pow((item.rect.center[<span class="number">1</span>] - each.rect.center[<span class="number">1</span>]), <span class="number">2</span>))</span><br><span class="line">        <span class="keyword">if</span> distance &lt;= (item.rect.width + each.rect.width) / <span class="number">2</span>:</span><br><span class="line">            col_balls.append(each)</span><br><span class="line">    <span class="keyword">return</span> col_balls</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    pygame.init()</span><br><span class="line"></span><br><span class="line">    ball_image = <span class="string">"gray_ball.png"</span></span><br><span class="line">    bg_image = <span class="string">"background.png"</span></span><br><span class="line"></span><br><span class="line">    running = <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">    bg_size = (width, height) = (<span class="number">1024</span>, <span class="number">681</span>)</span><br><span class="line">    screen = pygame.display.set_mode(bg_size)</span><br><span class="line">    pygame.display.set_caption(<span class="string">"PlayTheBall"</span>)</span><br><span class="line"></span><br><span class="line">    background = pygame.image.load(bg_image).convert_alpha()</span><br><span class="line"></span><br><span class="line">    balls = []</span><br><span class="line">    group = pygame.sprite.Group()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建5个小球</span></span><br><span class="line">    BALL_NUM = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(BALL_NUM):</span><br><span class="line">        <span class="comment"># 位置随机，速度随机</span></span><br><span class="line">        position = (random.randint(<span class="number">0</span>, width<span class="number">-100</span>), random.randint(<span class="number">0</span>, height<span class="number">-100</span>))</span><br><span class="line">        speed = [random.randint(<span class="number">-10</span>, <span class="number">10</span>), random.randint(<span class="number">-10</span>, <span class="number">10</span>)]</span><br><span class="line">        ball = Ball(ball_image, position, speed, bg_size)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 生成球时的碰撞检测</span></span><br><span class="line">        <span class="string">""" # 自定义碰撞检测</span></span><br><span class="line"><span class="string">        while collide_check(ball, balls):</span></span><br><span class="line"><span class="string">            (ball.rect.left, ball.rect.top) = random.randint(0, width-100), random.randint(0, height-100)"""</span></span><br><span class="line">        <span class="comment"># sprite方法碰撞检测</span></span><br><span class="line">        <span class="keyword">while</span> pygame.sprite.spritecollide(ball, group, <span class="keyword">False</span>, pygame.sprite.collide_circle):</span><br><span class="line">            (ball.rect.left, ball.rect.top) = (random.randint(<span class="number">0</span>, width - <span class="number">100</span>), random.randint(<span class="number">0</span>, height - <span class="number">100</span>))</span><br><span class="line"></span><br><span class="line">        balls.append(ball)</span><br><span class="line">        group.add(ball)</span><br><span class="line"></span><br><span class="line">    clock = pygame.time.Clock()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> running:</span><br><span class="line">        <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">            <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">                pygame.quit()</span><br><span class="line">                sys.exit()</span><br><span class="line"></span><br><span class="line">        screen.blit(background, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> balls:</span><br><span class="line">            each.move()</span><br><span class="line">            screen.blit(each.image, each.rect)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># sprite 的碰撞检测</span></span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> group:</span><br><span class="line">            group.remove(each)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> pygame.sprite.spritecollide(each, group, <span class="keyword">False</span>, pygame.sprite.collide_circle):</span><br><span class="line">                each.speed[<span class="number">0</span>] = -each.speed[<span class="number">0</span>]</span><br><span class="line">                each.speed[<span class="number">1</span>] = -each.speed[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            group.add(each)</span><br><span class="line"></span><br><span class="line">        <span class="string">"""# 自定义的碰撞检测</span></span><br><span class="line"><span class="string">        for i in range(BALL_NUM):</span></span><br><span class="line"><span class="string">            item = balls.pop(i)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            if collide_check(item, balls):</span></span><br><span class="line"><span class="string">                item.speed[0] = -item.speed[0]</span></span><br><span class="line"><span class="string">                item.speed[1] = -item.speed[1]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            balls.insert(i, item)"""</span></span><br><span class="line"></span><br><span class="line">        pygame.display.flip()</span><br><span class="line">        clock.tick(<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameSpriteBall.gif" alt=""></p>
<hr>
<h4 id="播放音乐和音效"><a href="#播放音乐和音效" class="headerlink" title="播放音乐和音效"></a>播放音乐和音效</h4><p>背景音乐是时刻伴随着游戏存在的，往往是重复播放的一首歌或曲子。<br>音效是某种条件下呗出发产生的，如小球碰撞时发出声音。</p>
<p>Pygame支持的声音格式十分有限，一般使用ogg格式作为背景音乐，用无压缩的wav格式作为音效。格式可以通过“格式工厂”来转换。</p>
<p>格式工厂官网链接：<a href="http://www.pcfreetime.com/" target="_blank" rel="noopener">http://www.pcfreetime.com/</a></p>
<h4 id="音效"><a href="#音效" class="headerlink" title="音效"></a>音效</h4><p>播放音效使用mixer模块，先生成一个Sound对象，然后调用play()方法来播放。</p>
<p>音效可以有多个。</p>
<p>Sound支持的方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>play()</td>
<td>播放音效</td>
</tr>
<tr>
<td>stop()</td>
<td>停止播放</td>
</tr>
<tr>
<td>fadeout()</td>
<td>淡出</td>
</tr>
<tr>
<td>set_volume()</td>
<td>设置音量</td>
</tr>
<tr>
<td>get_volune()</td>
<td>获取音量</td>
</tr>
<tr>
<td>get_num_channels()</td>
<td>计算该音效播放了多少次</td>
</tr>
<tr>
<td>get_length()</td>
<td>获得该音效的长度，多少秒</td>
</tr>
<tr>
<td>get_raw()</td>
<td>将音效以二进制格式的字符串返回</td>
</tr>
</tbody>
</table>
<h4 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h4><p>音乐使用music模块。</p>
<p>背景音乐只能有一个。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>load()</td>
<td>载入音乐</td>
</tr>
<tr>
<td>play()</td>
<td>播放音乐</td>
</tr>
<tr>
<td>rewind()</td>
<td>重新播放</td>
</tr>
<tr>
<td>stop()</td>
<td>停止播放</td>
</tr>
<tr>
<td>pause()</td>
<td>暂停播放</td>
</tr>
<tr>
<td>uppause()</td>
<td>恢复播放</td>
</tr>
<tr>
<td>fadeout()</td>
<td>淡出</td>
</tr>
<tr>
<td>set_volume()</td>
<td>设置音量</td>
</tr>
<tr>
<td>get_volume()</td>
<td>获取音量</td>
</tr>
<tr>
<td>get_busy()</td>
<td>监测音乐流是否正在播放</td>
</tr>
<tr>
<td>set_pos()</td>
<td>设置开始播放的位置</td>
</tr>
<tr>
<td>get_pos()</td>
<td>获取已经播放的时间</td>
</tr>
<tr>
<td>queue()</td>
<td>将音乐文件放入待播放列表中</td>
</tr>
<tr>
<td>set_endevent()</td>
<td>在音乐播放完毕时发送事件</td>
</tr>
<tr>
<td>get_endevent()</td>
<td>获取音乐播放完毕时发送的事件类型</td>
</tr>
</tbody>
</table>
<p>声音播放案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line">pygame.mixer.init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载背景音乐</span></span><br><span class="line">pygame.mixer.music.load(<span class="string">"bg_music.ogg"</span>)</span><br><span class="line">pygame.mixer.music.set_volume(<span class="number">0.2</span>)</span><br><span class="line">pygame.mixer.music.play()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载音效</span></span><br><span class="line">cat_sound = pygame.mixer.Sound(<span class="string">"cat.wav"</span>)</span><br><span class="line">cat_sound.set_volume(<span class="number">0.2</span>)</span><br><span class="line">dog_sound = pygame.mixer.Sound(<span class="string">"dog.wav"</span>)</span><br><span class="line">dog_sound.set_volume(<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line">bg_size = (width, height) = (<span class="number">300</span>, <span class="number">200</span>)</span><br><span class="line">screen = pygame.display.set_mode(bg_size)</span><br><span class="line">pygame.display.set_caption(<span class="string">"Music"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 音乐暂停标志</span></span><br><span class="line">pause = <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载暂停和开始图片，并设置居中</span></span><br><span class="line">pause_img = pygame.image.load(<span class="string">"pause.png"</span>).convert_alpha()</span><br><span class="line">unpause_img = pygame.image.load(<span class="string">"unpause.png"</span>).convert_alpha()</span><br><span class="line">pause_rect = pause_img.get_rect()</span><br><span class="line">(pause_rect.left, pause_rect.top) = ((width - pause_rect.width) // <span class="number">2</span>, (height - pause_rect.height) // <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">clock = pygame.time.Clock()</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            pygame.quit()</span><br><span class="line">            sys.exit()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 鼠标点击事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.MOUSEBUTTONDOWN:</span><br><span class="line">            <span class="comment"># 1为鼠标左键，2为鼠标中键，3为鼠标右键</span></span><br><span class="line">            <span class="keyword">if</span> event.button == <span class="number">1</span>:</span><br><span class="line">                cat_sound.play()</span><br><span class="line">            <span class="keyword">if</span> event.button == <span class="number">3</span>:</span><br><span class="line">                dog_sound.play()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 设置按键事件</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.KEYDOWN:</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_SPACE:</span><br><span class="line">                pause = <span class="keyword">not</span> pause</span><br><span class="line"></span><br><span class="line">    screen.fill((<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 根据pause状态画图标，的并设置背景的暂停和播放</span></span><br><span class="line">    <span class="keyword">if</span> pause:</span><br><span class="line">        screen.blit(pause_img, pause_rect)</span><br><span class="line">        pygame.mixer.music.pause()</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        screen.blit(unpause_img, pause_rect)</span><br><span class="line">        pygame.mixer.music.unpause()</span><br><span class="line"></span><br><span class="line">    pygame.display.flip()</span><br><span class="line"></span><br><span class="line">    clock.tick(<span class="number">30</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2018/08/12/Python学习笔记——Pygame游戏开发/PygameMusic.png" alt=""></p>
<hr>
<h3 id="光标处理"><a href="#光标处理" class="headerlink" title="光标处理"></a>光标处理</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/12/Python学习笔记——Pygame游戏开发/" data-id="cjlcbuf97000t9out8v8o5thp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——网络爬虫" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/09/Python学习笔记——网络爬虫/" class="article-date">
  <time datetime="2018-08-09T07:05:46.000Z" itemprop="datePublished">2018-08-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/09/Python学习笔记——网络爬虫/">Python学习笔记——网络爬虫</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h3 id="网络爬虫"><a href="#网络爬虫" class="headerlink" title="网络爬虫"></a>网络爬虫</h3><p>网络爬虫（又被称为网页蜘蛛，网络机器人，在FOAF社区中间，更经常的称为网页追逐者），是一种按照一定的规则，自动地抓取万维网信息的程序或者脚本。网络爬虫就是根据网页的地址来寻找网页的，也就是URL。举一个简单的例子，我们在浏览器的地址栏中输入的字符串就是URL，例如：<a href="https://www.baidu.com/" target="_blank" rel="noopener">https://www.baidu.com/</a></p>
<hr>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><p>URL的一般格式为(当方括号[]的为可选项)：protocol://hostname[:port]/path/[;parameters][?query]#fragment</p>
<ul>
<li>“protocol://“ : 协议，如http, https, ftp, file(本地磁盘文件), ed2k …</li>
<li>“hostname[:port]” : 存放资源的服务器的域名系统或IP地址(有时候包含端口号，各种传输协议都有默认的端口嗷，如http的80端口)</li>
<li>“path/[;parameters][?query]#fragment” : 资源的具体地址，如目录或文件名等。</li>
</ul>
<hr>
<h3 id="python访问URL测试"><a href="#python访问URL测试" class="headerlink" title="python访问URL测试"></a>python访问URL测试</h3><p>使用urllib.request实现：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> urllib.request       <span class="comment"># 导入urllib.request包</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>response = urllib.request.urlopen(<span class="string">"http://www.aijunhao.com.cn"</span>)     <span class="comment"># 获取我的个人网站首页</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>html = response.read().decode(<span class="string">"utf-8"</span>)      <span class="comment"># 读取我的个人网站首页，并用utf-8编码模式</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(html)             <span class="comment"># 打印</span></span><br><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=utf-8"</span>/&gt;</span><br><span class="line">        &lt;link rel=<span class="string">"shortcut icon"</span> href=<span class="string">"images/1.ico"</span>&gt;</span><br><span class="line">        &lt;link href=<span class="string">"css/menu.css"</span> rel=<span class="string">"stylesheet"</span>&gt;</span><br><span class="line">        &lt;title&gt;AI , Sparks of fire&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;!-- 背景画布开始 --&gt;</span><br><span class="line">        &lt;canvas id="canvas" &gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script src="js/background.js" type="text/javascript"&gt;&lt;/script&gt;</span><br><span class="line">        &lt;!-- 背景画布结束 --&gt;</span><br><span class="line">        &lt;!-- 使用外联播放器，并隐藏播放器 --&gt;</span><br><span class="line">        &lt;iframe frameborder="no" border="0" width=0 height=0  src="//music.163.com/outchain/player?type=2&amp;id=491757187&amp;auto=1&amp;height=66"&gt;&lt;/iframe&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class="cs" &gt;</span><br><span class="line">            &lt;div class="introduction" align="center"&gt;</span><br><span class="line"></span><br><span class="line">                &lt;header style="color: white;font-size: 4rem;"&gt;Hello，&lt;/header&gt;</span><br><span class="line">                &lt;header style=<span class="string">"color: white;font-size: 2rem;"</span>&gt;I<span class="string">'m Junhao Ai.&lt;/header&gt;</span></span><br><span class="line"><span class="string">                &lt;p style="color: white;font-size: 1rem;"&gt;A student of the Zhijiang College of ZheJiang University of Technology.&lt;/p&gt;</span></span><br><span class="line"><span class="string">                &lt;br&gt; &lt;br&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;p&gt;Whatever is worth doing is worth doing well.&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;br&gt; &lt;br&gt; &lt;br&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;a href="http://user.qzone.qq.com/1172949809/infocenter" class="btn-slide" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle"&gt;&lt;i class="fa fa-rocket"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title"&gt;QQ Zone&lt;/span&gt; &lt;span class="title-hover"&gt;Visit me.&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href="files/test.php" class="btn-slide2" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle2"&gt;&lt;i class="fa fa-download"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title2"&gt;About Me&lt;/span&gt; &lt;span class="title-hover2"&gt;Building...&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href="https://aijunhao.github.io" class="btn-slide" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle"&gt;&lt;i class="fa fa-rocket"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title"&gt;My Blog&lt;/span&gt; &lt;span class="title-hover"&gt;Building...&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href="files/test.php" class="btn-slide2" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle2"&gt;&lt;i class="fa fa-download"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title2"&gt;My Gains&lt;/span&gt; &lt;span class="title-hover2"&gt;Building...&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=1172949809&amp;website=www.oicqzone.com" class="btn-slide" target="_blank"&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="circle"&gt;&lt;i class="fa fa-rocket"&gt;&lt;/i&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;span class="title"&gt;Contact Me&lt;/span&gt; &lt;span class="title-hover"&gt;QQ Test&lt;/span&gt;</span></span><br><span class="line"><span class="string">                &lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/09/Python学习笔记——网络爬虫/myweb.png" alt=""></p>
<hr>
<h3 id="爬虫实战"><a href="#爬虫实战" class="headerlink" title="爬虫实战"></a>爬虫实战</h3><h4 id="实例1-抓取一张网络图片"><a href="#实例1-抓取一张网络图片" class="headerlink" title="实例1 抓取一张网络图片"></a>实例1 抓取一张网络图片</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">response = urllib.request.urlopen(<span class="string">"http://www.aijunhao.com.cn/images/building.png"</span>)</span><br><span class="line">img = response.read()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'webTest.jpg'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(img)</span><br></pre></td></tr></table></figure>
<h4 id="实例2"><a href="#实例2" class="headerlink" title="实例2"></a>实例2</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/09/Python学习笔记——网络爬虫/" data-id="cjlcbuf8m000h9outexnegapq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——GUI编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/08/Python学习笔记——GUI编程/" class="article-date">
  <time datetime="2018-08-08T11:48:50.000Z" itemprop="datePublished">2018-08-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/08/Python学习笔记——GUI编程/">Python学习笔记——GUI编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>GUI的终极选择：Tkinter</p>
<h2 id="https-blog-csdn-net-u014380159-article-details-51941842"><a href="#https-blog-csdn-net-u014380159-article-details-51941842" class="headerlink" title="https://blog.csdn.net/u014380159/article/details/51941842"></a><a href="https://blog.csdn.net/u014380159/article/details/51941842" target="_blank" rel="noopener">https://blog.csdn.net/u014380159/article/details/51941842</a></h2><h3 id="第一个实例"><a href="#第一个实例" class="headerlink" title="第一个实例"></a>第一个实例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk      <span class="comment"># 导入tkinter模块</span></span><br><span class="line"></span><br><span class="line">root = tk.Tk()        <span class="comment"># 生成窗口实例，即父容器</span></span><br><span class="line"></span><br><span class="line">photo = tk.PhotoImage(file=<span class="string">'bg.gif'</span>)      <span class="comment"># 添加图片</span></span><br><span class="line">theLabel = tk.Label(root,</span><br><span class="line">                  text=<span class="string">'我们一起学猫叫\n一起喵喵喵喵~'</span>,</span><br><span class="line">                  justify=tk.LEFT,</span><br><span class="line">                  image=photo,</span><br><span class="line">                  compound=tk.CENTER,</span><br><span class="line">                  font=(<span class="string">"华康少女文字W5"</span>, <span class="number">20</span>),</span><br><span class="line">                  fg=<span class="string">"white"</span>)</span><br><span class="line"></span><br><span class="line">theLabel.pack()</span><br><span class="line"></span><br><span class="line">tk.mainloop()   <span class="comment"># 进入消息循环</span></span><br></pre></td></tr></table></figure>
<h2 id=""><a href="#" class="headerlink" title=""></a><img src="/2018/08/08/Python学习笔记——GUI编程/FirstTkinter.PNG" alt=""></h2><h3 id="tkinter-常用方法"><a href="#tkinter-常用方法" class="headerlink" title="tkinter 常用方法"></a>tkinter 常用方法</h3><table>
<thead>
<tr>
<th style="text-align:left">方法名</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">案例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Tk()</td>
<td style="text-align:left">生成窗口实例</td>
<td style="text-align:left">root = tkinter.Tk()</td>
</tr>
<tr>
<td style="text-align:left">title()</td>
<td style="text-align:left">设置窗口标题</td>
<td style="text-align:left">root.title(‘title’)</td>
</tr>
<tr>
<td style="text-align:left">geometry()</td>
<td style="text-align:left">设置窗口大小</td>
<td style="text-align:left">root.geometry(‘300x200’)</td>
</tr>
<tr>
<td style="text-align:left">mainloop()</td>
<td style="text-align:left">主事件循环</td>
<td style="text-align:left">root.mainloop() 或 tkinter.mainloop()</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<hr>
<h3 id="Label-文本"><a href="#Label-文本" class="headerlink" title="Label 文本"></a>Label 文本</h3><p>标签控件，可以显示文本和位图。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">label = tkinter.Label(master, option=value, ... )</span><br><span class="line"></span><br><span class="line">l.pack()</span><br></pre></td></tr></table></figure></p>
<p>案例:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">counter = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">counter_label</span><span class="params">(label)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">global</span> counter</span><br><span class="line">        counter += <span class="number">1</span></span><br><span class="line">        label.config(text=str(counter))</span><br><span class="line">        label.after(<span class="number">1000</span>, count)</span><br><span class="line"></span><br><span class="line">    count()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root = tk.Tk()</span><br><span class="line">root.title(<span class="string">"Counting Seconds"</span>)</span><br><span class="line">label = tk.Label(root, fg=<span class="string">"green"</span>)</span><br><span class="line">label.pack()</span><br><span class="line">counter_label(label)</span><br><span class="line">button = tk.Button(root, text=<span class="string">'Stop'</span>, width=<span class="number">25</span>, command=root.destroy)</span><br><span class="line">button.pack()</span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th>可选项(option)</th>
<th>描述</th>
<th>案例</th>
</tr>
</thead>
<tbody>
<tr>
<td>activebackground</td>
<td>设置当Label处于活动状态(state选项设置状态)，选择框的背景色。</td>
<td>activebackground=”#000000”</td>
</tr>
<tr>
<td>activeforeground</td>
<td>设置当Label处于活动状态(当鼠标点击时)，选择框的文本颜色。</td>
<td>activeforeground=”yellow”</td>
</tr>
<tr>
<td>anchor</td>
<td>锚选项，可选项为n, ne, e, se, s, sw, w, nw, center(默认)。</td>
<td>anchor=’w’</td>
</tr>
<tr>
<td>bg/background</td>
<td>标签的背景色。</td>
<td>bg=”yellow”</td>
</tr>
<tr>
<td>compound</td>
<td>文本和图像的混合模式</td>
<td>image=img, <br> compound=tkinter.LEFT</td>
</tr>
<tr>
<td>fg</td>
<td>按钮文本的颜色。</td>
<td>fg=”yellow”</td>
</tr>
<tr>
<td>font</td>
<td>文本字体。</td>
<td>font=”楷体”</td>
</tr>
<tr>
<td>height/width</td>
<td>按钮的高度/宽度。</td>
<td>height=5,width=15</td>
</tr>
<tr>
<td>image</td>
<td>按钮图片。</td>
<td>img_png = tkinter.PhotoImage(file = ‘18.gif’)  <br>  button = tkinter.Label(root,image=img_png)</td>
</tr>
<tr>
<td>justify</td>
<td>显示多行文本的对齐方式，可选项包括left, right, cneter(默认)。</td>
<td>justify=”center” <br> 或 justify=tkinter.CENTER</td>
</tr>
<tr>
<td>text</td>
<td>按钮的文本内容</td>
<td>text=”…”</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="Button-按钮"><a href="#Button-按钮" class="headerlink" title="Button 按钮"></a>Button 按钮</h3><p>按钮控件，在程序中显示按钮。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line">button = tkinter.Button(master, option=value, ... )       <span class="comment"># master:按钮父容器,option:可选项</span></span><br><span class="line"></span><br><span class="line">button.pack()       <span class="comment"># 将小部件放置到窗口中</span></span><br></pre></td></tr></table></figure>
<p>案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter</span><br><span class="line"></span><br><span class="line">root = tkinter.Tk()</span><br><span class="line">button = tkinter.Button(root, text=<span class="string">"Button"</span>)</span><br><span class="line"></span><br><span class="line">button.pack()</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/08/Python学习笔记——GUI编程/Button.PNG" alt=""></p>
<table>
<thead>
<tr>
<th>可选项(option)</th>
<th>描述</th>
<th>案例</th>
</tr>
</thead>
<tbody>
<tr>
<td>activebackground</td>
<td>当鼠标点击时，按钮的背景色。</td>
<td>activebackground=”#000000”</td>
</tr>
<tr>
<td>activeforeground</td>
<td>当鼠标点击时，按钮的文本颜色。</td>
<td>activeforeground=”yellow”</td>
</tr>
<tr>
<td>anchor</td>
<td>锚选项，可选项为n, ne, e, se, s, sw, w, nw, center(默认)。</td>
<td>anchor=’w’</td>
</tr>
<tr>
<td>bd</td>
<td>按钮边框的大小，默认为 2 个像素。</td>
<td>bd=5</td>
</tr>
<tr>
<td>bg/background</td>
<td>按钮的背景色。</td>
<td>bg=”blue”</td>
</tr>
<tr>
<td>command</td>
<td>按钮关联的函数，当按钮被点击时，执行该函数。</td>
<td>command=函数名</td>
</tr>
<tr>
<td>fg</td>
<td>按钮文本的颜色。</td>
<td>fg=”yellow”</td>
</tr>
<tr>
<td>font</td>
<td>文本字体。</td>
<td>font=”楷体”</td>
</tr>
<tr>
<td>height/width</td>
<td>按钮的高度/宽度。</td>
<td>height=5,width=15</td>
</tr>
<tr>
<td>image</td>
<td>按钮图片。</td>
<td>img_png = tkinter.PhotoImage(file = ‘18.gif’)  <br>  button = tkinter.Button(root,image=img_png)</td>
</tr>
<tr>
<td>justify</td>
<td>显示多行文本的对齐方式，可选项包括left, right, cneter(默认)。</td>
<td>justify=”center” <br> 或 justify=tkinter.CENTER</td>
</tr>
<tr>
<td>padx/pady</td>
<td>按钮在x/y轴防线上的内边距。</td>
<td>padx=30, pady=30</td>
</tr>
<tr>
<td>relief</td>
<td>边框样式，设置控件3D效果，可选的有：flat(默认)、sunken、raised、groove、ridge。</td>
<td>relief=”flat”</td>
</tr>
<tr>
<td>state</td>
<td>设置按钮组件状态,可选的有normal(默认)、active、 disabled。</td>
<td>state=”disabled”</td>
</tr>
<tr>
<td>underline</td>
<td>下划线。</td>
<td>有些小问题。underline=0</td>
</tr>
<tr>
<td>text</td>
<td>按钮的文本内容</td>
<td>text=”…”</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="Checkbutton-复选框"><a href="#Checkbutton-复选框" class="headerlink" title="Checkbutton 复选框"></a>Checkbutton 复选框</h3><p>多选框控件，用于在程序中提供多项选择框。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line">c = Checkbutton ( master, option=value, ... )</span><br><span class="line">c.pack()</span><br></pre></td></tr></table></figure>
<p>案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter</span><br><span class="line"></span><br><span class="line">root = tkinter.Tk()</span><br><span class="line"></span><br><span class="line">c = tkinter.Checkbutton(root, text=<span class="string">"选择框"</span>)</span><br><span class="line"></span><br><span class="line">c.pack()</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure></p>
<p><img src="/2018/08/08/Python学习笔记——GUI编程/CheckButton1.PNG" alt=""></p>
<table>
<thead>
<tr>
<th style="text-align:left">可选项(option)</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">案例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">activebackground</td>
<td style="text-align:left">设置当Button处于活动状态(当鼠标点击时)，选择框的背景色。</td>
<td style="text-align:left">activebackground=”#000000”</td>
</tr>
<tr>
<td style="text-align:left">activeforeground</td>
<td style="text-align:left">设置当Button处于活动状态(当鼠标点击时)，选择框的文本颜色。</td>
<td style="text-align:left">activeforeground=”yellow”</td>
</tr>
<tr>
<td style="text-align:left">anchor</td>
<td style="text-align:left">锚选项，可选项为n, ne, e, se, s, sw, w, nw, center(默认)。</td>
<td style="text-align:left">anchor=’w’</td>
</tr>
<tr>
<td style="text-align:left">bg/background</td>
<td style="text-align:left">按钮的背景色。</td>
<td style="text-align:left">bg=”blue”</td>
</tr>
<tr>
<td style="text-align:left">bitmap</td>
<td style="text-align:left">使用位图，可选项有error，gray75，gray50，gray25，gray12，<br>hourglass，info，questhead，question，warning</td>
<td style="text-align:left">bitmap=”error”</td>
</tr>
<tr>
<td style="text-align:left">bd</td>
<td style="text-align:left">边框的大小，默认为 2 个像素</td>
<td style="text-align:left">bd=10</td>
</tr>
<tr>
<td style="text-align:left">command</td>
<td style="text-align:left">按钮关联的函数，当按钮被点击时，执行该函数。</td>
<td style="text-align:left">command=函数名</td>
</tr>
<tr>
<td style="text-align:left">cursor</td>
<td style="text-align:left">光标的形状设定，可选项有arrow(默认), circle, cross, plus</td>
<td style="text-align:left">cursor=”circle”</td>
</tr>
<tr>
<td style="text-align:left">disabledforeground</td>
<td style="text-align:left">禁用选项的前景色</td>
<td style="text-align:left">disabledforeground=”#123456”</td>
</tr>
<tr>
<td style="text-align:left">font</td>
<td style="text-align:left">文本字体</td>
<td style="text-align:left">font=”…”</td>
</tr>
<tr>
<td style="text-align:left">fg</td>
<td style="text-align:left">选项的前景色</td>
<td style="text-align:left">fg=”red”</td>
</tr>
<tr>
<td style="text-align:left">image</td>
<td style="text-align:left">是否使用图标。</td>
<td style="text-align:left">img = tkinter.PhotoImage(file=”bg.gif”) <br>c = tkinter.Checkbutton(root,image=img)</td>
</tr>
<tr>
<td style="text-align:left">justify</td>
<td style="text-align:left">多行文本设置不同行之间的对齐方式，可选项包括left, right, cneter(默认)。</td>
<td style="text-align:left">justify=“center” <br> 或 justify=tkinter.CENTER</td>
</tr>
<tr>
<td style="text-align:left">onvalue/offvalue</td>
<td style="text-align:left">设置 Checkbutton 的状态值。</td>
<td style="text-align:left">onvalue = 1, offvalue = 0</td>
</tr>
<tr>
<td style="text-align:left">padx/pady</td>
<td style="text-align:left">设置选择框在x轴/y轴方向上的内边距，默认为1像素</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">relief</td>
<td style="text-align:left">边框样式，设置控件3D效果，可选的有：flat(默认)、sunken、raised、groove、ridge。</td>
<td style="text-align:left">relief=”flat”</td>
</tr>
<tr>
<td style="text-align:left">relief=”raised”</td>
<td style="text-align:left">选中后的颜色。</td>
<td style="text-align:left">selectcolor=”red”</td>
</tr>
<tr>
<td style="text-align:left">state</td>
<td style="text-align:left">设置选择框组件状态,可选的有normal(默认)、active、 disabled。</td>
<td style="text-align:left">state=”disabled”</td>
</tr>
<tr>
<td style="text-align:left">underline</td>
<td style="text-align:left">下划线。</td>
<td style="text-align:left">有些小问题。underline=0</td>
</tr>
<tr>
<td style="text-align:left">text</td>
<td style="text-align:left">选择框的文本内容</td>
<td style="text-align:left">text=”…”</td>
</tr>
<tr>
<td style="text-align:left">variable</td>
<td style="text-align:left">变量，variable 的值为 1 或 0，代表着选中或不选中</td>
<td style="text-align:left">v = tkinter.IntVar() <br> c = tkinter.Checkbutton(root, variable = v)</td>
</tr>
</tbody>
</table>
<p>常用方法<br>| 方法       | 描述                                                                       |<br>|:———- |:————————————————————————– |<br>| deselect() | 清除复选框选中选项。                                                       |<br>| flash()    | 在激活状态颜色和正常颜色之间闪烁几次单选按钮，但保持它开始时的状态。       |<br>| invoke()   | 可以调用此方法来获得与用户单击单选按钮以更改其状态时发生的操作相同的操作。 |<br>| select()   | 设置按钮为选中。                                                           |<br>| toggle()   | 选中与没有选中的选项互相切换。                                             |</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter</span><br><span class="line"></span><br><span class="line">root = tkinter.Tk()         <span class="comment"># 生成窗口</span></span><br><span class="line"></span><br><span class="line">GIRLS = [<span class="string">'西施'</span>, <span class="string">'貂蝉'</span>, <span class="string">'王昭君'</span>, <span class="string">'杨玉环'</span>]</span><br><span class="line">v = []        <span class="comment"># 表示按钮是否被选中</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> girl <span class="keyword">in</span> GIRLS:</span><br><span class="line">    v.append(tkinter.IntVar())</span><br><span class="line">    b = tkinter.Checkbutton(root, text=girl, variable=v[<span class="number">-1</span>])</span><br><span class="line">    b.pack(anchor=<span class="string">'w'</span>)</span><br><span class="line"></span><br><span class="line">tkinter.mainloop()</span><br></pre></td></tr></table></figure>
<p><img src="/2018/08/08/Python学习笔记——GUI编程/TkinterCheckButton.PNG" alt=""></p>
<hr>
<h3 id="Radiobutton"><a href="#Radiobutton" class="headerlink" title="Radiobutton"></a>Radiobutton</h3><p>单选按钮控件，显示一个单选的按钮状态。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/08/Python学习笔记——GUI编程/" data-id="cjlcbuf8d000d9outjx2aspru" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——异常处理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/07/Python学习笔记——异常处理/" class="article-date">
  <time datetime="2018-08-07T14:22:19.000Z" itemprop="datePublished">2018-08-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/07/Python学习笔记——异常处理/">Python学习笔记——异常处理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Python标准异常总结"><a href="#Python标准异常总结" class="headerlink" title="Python标准异常总结"></a>Python标准异常总结</h3><table>
<thead>
<tr>
<th style="text-align:left">异常</th>
<th style="text-align:left">异常说明</th>
<th style="text-align:center">出现程度</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">AssertionError</td>
<td style="text-align:left">断言语句（assert）失败</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">AttributeError</td>
<td style="text-align:left">尝试访问未知的对象属性</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">EOFError</td>
<td style="text-align:left">用户输入文件末尾标志EOF（Ctrl+d）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">FloatingPointError</td>
<td style="text-align:left">浮点计算错误</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">GeneratorExit</td>
<td style="text-align:left">generator.close()方法被调用的时候</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">ImportError</td>
<td style="text-align:left">导入模块失败的时候</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">IndexError</td>
<td style="text-align:left">索引超出序列的范围</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">KeyError</td>
<td style="text-align:left">字典中查找一个不存在的关键字</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">KeyboardInterrupt</td>
<td style="text-align:left">用户输入中断键（Ctrl+c）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">MemoryError</td>
<td style="text-align:left">内存溢出（可通过删除对象释放内存）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">NameError</td>
<td style="text-align:left">尝试访问一个不存在的变量</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">NotImplementedError</td>
<td style="text-align:left">尚未实现的方法</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">OSError</td>
<td style="text-align:left">操作系统产生的异常（例如打开一个不存在的文件）</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">OverflowError</td>
<td style="text-align:left">数值运算超出最大限制</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">ReferenceError</td>
<td style="text-align:left">弱引用（weak reference）试图访问一个已经被垃圾回收机制回收了的对象</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">RuntimeError</td>
<td style="text-align:left">一般的运行时错误</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">StopIteration</td>
<td style="text-align:left">迭代器没有更多的值</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">SyntaxError</td>
<td style="text-align:left">Python的语法错误</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">IndentationError</td>
<td style="text-align:left">缩进错误</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">TabError</td>
<td style="text-align:left">Tab和空格混合使用</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">SystemError</td>
<td style="text-align:left">Python编译器系统错误</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">SystemExit</td>
<td style="text-align:left">Python编译器进程被关闭</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">TypeError</td>
<td style="text-align:left">不同类型间的无效操作</td>
<td style="text-align:center">常见</td>
</tr>
<tr>
<td style="text-align:left">UnboundLocalError</td>
<td style="text-align:left">访问一个未初始化的本地变量（NameError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">UnicodeError</td>
<td style="text-align:left">Unicode相关的错误（ValueError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">UnicodeEncodeError</td>
<td style="text-align:left">Unicode编码时的错误（UnicodeError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">UnicodeDecodeError</td>
<td style="text-align:left">Unicode解码时的错误（UnicodeError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">UnicodeTranslateError</td>
<td style="text-align:left">Unicode转换时的错误（UnicodeError的子类）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">ValueError</td>
<td style="text-align:left">传入无效的参数</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:left">ZeroDivisionError</td>
<td style="text-align:left">除数为零</td>
<td style="text-align:center">常见</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><p>捕捉异常可以使用try/except语句。</p>
<p>try/except语句用来检测try语句块中的错误，从而让except语句捕获异常信息并处理。</p>
<p>如果你不想在异常发生时结束你的程序，只需在try里捕获它。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  &lt;语句块&gt;       <span class="comment"># 运行代码</span></span><br><span class="line"><span class="keyword">except</span> &lt;异常名&gt; [<span class="keyword">as</span> reason]:</span><br><span class="line">  &lt;语句块&gt;       <span class="comment"># 出现错误时执行的语句</span></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">  &lt;语句块&gt;        <span class="comment"># 无论都会被执行的代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = open(<span class="string">"一个错误的文件.txt"</span>)</span><br><span class="line">    print(f.read())</span><br><span class="line">    f.close()</span><br><span class="line"><span class="keyword">except</span> OSError <span class="keyword">as</span> reason:</span><br><span class="line">    print(<span class="string">'文件出错！错误原因是：'</span> + str(reason))    <span class="comment"># 打印异常名</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">文件出错！错误原因是：[Errno <span class="number">2</span>] No such file <span class="keyword">or</span> directory: <span class="string">'一个错误的文件.txt'</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="触发异常"><a href="#触发异常" class="headerlink" title="触发异常"></a>触发异常</h3><p>我们可以使用raise语句自己触发异常。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line"><span class="keyword">raise</span> [Exception [, args [, traceback]]]</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="用户自定义异常类型"><a href="#用户自定义异常类型" class="headerlink" title="用户自定义异常类型"></a>用户自定义异常类型</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自定义异常类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Networkerror</span><span class="params">(RuntimeError)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arg)</span>:</span></span><br><span class="line">        self.args = arg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 触发该异常，如下所示：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">raise</span> Networkerror(<span class="string">"Bad hostname"</span>)</span><br><span class="line"><span class="keyword">except</span> Networkerror,e:</span><br><span class="line">    <span class="keyword">print</span> e.args</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/07/Python学习笔记——异常处理/" data-id="cjlcbuf8w000n9out5kfvan1e" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——常用模块" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/07/Python学习笔记——常用模块/" class="article-date">
  <time datetime="2018-08-07T08:25:42.000Z" itemprop="datePublished">2018-08-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/07/Python学习笔记——常用模块/">Python学习笔记——常用模块</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="Python模块篇"><a href="#Python模块篇" class="headerlink" title="Python模块篇"></a>Python模块篇</h2><hr>
<h3 id="模块导入"><a href="#模块导入" class="headerlink" title="模块导入"></a>模块导入</h3><h4 id="import语句"><a href="#import语句" class="headerlink" title="import语句"></a>import语句</h4><p>在文件顶部位置导入模块，然后使用。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line"><span class="keyword">import</span> module_name          <span class="comment"># 导入一个模块，同一个模块只会被导入一次</span></span><br><span class="line"></span><br><span class="line">module_name.function()          <span class="comment"># 调用模块中的指定方法</span></span><br></pre></td></tr></table></figure></p>
<h3 id="from-…-import-语句"><a href="#from-…-import-语句" class="headerlink" title="from … import * 语句"></a>from … import * 语句</h3><p>不适用于大文件，容易重名冲突。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> *    <span class="comment"># 导入名为module_name的模块</span></span><br><span class="line"></span><br><span class="line">function()       <span class="comment"># 直接使用模块中的方法即可</span></span><br></pre></td></tr></table></figure></p>
<h3 id="dir-函数"><a href="#dir-函数" class="headerlink" title="dir()函数"></a>dir()函数</h3><p>返回模块中所有方法。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dir(module_name)</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="random模块"><a href="#random模块" class="headerlink" title="random模块"></a>random模块</h3><p>random模块主要用于生成随机数，由梅森旋转算法生成的伪随机数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">函数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">seed(N)</td>
<td style="text-align:left">初始化给定的随机数种子，默认为当前系统时间</td>
</tr>
<tr>
<td style="text-align:left">random()</td>
<td style="text-align:left">生成一个[0,1)之间的随机小数，与随机数种子有关</td>
</tr>
<tr>
<td style="text-align:left">randint(a,b)</td>
<td style="text-align:left">生成一个[a,b]之间的整数</td>
</tr>
<tr>
<td style="text-align:left">randrange(m,n[,k])</td>
<td style="text-align:left">生成一个[m,n)之间以k为步长的随机整数</td>
</tr>
<tr>
<td style="text-align:left">getrandbits(k)</td>
<td style="text-align:left">生成一个k比特长的随机整数</td>
</tr>
<tr>
<td style="text-align:left">uniform(a,b)</td>
<td style="text-align:left">生成一个[a,b]之间的随机小数</td>
</tr>
<tr>
<td style="text-align:left">choice(list)</td>
<td style="text-align:left">从序列中随机选择一个元素</td>
</tr>
<tr>
<td style="text-align:left">shuffle(list)</td>
<td style="text-align:left">将序列seq中元素随机排列,返回打乱后的序列</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h3><hr>
<h3 id="jieba模块"><a href="#jieba模块" class="headerlink" title="jieba模块"></a>jieba模块</h3><hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/07/Python学习笔记——常用模块/" data-id="cjlcbuf8r000j9out751nmzte" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——IO编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/07/Python学习笔记——IO编程/" class="article-date">
  <time datetime="2018-08-07T06:19:49.000Z" itemprop="datePublished">2018-08-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/07/Python学习笔记——IO编程/">Python学习笔记——IO编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>IO在计算机中指Input/Output，也就是输入和输出。</p>
<p>这里讲的是对文件的Strea流m处理。</p>
<hr>
<h3 id="open-方法"><a href="#open-方法" class="headerlink" title="open()方法"></a>open()方法</h3><p>文件对象方法：<br>| 文件对象方法        | 执行操作                                                                                      |<br>|:——————- |:——————————————————————————————— |<br>| f.close()           | 关闭文件                                                                                      |<br>| f.read(size = -1)   | 以文件读取size个字符，当为给定size值或给定负值的时候，读取剩余所有的字符，然后作为字符串返回  |<br>| f.readline()        | 以写入模式打开，如果文件存在，则在末尾追加写入                                                |<br>| f.write(str)        | 将字符串成str写入文件                                                                         |<br>| f.writelines(seq)   | 向文件吸入字符串序列seq，seq应该是一个返回字符串的可迭代对象                                  |<br>| f.seek(offset,from) | 当文件找那个移动文件指针，从from(0表示其实位置，1表示当前位置，2表示文件末尾)偏移offset个字节 |<br>| f.tell()            | 返回当前在文件中的为位置                                                                      |</p>
<hr>
<h4 id="读文件-调用open-方法"><a href="#读文件-调用open-方法" class="headerlink" title="读文件: 调用open()方法"></a>读文件: 调用open()方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file = open(file, mode=<span class="string">'r'</span>, buffering=<span class="number">-1</span>, encoding=<span class="keyword">None</span>, errors=<span class="keyword">None</span>, newline=<span class="keyword">None</span>, closefd=<span class="keyword">True</span>, opener=<span class="keyword">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># file: 文件路径</span></span><br><span class="line"><span class="comment"># mode: 打开模式</span></span><br><span class="line"><span class="comment"># encoding: 读取指定编码的文件</span></span><br><span class="line"><span class="comment"># errors: 是否忽略错误提醒</span></span><br></pre></td></tr></table></figure>
<p>mode参数如下：<br>| 打开模式 | 执行操作                                   |<br>|:——–:|:—————————————— |<br>|   ‘r’    | 以只读方式打开文件(默认)                   |<br>|   ‘w’    | 以写入的方式打开文件，会覆盖已存在的文件   |<br>|   ‘x’    | 创建一个新文件并打开它进行写入             |<br>|   ‘a’    | 打开写入，如果文件存在，则追加到文件的末尾 |<br>|   ‘b’    | 以二进制模式打开                           |<br>|   ‘t’    | 以文本模式打开文件(默认)                   |<br>|   ‘+’    | 打开磁盘文件进行更新（读写）               |<br>|   ‘U’    | 通用换行模式                               |</p>
<p>实例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>file = open(<span class="string">r'D:\blog\source\_posts\Python学习笔记——IO编程\test.txt'</span>, <span class="string">'r'</span>)        <span class="comment"># 使用'r'模式打开文件</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.read()</span><br><span class="line"></span><br><span class="line"><span class="string">'#include &lt;iostream&gt;\nusing namespace std;\nint main()&#123;\n\tcout &lt;&lt; "Hello, world!" &lt;&lt; endl;\n&#125;'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.read()     <span class="comment"># 此时文件指针处于文件末尾，再次读取将没有内容</span></span><br><span class="line"></span><br><span class="line"><span class="string">''</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.tell()     <span class="comment"># 当前文件指针的位置</span></span><br><span class="line"></span><br><span class="line"><span class="number">92</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.seek(<span class="number">0</span>,<span class="number">0</span>)    <span class="comment"># 设置文件指针为文件头</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(file)        <span class="comment"># 将文件内容转为列表类型</span></span><br><span class="line"></span><br><span class="line">[<span class="string">'#include &lt;iostream&gt;\n'</span>, <span class="string">'using namespace std;\n'</span>, <span class="string">'int main()&#123;\n'</span>, <span class="string">'\tcout &lt;&lt; "Hello, world!" &lt;&lt; endl;\n'</span>, <span class="string">'&#125;'</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.seek(<span class="number">0</span>,<span class="number">0</span>)      <span class="comment"># 每当遍历一次文件，文件指针就会改变</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> each_line <span class="keyword">in</span> file:      <span class="comment"># 官方高效率遍历文件的方法</span></span><br><span class="line">    print(each_line)</span><br><span class="line"></span><br><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"Hello, world!"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.close()      <span class="comment"># 记得关闭文件</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="写文件-调用open-方法，设置打开模式为’w’，调用f-write-等方法写入内容"><a href="#写文件-调用open-方法，设置打开模式为’w’，调用f-write-等方法写入内容" class="headerlink" title="写文件: 调用open()方法，设置打开模式为’w’，调用f.write()等方法写入内容"></a>写文件: 调用open()方法，设置打开模式为’w’，调用f.write()等方法写入内容</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>file = open(file_name, <span class="string">'w'</span>)     <span class="comment"># 新建一个名为"file_name"的可读写文件，可以指定文件编码格式</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list = [<span class="string">'123'</span>, <span class="string">'234'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str = <span class="string">'456'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.writelines(list)     <span class="comment"># 将list写入文件中</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.wirte(str)       <span class="comment"># 写入字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.close            <span class="comment"># 记得关闭文件，确保缓存中还未写入磁盘的数据全部写入吸盘。</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="os模块"><a href="#os模块" class="headerlink" title="os模块"></a>os模块</h3><p>os模块，系统文件操作模块。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">函数名</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">getcwd()</td>
<td style="text-align:left">获取当前文件路径</td>
</tr>
<tr>
<td style="text-align:left">rename(path)</td>
<td style="text-align:left">重命名文件</td>
</tr>
<tr>
<td style="text-align:left">chdir(path)</td>
<td style="text-align:left">改变当前工作目录</td>
</tr>
<tr>
<td style="text-align:left">mkdir(path)</td>
<td style="text-align:left">创建单层目录</td>
</tr>
<tr>
<td style="text-align:left">makedirs(path)</td>
<td style="text-align:left">创建多层目录</td>
</tr>
<tr>
<td style="text-align:left">rmdir(path)</td>
<td style="text-align:left">删除空目录</td>
</tr>
<tr>
<td style="text-align:left">remove(path)</td>
<td style="text-align:left">删除指定文件</td>
</tr>
<tr>
<td style="text-align:left">system(command)</td>
<td style="text-align:left">运行系统shell命令</td>
</tr>
<tr>
<td style="text-align:left">os.curdir</td>
<td style="text-align:left">指代当前目录</td>
</tr>
<tr>
<td style="text-align:left">os.pardir</td>
<td style="text-align:left">指代上一级目录</td>
</tr>
<tr>
<td style="text-align:left">os.sep</td>
<td style="text-align:left">输出操作系统特定的路径分隔符(win下为’\\‘，Linux下为’/‘)</td>
</tr>
<tr>
<td style="text-align:left">os.linesep</td>
<td style="text-align:left">当前平台的终止符(win下为’\r\n’，Linux下为’\n’)</td>
</tr>
<tr>
<td style="text-align:left">os.name</td>
<td style="text-align:left">指代当前使用的操作系统</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&gt;&gt;&gt; os.getcwd()       <span class="comment"># 当前目录</span></span><br><span class="line"><span class="string">'D:\\Python'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.chdir(<span class="string">r'F:\python'</span>)    <span class="comment"># 修改当前目录</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.mkdir(<span class="string">'test'</span>)          <span class="comment"># 在当前目录下新建文件</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.makedirs(<span class="string">r'F:\python\test2\test2'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.rename(<span class="string">'test'</span>, <span class="string">'t'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir()</span><br><span class="line">[<span class="string">'.idea'</span>, <span class="string">'t'</span>, <span class="string">'CalCircle.py'</span>, <span class="string">'curver.ico'</span>, <span class="string">'FindMaxAndMin.py'</span>, <span class="string">'helloName.py'</span>, <span class="string">'KochDrawV1.py'</span>, <span class="string">'PythonDraw.py'</span>, <span class="string">'Python打飞机小游戏'</span>, <span class="string">'StarDraw.py'</span>, <span class="string">'TangentCirclesDraw.py'</span>, <span class="string">'TempConvert.py'</span>, <span class="string">'test'</span>, <span class="string">'Test.py'</span>, <span class="string">'TestIDLE.py'</span>, <span class="string">'TextProBarV1.py'</span>, <span class="string">'TimeDraw.py'</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.system(<span class="string">'cmd'</span>)      <span class="comment"># 运行命令行</span></span><br><span class="line"></span><br><span class="line"><span class="number">-1073741510</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.system(<span class="string">'calc'</span>)     <span class="comment"># 打开计算器功能</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="pickle-模块-泡菜"><a href="#pickle-模块-泡菜" class="headerlink" title="pickle 模块(泡菜)"></a>pickle 模块(泡菜)</h3><p>Python数据永久储存，将对象以文件的形式存放在磁盘上。该文件只能在python中使用。</p>
<p>pickle序列化后的数据，可读性差，人一般无法识别。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>my_list = [<span class="number">123</span>, <span class="number">3.14</span>, <span class="string">'test'</span>, [<span class="string">'python'</span>, <span class="string">'list'</span>]]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pickle_file = open(<span class="string">'my_list.pkl'</span>, <span class="string">'wb'</span>)     <span class="comment"># 新建一个特殊文件，二进制可读写</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pickle.dump(my_list, pickle_file)     <span class="comment"># 将对象保存到文件pickle_file中</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pickle_file.close()</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pickle_file = open(<span class="string">'my_list.pkl'</span>, <span class="string">'rb'</span>)       <span class="comment"># 用二进制只读方式打开</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>my_list2 = pickle.load(pickle_file)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(my_list2)</span><br><span class="line"></span><br><span class="line">[<span class="number">123</span>, <span class="number">3.14</span>, <span class="string">'test'</span>, [<span class="string">'python'</span>, <span class="string">'list'</span>]]</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="StringIO-模块"><a href="#StringIO-模块" class="headerlink" title="StringIO 模块"></a>StringIO 模块</h3><p>StringIO顾名思义就是在内存中以IO流方式读写str。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> io <span class="keyword">import</span> StringIO</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = StringIO()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">'hello'</span>)</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">' '</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">'world!'</span>)</span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.getvalue()</span><br><span class="line"><span class="string">'hello world!'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = StringIO(<span class="string">'Hello!\nHi!\nGoodbye!'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"><span class="meta">... </span>    s = f.readline()</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> s == <span class="string">''</span>:</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">break</span></span><br><span class="line"><span class="meta">... </span>    print(s.strip())</span><br><span class="line">...</span><br><span class="line">Hello!</span><br><span class="line">Hi!</span><br><span class="line">Goodbye!</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="BytesIO-模块"><a href="#BytesIO-模块" class="headerlink" title="BytesIO 模块"></a>BytesIO 模块</h3><p>BytesIO实现了在内存中读写bytes，实现二进制数据操作。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = BytesIO()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.write(<span class="string">'中文'</span>.encode(<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(f.getvalue())</span><br><span class="line"><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = BytesIO(<span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.read()</span><br><span class="line"><span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span></span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/07/Python学习笔记——IO编程/" data-id="cjlcbuf7l00039outggpa2tzx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——打飞机小游戏" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/05/Python学习笔记——打飞机小游戏/" class="article-date">
  <time datetime="2018-08-05T09:25:34.000Z" itemprop="datePublished">2018-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/05/Python学习笔记——打飞机小游戏/">Python学习笔记——打飞机小游戏</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="Python实例——打飞机小游戏开发"><a href="#Python实例——打飞机小游戏开发" class="headerlink" title="Python实例——打飞机小游戏开发"></a>Python实例——打飞机小游戏开发</h2><p>打飞机小游戏逻辑如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">加载背景音乐</span><br><span class="line">播放背景音乐（设置单曲循环）</span><br><span class="line">我方飞机诞生</span><br><span class="line">interval = 0		# 间隔</span><br><span class="line"></span><br><span class="line">while True:</span><br><span class="line">	if 用户是否点击了关闭按钮：</span><br><span class="line">		退出程序</span><br><span class="line"></span><br><span class="line">	interval += 1</span><br><span class="line">	if interval == 50:</span><br><span class="line">		interval = 0</span><br><span class="line">		小飞机诞生</span><br><span class="line"></span><br><span class="line">	小飞机移动一个位置</span><br><span class="line">	屏幕刷新</span><br><span class="line"></span><br><span class="line">	if 用户鼠标产生移动:</span><br><span class="line">		我方飞机中心位置 = 用户鼠标位置</span><br><span class="line">		屏幕刷新</span><br><span class="line"></span><br><span class="line">	if 我方飞机与小飞机发生肢体冲突:</span><br><span class="line">		我方败，播放撞机音乐</span><br><span class="line">		修改我方飞机图案</span><br><span class="line">		打印“Game over”</span><br><span class="line">		停止背景音乐，最好淡出</span><br></pre></td></tr></table></figure></p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/05/Python学习笔记——打飞机小游戏/" data-id="cjlcbuf9d000v9out1vyihw9v" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python学习笔记——图形绘制" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/29/Python学习笔记——图形绘制/" class="article-date">
  <time datetime="2018-07-29T15:44:04.000Z" itemprop="datePublished">2018-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/29/Python学习笔记——图形绘制/">Python学习笔记——图形绘制</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="Python图形绘制——turtle库使用"><a href="#Python图形绘制——turtle库使用" class="headerlink" title="Python图形绘制——turtle库使用"></a>Python图形绘制——turtle库使用</h2><p><img src="/2018/07/29/Python学习笔记——图形绘制/turtle.png" alt=""></p>
<hr>
<p>要使用turtle库，需要导入先turtle库<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="设置画布大小"><a href="#设置画布大小" class="headerlink" title="设置画布大小"></a>设置画布大小</h3><p>画布就是turtle为我们展开用于绘图区域，我们可以设置它的大小和初始位置。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">语法<span class="number">1</span>：</span><br><span class="line">turtle.screensize(canvwidth=<span class="keyword">None</span>, canvheight=<span class="keyword">None</span>, bg=<span class="keyword">None</span>)</span><br><span class="line"></span><br><span class="line">参数:</span><br><span class="line">canvwidth：画布的宽(单位像素)，可为空，默认<span class="number">400</span>px</span><br><span class="line">canvheight：画布的高(单位像素)，可为空，默认<span class="number">300</span>px</span><br><span class="line">bg：背景颜色，可为空，默认白色</span><br><span class="line"></span><br><span class="line">语法<span class="number">2</span>：</span><br><span class="line">turtle.setup(width=<span class="number">0.5</span>, height=<span class="number">0.75</span>, startx=<span class="keyword">None</span>, starty=<span class="keyword">None</span>)</span><br><span class="line"></span><br><span class="line">参数:</span><br><span class="line">width, height: 画布的宽和高，为整数时, 表示像素; 为小数时, 表示占据电脑屏幕的比例。不可为空。</span><br><span class="line">startx, starty: 画布距离左上角顶点的位置，如果为空，则窗口位于屏幕中心</span><br></pre></td></tr></table></figure></p>
<p>案例：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">turtle.screensize(<span class="number">800</span>, <span class="number">600</span>, <span class="string">"green"</span>)      <span class="comment"># 自定义画布宽为800px，高为600px，背景被绿色</span></span><br><span class="line">turtle.screensize()         <span class="comment">#返回默认大小宽400px，高300px，背景白色</span></span><br><span class="line"></span><br><span class="line">turtle.setup(<span class="number">0.6</span>, <span class="number">0.6</span>)</span><br><span class="line">turtle.setup(<span class="number">800</span>, <span class="number">800</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="turtle空间坐标体系"><a href="#turtle空间坐标体系" class="headerlink" title="turtle空间坐标体系"></a>turtle空间坐标体系</h3><ol>
<li><p>绝对坐标体系：画布中心是(0,0)就是我们初中就开始学的绝对坐标体系</p>
</li>
<li><p>相对坐标体系，turtle是海龟，头部朝向左侧为正，右侧朝向为负的一个体系</p>
</li>
</ol>
<hr>
<h3 id="turtle角度坐标体系"><a href="#turtle角度坐标体系" class="headerlink" title="turtle角度坐标体系"></a>turtle角度坐标体系</h3><p><img src="/2018/07/29/Python学习笔记——图形绘制/angle.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">turtle.seth(angle)      <span class="comment"># 将turtle当前的方向设置为绝对坐标下的angle角度</span></span><br><span class="line"></span><br><span class="line">turtle.left(angle)      <span class="comment"># 将turtle朝向设置为海龟当前朝向左侧的angle</span></span><br><span class="line"></span><br><span class="line">turtle.right(angle)     <span class="comment"># 将turtle朝向设置为海龟当前朝向右侧的angle</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="turtle的运动控制函数"><a href="#turtle的运动控制函数" class="headerlink" title="turtle的运动控制函数"></a>turtle的运动控制函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">turtle.fd(d)              <span class="comment"># 走直线，行进距离是d</span></span><br><span class="line">turtle.circle(r,angle)    <span class="comment"># 绘制一个弧形，r是半径，angle是弧形的角度，如果r是正数，则表示圆心在tutle的左侧，如果r是负数，则表示圆心在turtle的右侧</span></span><br><span class="line">turtle.speed(x)           <span class="comment"># x的取值从0到10，越大速度越快</span></span><br><span class="line">turtle.goto(x,y)          <span class="comment"># 可以把画笔直接移动到绝对坐标体系的某一个点</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="turtle颜色控制体系"><a href="#turtle颜色控制体系" class="headerlink" title="turtle颜色控制体系"></a>turtle颜色控制体系</h3><p>RGB色彩模式，RGB每色取值范围0-255整数或0-1小数。默认采用小数值，可切换为整数值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">turtle.colormode(mode)      <span class="comment"># mode为1，表示用0-1小数表示；mode为255，表示用0-255整数表示</span></span><br></pre></td></tr></table></figure>
<h4 id="常用RGB色彩"><a href="#常用RGB色彩" class="headerlink" title="常用RGB色彩"></a>常用RGB色彩</h4><table>
<thead>
<tr>
<th>英文名称</th>
<th style="text-align:left">RGB整数值</th>
<th style="text-align:center">RGB小数值</th>
<th style="text-align:right">中文名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>white</td>
<td style="text-align:left">255,255,255</td>
<td style="text-align:center">1,1,1</td>
<td style="text-align:right">白色</td>
</tr>
<tr>
<td>yellow</td>
<td style="text-align:left">255,255,0</td>
<td style="text-align:center">1,1,0</td>
<td style="text-align:right">黄色</td>
</tr>
<tr>
<td>magenta</td>
<td style="text-align:left">255,0,255</td>
<td style="text-align:center">1,0,1</td>
<td style="text-align:right">洋红</td>
</tr>
<tr>
<td>cyan</td>
<td style="text-align:left">0,255,255</td>
<td style="text-align:center">0,1,1</td>
<td style="text-align:right">青色</td>
</tr>
<tr>
<td>blue</td>
<td style="text-align:left">0,0,255</td>
<td style="text-align:center">0,0,1</td>
<td style="text-align:right">蓝色</td>
</tr>
<tr>
<td>black</td>
<td style="text-align:left">0,0,0</td>
<td style="text-align:center">0,0,0</td>
<td style="text-align:right">黑色</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="turtle画笔控制"><a href="#turtle画笔控制" class="headerlink" title="turtle画笔控制"></a>turtle画笔控制</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># turtle画笔默认首先在中心的位置。并且画笔是放下状态</span></span><br><span class="line">turtle.penup()          <span class="comment"># 抬起画笔</span></span><br><span class="line">turtle.pendown()        <span class="comment"># 放下画笔</span></span><br><span class="line">turtle.pensize()        <span class="comment"># 设置画笔的粗细</span></span><br><span class="line">turtle.pencolor()       <span class="comment"># 设置画笔的颜色，str类型颜色字符串，RGB表示</span></span><br><span class="line">turtle.done()           <span class="comment"># 表示状态，使得运行完之后画布不会自动退出</span></span><br><span class="line">turtle.write(c,font=(“Arial”,<span class="number">18</span>,”normal”))      <span class="comment"># 来写文字c，包括汉字</span></span><br><span class="line">turtle.hideturtle()     <span class="comment"># 函数可以隐藏turtle的的画笔</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="实例1：python蟒蛇绘制"><a href="#实例1：python蟒蛇绘制" class="headerlink" title="实例1：python蟒蛇绘制"></a>实例1：python蟒蛇绘制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line">turtle.setup(<span class="number">650</span>, <span class="number">350</span>, <span class="number">200</span>, <span class="number">200</span>)    <span class="comment"># 画布长650像素，宽350像素，距离左上角定点200像素，200像素</span></span><br><span class="line">turtle.penup()                      <span class="comment"># 提起笔</span></span><br><span class="line">turtle.fd(<span class="number">-250</span>)                     <span class="comment"># 向前移动-250像素</span></span><br><span class="line">turtle.pendown()                    <span class="comment"># 落笔</span></span><br><span class="line">turtle.pensize(<span class="number">25</span>)                  <span class="comment"># 设置笔宽度为25像素</span></span><br><span class="line">turtle.pencolor(<span class="string">"purple"</span>)           <span class="comment"># 设置笔颜色为紫色</span></span><br><span class="line">turtle.seth(<span class="number">-40</span>)                    <span class="comment"># 角度偏向-40度</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">    turtle.circle(<span class="number">40</span>, <span class="number">80</span>)           <span class="comment"># 半径为40，角度为80度，逆时针画圆弧</span></span><br><span class="line">    turtle.circle(<span class="number">-40</span>, <span class="number">80</span>)</span><br><span class="line">turtle.circle(<span class="number">40</span>, <span class="number">40</span>)</span><br><span class="line">turtle.fd(<span class="number">40</span>)                       <span class="comment"># 向前40像素</span></span><br><span class="line">turtle.circle(<span class="number">20</span>, <span class="number">180</span>)</span><br><span class="line">turtle.fd(<span class="number">40</span> * <span class="number">2</span> / <span class="number">3</span>)</span><br><span class="line">turtle.done()                       <span class="comment"># 运行完之后画布不会自动退出</span></span><br></pre></td></tr></table></figure>
<p><img src="/2018/07/29/Python学习笔记——图形绘制/pythonDraw.gif" alt=""></p>
<h4 id="实例2-绘制多个同切圆"><a href="#实例2-绘制多个同切圆" class="headerlink" title="实例2 绘制多个同切圆"></a>实例2 绘制多个同切圆</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line">turtle.pensize(<span class="number">2</span>)   <span class="comment"># 设置画笔宽度</span></span><br><span class="line">turtle.circle(<span class="number">10</span>)   <span class="comment"># 画圆，半径为正(负)，表示圆心在画笔的左边(右边)画圆</span></span><br><span class="line">turtle.circle(<span class="number">40</span>)</span><br><span class="line">turtle.circle(<span class="number">80</span>)</span><br><span class="line">turtle.circle(<span class="number">160</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2018/07/29/Python学习笔记——图形绘制/Gif.gif" alt=""></p>
<h4 id="实例3-绘制五角星"><a href="#实例3-绘制五角星" class="headerlink" title="实例3 绘制五角星"></a>实例3 绘制五角星</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> turtle <span class="keyword">import</span> *</span><br><span class="line">color(<span class="string">'red'</span>, <span class="string">'red'</span>)     <span class="comment"># 第一个是线条颜色，第二个是填充颜色</span></span><br><span class="line">begin_fill()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">    fd(<span class="number">200</span>)     <span class="comment"># 控制长度</span></span><br><span class="line">    rt(<span class="number">144</span>)     <span class="comment"># 角度</span></span><br><span class="line">end_fill()</span><br><span class="line">done()</span><br></pre></td></tr></table></figure>
<p><img src="/2018/07/29/Python学习笔记——图形绘制/StarDraw.gif" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/29/Python学习笔记——图形绘制/" data-id="cjlcbuf8t000l9outd0dnaele" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-BlueTooth/">Android BlueTooth</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/">book</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/介绍/">介绍</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Android-BlueTooth/" style="font-size: 10px;">Android BlueTooth</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/book/" style="font-size: 10px;">book</a> <a href="/tags/介绍/" style="font-size: 10px;">介绍</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/08/26/Android开发之手机影音/">Android开发之手机影音</a>
          </li>
        
          <li>
            <a href="/2018/08/23/Android蓝牙开发学习/">Android蓝牙开发学习</a>
          </li>
        
          <li>
            <a href="/2018/08/12/Python学习笔记——Pygame游戏开发/">Python学习笔记——Pygame游戏开发</a>
          </li>
        
          <li>
            <a href="/2018/08/09/Python学习笔记——网络爬虫/">Python学习笔记——网络爬虫</a>
          </li>
        
          <li>
            <a href="/2018/08/08/Python学习笔记——GUI编程/">Python学习笔记——GUI编程</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Ai Junhao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>